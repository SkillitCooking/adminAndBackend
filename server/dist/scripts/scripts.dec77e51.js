"use strict";angular.module("SkillitAdminApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","restangular","ui.select"]).constant("_",window._).config(["$routeProvider","RestangularProvider",function(a,b){a.when("/",{templateUrl:"views/recipes.html",controller:"RecipeCtrl",controllerAs:"recipe"}).when("/recipes",{templateUrl:"views/recipes.html",controller:"RecipeCtrl",controllerAs:"recipe"}).when("/editRecipes",{templateUrl:"views/editrecipes.html",controller:"EditRecipesCtrl",controllerAs:"editRecipes"}).when("/ingredients",{templateUrl:"views/ingredients.html",controller:"IngredientCtrl",controllerAs:"ingredient"}).when("/dishes",{templateUrl:"views/dishes.html",controller:"DishesCtrl",controllerAs:"dishes"}).when("/seasoningprofiles",{templateUrl:"views/seasoningprofiles.html",controller:"SeasoningprofilesCtrl",controllerAs:"seasoningprofiles"}).when("/viewAllRecipes",{templateUrl:"views/viewallrecipes.html",controller:"ViewallrecipesCtrl",controllerAs:"viewAllRecipes"}).when("/itemCollections",{templateUrl:"views/itemcollections.html",controller:"ItemcollectionsCtrl",controllerAs:"itemCollections"}).when("/glossaryEntries",{templateUrl:"views/glossaryentries.html",controller:"GlossaryentriesCtrl",controllerAs:"glossaryEntries"}).when("/trainingVideos",{templateUrl:"views/trainingvideos.html",controller:"TrainingvideosCtrl",controllerAs:"trainingVideos"}).when("/howToShopEntry",{templateUrl:"views/howtoshopentry.html",controller:"HowtoshopentryCtrl",controllerAs:"howToShopEntry"}).when("/dailyTips",{templateUrl:"views/dailytips.html",controller:"DailytipsCtrl",controllerAs:"dailyTips"}).when("/article",{templateUrl:"views/article.html",controller:"ArticleCtrl",controllerAs:"article"}).when("/lesson",{templateUrl:"views/lesson.html",controller:"LessonCtrl",controllerAs:"lesson"}).when("/chapter",{templateUrl:"views/chapter.html",controller:"ChapterCtrl",controllerAs:"chapter"}).when("/editIngredients",{templateUrl:"views/editingredients.html",controller:"EditIngredientsCtrl",controllerAs:"editIngredients"}).when("/editArticles",{templateUrl:"views/editarticles.html",controller:"EditArticlesCtrl",controllerAs:"editArticles"}).when("/editLessons",{templateUrl:"views/editlessons.html",controller:"EditLessonsCtrl",controllerAs:"editLessons"}).when("/editChapter",{templateUrl:"views/editchapter.html",controller:"EditChapterCtrl",controllerAs:"editChapter"}).when("/editDailyTips",{templateUrl:"views/editdailytips.html",controller:"EditDailytipsCtrl",controllerAs:"editDailyTips"}).when("/editDishes",{templateUrl:"views/editdishes.html",controller:"EditDishesCtrl",controllerAs:"editDishes"}).when("/editGlossaryEntries",{templateUrl:"views/editglossaryentries.html",controller:"EditGlossaryEntriesCtrl",controllerAs:"editGlossaryEntries"}).when("/editHowToShopEntries",{templateUrl:"views/edithowtoshopentries.html",controller:"EditHowToShopEntriesCtrl",controllerAs:"editHowToShopEntries"}).when("/editItemCollections",{templateUrl:"views/edititemcollections.html",controller:"EditItemCollectionsCtrl",controllerAs:"editItemCollections"}).when("/editSeasoningProfiles",{templateUrl:"views/editseasoningprofiles.html",controller:"EditSeasoningProfilesCtrl",controllerAs:"editSeasoningProfiles"}).when("/editTrainingVideos",{templateUrl:"views/edittrainingvideos.html",controller:"EditTrainingVideosCtrl",controllerAs:"editTrainingVideos"}).when("/dietaryPreferences",{templateUrl:"views/dietarypreferences.html",controller:"DietaryPreferencesCtrl",controllerAs:"dietaryPreferences"}).when("/editDietaryPreferences",{templateUrl:"views/editdietarypreferences.html",controller:"EditDietaryPreferencesCtrl",controllerAs:"editDietaryPreferences"}).when("/editRecipeById",{templateUrl:"views/editrecipebyid.html",controller:"EditrecipebyidCtrl",controllerAs:"editRecipeById"}).when("/healthModifiers",{templateUrl:"views/healthmodifiers.html",controller:"HealthModifiersCtrl",controllerAs:"healthModifiers"}).when("/editHealthModifiers",{templateUrl:"views/edithealthmodifiers.html",controller:"EdithealthmodifiersCtrl",controllerAs:"editHealthModifiers"}).when("/editRecipeAdjectives",{templateUrl:"views/editrecipeadjectives.html",controller:"EditrecipeadjectivesCtrl",controllerAs:"editRecipeAdjectives"}).when("/recipeAdjectives",{templateUrl:"views/recipeadjectives.html",controller:"RecipeadjectivesCtrl",controllerAs:"recipeAdjectives"}).otherwise({redirectTo:"/"}),b.setBaseUrl("https://skillicookingdevapi.info/api"),b.setDefaultHeaders({password:"MDm|C7oQQIm&AZyhx4g7m^+uNGqm$7Ctt2-60O&Ek-%0o!NuLT"})}]),angular.module("SkillitAdminApp").controller("RecipeCtrl",["$window","$scope","compatibilityService","recipeService","seasoningService","ingredientService","dishService","itemCollectionService","recipeAdjectiveService","healthModifierService","_",function(a,b,c,d,e,f,g,h,i,j,k){function l(){var a=Object.keys(b.descriptionDictionary),c=Object.keys(b.nameDictionary);c=c.concat(a);var d=Array.from(new Set(c));return d}b.integerval=/^\d*$/,b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var c=!1;"PRODUCTION"===a&&(c=!0),b.serverType=a,b.nameBodies=angular.copy([]),b.conditionalDescriptions=angular.copy([]),b.nameDictionary=angular.copy({}),b.descriptionDictionary=angular.copy({}),h.getItemCollectionsForType("recipe",c).then(function(a){b.recipeCollections=a.data},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)}),i.getAllRecipeAdjectives(c).then(function(a){b.recipeAdjectives=a.data},function(a){console.log("Server Error: ",a.message),alert("Server Error: ",a.message)}),j.getAllHealthModifiers(c).then(function(a){b.healthModifiers=a.data},function(a){console.log("Server Error: ",a.message),alert("Server Error: ",a.message)}),e.getAllSeasonings(c).then(function(a){b.seasoningProfiles=a.data},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)}),f.getAllIngredients(c).then(function(a){b.ingredients=a},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)}),g.getAllDishes(c).then(function(a){b.dishes=a},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)})},b.reloadStuff("DEVELOPMENT"),b.recipe={canAddSeasoningProfile:!0,mainVideo:{},mainPictureURLs:[]},b.stepTypes=["Bake","Boil","BreakEgg","BringToBoil","Cook","Custom","Cut","Dry","Heat","Move","Place","PreheatOven","Sautee","Season","SlowCook","Serve","Steam","EquipmentPrep","Stir"],b.recipeTypes=["AlaCarte","BYO","Full"],b.recipeCategories=["Sautee","Easy Dinners","Seafood Plates","Scramble","Roast","Pasta","Hash","Rice","Quinoa"],b.cookingMethods=["Bake","Sautee","Boil","Steam","SlowCook"],b.servingSizes=["1-2","2-3","3-4","4-5","5-6","6-7","7-8","8-9","9-10"],b.selectedIngredientForms=[],b.constructingStep={},b.constructingStep.stepInputs={},b.ingredientList={ingredientTypes:[],equipmentNeeded:[]},b.stepList=[],b.logRecipeName=function(){b.originalName=b.recipe.name},b.logStuffy=function(){console.log("conditionalDescriptions: ",b.conditionalDescriptions),console.log("names: ",b.nameBodies),console.log("nameDict: ",b.nameDictionary),console.log("descDict: ",b.descriptionDictionary)},b.addDescription=function(){b.conditionalDescriptions||(b.conditionalDescriptions=[]),b.conditionalDescriptions.push({})},b.removeDescription=function(a){var c=b.conditionalDescriptions[a].description;for(var d in b.descriptionDictionary)for(var e=b.descriptionDictionary[d].length-1;e>=0;e--)b.descriptionDictionary[d][e]===c&&(b.descriptionDictionary[d].splice(e,1),0===b.descriptionDictionary[d].length&&delete b.descriptionDictionary[d]);b.conditionalDescriptions.splice(a,1)},b.addNameBody=function(){b.nameBodies||(b.nameBodies=[]),b.nameBodies.push({})},b.removeNameBody=function(a){var c=b.nameBodies[a].name;for(var d in b.nameDictionary)for(var e=b.nameDictionary[d].length-1;e>=0;e--)b.nameDictionary[d][e]===c&&(b.nameDictionary[d].splice(e,1),0===b.nameDictionary[d].length&&delete b.nameDictionary[d]);b.nameBodies.splice(a,1)},b.updateRecipeName=function(){var a=b.recipe.name.split(" ");if(b.squishedRecipeName=a.join(""),b.stepList)for(var c=b.stepList.length-1;c>=0;c--){b.stepList[c].stepId=b.squishedRecipeName+c;for(var d in b.stepList[c].stepInputs)if(Array.isArray(b.stepList[c].stepInputs[d])){for(var e=b.stepList[c].stepInputs[d].length-1;e>=0;e--)if(b.stepList[c].stepInputs[d][e].sourceId)for(var f=b.stepList.length-1;f>=0;f--)if(b.stepList[f].stepId===b.stepList[c].stepInputs[d][e].sourceId){b.stepList[c].stepInputs[d][e].sourceId=b.squishedRecipeName+f;break}}else{var g=b.stepList;if(b.stepList[c].stepInputs[d].sourceId)for(var e=g.length-1;e>=0;e--)if(g[e].stepId===b.stepList[c].stepInputs[d].sourceId){b.stepList[c].stepInputs[d].sourceId=b.squishedRecipeName+e;break}}}},b.setSelectedIngredientForms=function(a){var c;c=a&&a.ingredientForms?a.ingredientForms.length:0,b.selectedIngredientForms=new Array(c),b.selectedIngredientForms.fill(!0)},b.addCookingMethod=function(){b.recipe.otherCookingMethods||(b.recipe.otherCookingMethods=[]),-1===b.recipe.otherCookingMethods.indexOf(b.otherCookingMethod)&&b.recipe.otherCookingMethods.push(b.otherCookingMethod)},b.removeCookingMethod=function(a){b.recipe.otherCookingMethods.splice(a,1)},b.removePictureURL=function(a){b.recipe.mainPictureURLs.splice(a,1)},b.addPictureURL=function(){b.recipe.mainPictureURLs.push({}),console.log("pics",b.recipe.mainPictureURLs)},b.isAFormSelected=function(){if(0===b.selectedIngredientForms.length)return!1;for(var a=b.selectedIngredientForms.length-1;a>=0;a--)if(b.selectedIngredientForms[a])return!0;return!1},b.ingredientCanBeAdded=function(a){for(var c,d=b.ingredientList.ingredientTypes,e=d.length-1;e>=0;e--){c=d[e].ingredients;for(var f=c.length-1;f>=0;f--)if(c[f].name===a.name)return!1}return!0},b.addTypeIngredient=function(a,c){if(b.ingredientCanBeAdded(c)){for(var d=[],e=c.ingredientForms.length-1;e>=0;e--)b.selectedIngredientForms[e]&&d.push(c.ingredientForms[e]);var f={name:c.name,ingredientForms:d,ingredientTips:c.ingredientTips,inputCategory:c.inputCategory,_id:c._id};b.ingredientList.ingredientTypes[a].ingredients||(b.ingredientList.ingredientTypes[a].ingredients=[]),b.ingredientList.ingredientTypes[a].ingredients.push(f)}},b.removeTypeIngredient=function(a,b){a.ingredients.splice(b,1)},b.removeIngredientType=function(a){b.ingredientList.ingredientTypes.splice(a,1)},b.addIngredientType=function(){b.ingredientList.ingredientTypes||(b.ingredientList.ingredientTypes=[]),b.ingredientList.ingredientTypes.push({typeName:"",displayName:"",ingredients:[],minNeeded:""})},b.addSeasoning=function(){b.recipe.choiceSeasoningProfiles||(b.recipe.choiceSeasoningProfiles=[]),-1===b.recipe.choiceSeasoningProfiles.indexOf(b.availableSeasoning)&&b.recipe.choiceSeasoningProfiles.push(b.availableSeasoning)},b.removeSeasoning=function(a){b.recipe.choiceSeasoningProfiles.splice(a,1)},b.addDish=function(){b.ingredientList.equipmentNeeded||(b.ingredientList.equipmentNeeded=[]),-1===b.ingredientList.equipmentNeeded.indexOf(b.typeDish)&&b.ingredientList.equipmentNeeded.push(b.typeDish)},b.removeDish=function(a){b.ingredientList.equipmentNeeded.splice(a,1)},b.addStep=function(){if(!b.squishedRecipeName){var a=b.recipe.name.split(" ");b.squishedRecipeName=a.join("")}b.constructingStep.stepId=b.squishedRecipeName+k.uniqueId(b.constructingStep.stepType),b.constructingStep.productKeys=[b.constructingStep.productName],b.constructingStep.productName=void 0,b.stepList.push(b.constructingStep),b.constructingStep={},b.constructingStep.stepInputs={}},b.removeStep=function(){b.stepList=b.recipe.stepList=k.dropRight(b.stepList)},b.addCollection=function(){b.recipe.collectionIds||(b.recipe.collectionIds=[]),b.curCollectionId&&""!==b.curCollectionId&&(b.recipe.collectionIds.push(b.curCollectionId),b.curCollectionId="")},b.removeCollection=function(a){b.recipe.collectionIds.splice(a,1)},b.recipeSanityCheck=function(){return(b.useProdServer||b.useDevServer)&&b.recipe.stepList&&0!==b.recipe.stepList.length&&b.recipe.ingredientList&&b.recipe.ingredientList.ingredientTypes&&0!==b.recipe.ingredientList.ingredientTypes.length&&b.recipe.ingredientList.equipmentNeeded&&b.recipe.collectionIds&&0!==b.recipe.collectionIds.length?!0:!1},b.reset=function(){confirm("Are You Sure You Want To reset?")&&a.location.reload(!0)},b.save=function(){b.recipe.ingredientList=b.ingredientList,b.recipe.stepList=b.stepList,b.recipe.canAddSeasoningProfile||(b.recipe.canAddSeasoningProfile=!1),b.recipe.choiceSeasoningProfiles||(b.recipe.choiceSeasoningProfiles=[]);for(var a=b.seasoningProfiles.length-1;a>=0;a--)b.seasoningProfiles[a].useInChoiceSeasonings&&(delete b.seasoningProfiles[a].useInChoiceSeasonings,b.recipe.choiceSeasoningProfiles.push(b.seasoningProfiles[a]));b.recipe.collectionIds||(b.recipe.collectionIds=[]);for(var a=b.recipeCollections.length-1;a>=0;a--)b.recipeCollections[a].useInRecipe&&(delete b.recipeCollections[a].useInRecipe,b.recipe.collectionIds.push(b.recipeCollections[a]._id));var e=l();b.getGlobalCookTimes();for(var f=[],a=0;a<b.recipe.mainPictureURLs.length;a++)f.push(b.recipe.mainPictureURLs[a].url);var g=c.getVersion(b.recipe);d.addNewRecipe({recipe:{name:b.recipe.name,nameBodies:b.nameDictionary,description:b.recipe.description,conditionalDescriptions:b.descriptionDictionary,allowablePrefixIds:e,defaultServingSize:b.recipe.defaultServingSize,recipeType:b.recipe.recipeType,collectionIds:b.recipe.collectionIds,recipeCategory:b.recipe.recipeCategory,ingredientList:b.recipe.ingredientList,stepList:b.recipe.stepList,primaryCookingMethod:b.recipe.primaryCookingMethod,otherCookingMethods:b.recipe.otherCookingMethods,canAddSeasoningProfile:b.recipe.canAddSeasoningProfile,defaultSeasoningProfile:b.recipe.defaultSeasoningProfile,choiceSeasoningProfiles:b.recipe.choiceSeasoningProfiles,primaryIngredientType:b.recipe.primaryIngredientType,mainPictureURL:f[0],mainPictureURLs:f,mainVideo:b.recipe.mainVideo,prepTime:b.recipe.prepTime,totalTime:b.recipe.totalTime,manActiveTime:b.recipe.manActiveTime,manTotalTime:b.recipe.manTotalTime,hasBeenRecipeOfTheDay:!1,datesUsedAsRecipeOfTheDay:[],isRecipeOfTheDay:!1,compatibilityVersion:g}},b.useProdServer,b.useDevServer).then(function(a){a=a[0];var c="Success! Recipe "+a.name+" was saved!";alert(c),b.reset()},function(a){console.log("Server Error: ",a);var c="";for(var d in a)c+=d+": "+a[d]+"\n";alert("Server Error: "+c),b.reset()})},b.isPrepStep=function(a){return["BringToBoil","Custom","Cut","Dry","Heat","Place","PreheatOven","Season","EquipmentPrep","Stir"].includes(a)},b.getGlobalCookTimes=function(){b.recipe.prepTime=0,b.recipe.totalTime=0;for(var a=b.recipe.stepList.length-1;a>=0;a--)b.recipe.totalTime+=parseInt(b.recipe.stepList[a].stepDuration,10),b.isPrepStep(b.recipe.stepList[a].stepType)&&(b.recipe.prepTime+=parseInt(b.recipe.stepList[a].stepDuration,10))},b.preview=function(){b.recipe.ingredientList=b.ingredientList,b.recipe.stepList=b.stepList,b.recipe.choiceSeasoningProfiles||(b.recipe.choiceSeasoningProfiles=[]);for(var a=b.seasoningProfiles.length-1;a>=0;a--)b.seasoningProfiles[a].useInChoiceSeasonings&&(delete b.seasoningProfiles[a].useInChoiceSeasonings,b.recipe.choiceSeasoningProfiles.push(b.seasoningProfiles[a]));b.recipe.collectionIds||(b.recipe.collectionIds=[]);for(var a=b.recipeCollections.length-1;a>=0;a--)b.recipeCollections[a].useInRecipe&&(delete b.recipeCollections[a].useInRecipe,b.recipe.collectionIds.push(b.recipeCollections[a]._id))}}]),angular.module("SkillitAdminApp").controller("IngredientCtrl",["$window","$scope","ingredientService",function(a,b,c){b.integerval=/^\d*$/,b.serverType="DEVELOPMENT",b.reloadIngredients=function(a){var d=!1;"PRODUCTION"===a&&(d=!0),b.serverType=a,c.getAllIngredients(d).then(function(a){b.ingredients=a},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)})},b.reloadIngredients("DEVELOPMENT"),b.ingredient={name:{}},b.inForms=[],b.inputCategories=["Protein","Vegetables","Starches","Other"],b.inputSubCategories=[],b.cookingMethods=["Bake","Sautee","Boil","Steam","SlowCook"],b.addCookingTime=function(a){a.cookingTimes.push({cookingMethod:"",minTime:"",maxTime:"",timesArePerSide:!1})},b.changeInputCategory=function(){if(b.ingredient)switch(b.ingredient.inputCategory){case"Protein":b.inputSubCategories=["Meat","Seafood","Other"];break;default:b.inputSubCategories=["None"]}},b.addIngredientForm=function(){b.inForms.push({name:"",cookingTimes:[{cookingMethod:"",minTime:"",maxTime:"",timesArePerSide:!1}]})},b.removeCookingTime=function(a,b){a.cookingTimes.splice(b,1)},b.removeIngredientForm=function(a){b.inForms.splice(a,1)},b.ingredientTips=[],b.stepTypes=["Bake","Boil","BringToBoil","Cook","Custom","Cut","Dry","Heat","Place","PreheatOven","Sautee","Season","SlowCook","Steam","EquipmentPrep","Stir","General"],b.subTypes=[],b.setSubTypes=function(a,c){switch(a){case"Cut":b.subTypes[c]=["Cut","Chop","Dice","Slice","Mince","all"];break;case"Dry":b.subTypes[c]=["Pat","Rub","all"];break;case"EquipmentPrep":b.subTypes[c]=["Grease","Line","all"];break;case"Stir":b.subTypes[c]=["Stir","Flip","all"];break;default:b.subTypes[c]=["all"]}},b.removeTip=function(a){b.ingredientTips.splice(a,1)},b.addIngredientTip=function(){b.ingredientTips.push({stepType:"",videoInfo:{}})},b.ingredientSanityCheck=function(){return(b.useProdServer||b.useDevServer)&&b.ingredient.ingredientForms?!0:!1},b.reset=function(){a.location.reload(!0)},b.preview=function(){b.ingredient.ingredientForms=b.inForms,b.ingredient.ingredientTips=b.ingredientTips},b.save=function(){b.ingredient.ingredientForms=b.inForms,b.ingredient.ingredientTips=b.ingredientTips,b.ingredient.showInSelection||(b.ingredient.showInSelection=!1),c.addNewIngredient({ingredient:{name:b.ingredient.name,ingredientForms:b.ingredient.ingredientForms,ingredientTips:b.ingredient.ingredientTips,inputCategory:b.ingredient.inputCategory,inputSubCategory:b.ingredient.inputSubCategory,units:b.ingredient.units,showInSelection:b.ingredient.showInSelection,unitIsASingleItem:b.ingredient.unitIsASingleItem,servingsPerUnit:b.ingredient.servingsPerUnit,useFormNameForDisplay:b.ingredient.useFormNameForDisplay,nameFormFlag:"standardForm"}},b.useProdServer,b.useDevServer).then(function(a){a=a[0],b.ingredients.push(a),alert("Successfully saved ingredient"),b.reset()},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message),b.reset()})}}]),angular.module("SkillitAdminApp").controller("DishesCtrl",["$window","$scope","dishService",function(a,b,c){b.integerval=/^\d*$/,b.serverType="DEVELOPMENT",b.reloadDishes=function(a){var d=!1;"PRODUCTION"===a&&(d=!0),b.serverType=a,c.getAllDishes(d).then(function(a){b.dishes=a},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadDishes("DEVELOPMENT"),b.reset=function(){a.location.reload(!0)},b.noServerSelected=function(){return!b.useDevServer&&!b.useProdServer},b.save=function(){c.addNewDish({dish:{name:b.dish.name,ingredientCapacity:b.dish.ingredientCapacity}},b.useProdServer,b.useDevServer).then(function(a){alert("Successfully saved dish"),b.dishes.push(a[0]),b.reset()},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message),b.reset()})}}]),angular.module("SkillitAdminApp").controller("SeasoningprofilesCtrl",["$window","$scope","seasoningService",function(a,b,c){b.serverType="DEVELOPMENT",b.reloadSeasonings=function(a){var d=!1;"PRODUCTION"===a&&(d=!0),b.serverType=a,c.getAllSeasonings(d).then(function(a){b.profiles=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadSeasonings("DEVELOPMENT"),b.reset=function(){a.location.reload(!0)},b.save=function(){for(var a=b.seasoningProfile.spices.split(","),d=a.length-1;d>=0;d--)a[d]=a[d].trim();c.addNewSeasoning({seasoningProfile:{name:b.seasoningProfile.name,recipeTitleAlias:b.seasoningProfile.recipeTitleAlias,spices:a}},b.useProdServer,b.useDevServer).then(function(a){a=a[0],b.profiles.push(a),alert("Successfully saved seasoning"),b.reset()},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message),b.reset()})}}]),angular.module("SkillitAdminApp").factory("seasoningService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("seasoningProfiles"),d=b.all("seasoningProfiles");return{getAllSeasonings:function(a){return a?d.customGET("/"):c.customGET("/")},addNewSeasoning:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},updateSeasoning:function(a,b,e){var f=[];return b&&f.push(d.customPUT({seasoningProfile:a},"/"+a._id)),e&&f.push(c.customPUT({seasoningProfile:a},"/"+a._id)),Promise.all(f)},deleteSeasoning:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").factory("dishService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("dishes"),d=b.all("dishes");return{getAllDishes:function(a){return a?d.getList():c.getList()},addNewDish:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},updateDish:function(a,b,e){var f=[];return b&&f.push(d.customPUT({dish:a},"/"+a._id)),e&&f.push(c.customPUT({dish:a},"/"+a._id)),Promise.all(f)},deleteDish:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").factory("ingredientService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("ingredients"),d=b.all("ingredients");return{getAllIngredients:function(a){return a?d.getList():c.getList()},addNewIngredient:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},updateIngredient:function(a,b,e){var f=[];return b&&f.push(d.customPUT({ingredient:a},"/"+a._id)),e&&f.push(c.customPUT({ingredient:a},"/"+a._id)),Promise.all(f)},deleteIngredient:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").factory("recipeService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("recipes"),d=b.all("recipes");return{getAllRecipes:function(a){return a?d.customGET("/"):c.customGET("/")},getSingleRecipe:function(a,b,e){return e?d.customPOST({id:a,name:b},"getSingleRecipe"):c.customPOST({id:a,name:b},"getSingleRecipe")},getAllRecipesNameId:function(a){return a?d.customGET("/getAllRecipesNameId"):c.customGET("/getAllRecipesNameId")},addNewRecipe:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},updateRecipe:function(a,b,e){var f=[];return b&&f.push(d.customPUT({recipe:a},"/"+a._id)),e&&f.push(c.customPUT({recipe:a},"/"+a._id)),Promise.all(f)},deleteRecipe:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").controller("ViewallrecipesCtrl",["$scope","recipeService",function(a,b){a.serverType="DEVELOPMENT",a.reloadRecipes=function(c){var d=!1;"PRODUCTION"===c&&(d=!0),a.serverType=c,b.getAllRecipesNameId(d).then(function(b){a.recipes=b.data,a.isExpandedArr=[],a.isExpandedArr.fill(!1)},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)})},a.reloadRecipes("DEVELOPMENT"),a.toggleRecipeExpansion=function(b){a.isExpandedArr[b]=!a.isExpandedArr[b]}}]),angular.module("SkillitAdminApp").directive("cutStepInput",function(){return{templateUrl:"views/cutstepinput.html",scope:!0,transclude:!1,restrict:"E",link:function(a,b,c){a.showExampleText=!1,a.integerval=/^\d*$/,a.tipAdded=!1,a.tipIsMinimized=!0,a.actionTypes=["Cut","Chop","Dice","Slice","Mince"],a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"actionType",val:""},{propName:"actionModifier",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("stepInputForm",function(){return{templateUrl:"views/stepinputform.html",restrict:"E",scope:{step:"=constructingStep",stepInputName:"@inputName",isMultiple:"@isMultiple",ingredientList:"<ingredientList",stepList:"=stepList",stepType:"@"},transclude:!1,link:function(a,b,c){function d(){switch(a.stepType){case"remove":return!0;default:return!1}}if(a.sourceTypes=["EquipmentList","StepProduct","IngredientList"],a.getStepFromId=function(b){for(var c=a.stepList.length-1;c>=0;c--)if(a.stepList[c].stepId===b)return a.stepList[c]},a.step.stepId&&("false"===a.isMultiple&&a.step.stepInputs&&"StepProduct"===a.step.stepInputs[a.stepInputName].sourceType&&(a.sourceIdStep=a.getStepFromId(a.step.stepInputs[a.stepInputName].sourceId)),"true"===a.isMultiple&&(a.sourceIdStep=[],a.step.stepInputs&&a.step.stepInputs[a.stepInputName])))for(var e=0;e<=a.step.stepInputs[a.stepInputName].length-1;e++)"StepProduct"===a.step.stepInputs[a.stepInputName][e].sourceType&&(a.sourceIdStep[e]=a.getStepFromId(a.step.stepInputs[a.stepInputName][e].sourceId));a.showStepId=function(){return a.step.stepInputs&&a.step.stepInputs[a.stepInputName]&&a.step.stepInputs[a.stepInputName].sourceType&&"StepProduct"===a.step.stepInputs[a.stepInputName].sourceType?!0:!1},a.showStepIdMultiple=function(b){return a.sourceIdStep||(a.sourceIdStep=[]),b&&b.sourceType&&"StepProduct"===b.sourceType?!0:!1},a.getSourceIdSelectName=function(a,b){return"Step "+b+" => a "+a.stepType+" step "},a.stepInputPropertyChange=function(){if(d()&&a.step&&a.step.stepInputs&&a.step.stepInputs[a.stepInputName]){var b=a.step.stepInputs[a.stepInputName];b.key&&b.sourceId&&b.sourceType&&a.$emit("stepInputPropertyChange")}},a.registerSourceId=function(b){b&&(a.step.stepInputs[a.stepInputName].sourceId=b.stepId),a.stepInputPropertyChange()},a.registerSourceIdMultiple=function(a,b,c){a.sourceId=c[b].stepId},a.removeInput=function(b){a.step.stepInputs[a.stepInputName].splice(b,1)},a.addInput=function(){a.step.stepInputs[a.stepInputName]||(a.step.stepInputs[a.stepInputName]=[]),a.step.stepInputs[a.stepInputName].push({sourceType:"",sourceId:"",key:"",inputName:a.stepInputName})},a.getProductKeys=function(a){return a?a.productKeys?a.productKeys:[a.productName]:void 0}}}}),angular.module("SkillitAdminApp").directive("cutStepItem",function(){return{templateUrl:"views/cutstepitem.html",restrict:"E",scope:!1,transclude:!1}}),angular.module("SkillitAdminApp").directive("bakeStepInput",function(){return{templateUrl:"views/bakestepinput.html",restrict:"E",transclude:!1,scope:!0,link:function(a,b,c){a.integerval=/^\d*$/,a.showExampleText=!1,a.tipAdded=!1,a.tipIsMinimized=!0,a.auxiliaryStepTypeNames=[],a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"bakingTime",val:""}],a.removeAuxStep=function(b){a.constructingStep.auxiliarySteps.splice(b,1)},a.addAuxStep=function(){a.constructingStep.auxiliarySteps||(a.constructingStep.auxiliarySteps=[]),a.constructingStep.auxiliarySteps.push({stepSpecifics:[{propName:"whenToStir",val:""},{propName:"stirType",val:""}]})},a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("stirStepInput",function(){return{templateUrl:"views/stirstepinput.html",restrict:"E",transclude:!1,scope:{isAuxiliaryStep:"@isAuxStep",constructingStep:"=",ingredientList:"<",stepList:"<",auxStepArrIndex:"="},link:function(a,b,c){a.showExampleText=!1,a.integerval=/^\d*$/,a.stirTypes=["Stir","Flip"],a.tipAdded=!1,a.tipIsMinimized=!0,a.auxStepArrIndex&&(a.auxStepArrIndex=parseInt(a.auxStepArrIndex,10)),"false"===a.isAuxiliaryStep&&(a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"whenToStir",val:""},{propName:"stirType",val:""}]),a.isAuxDictionary=function(a){switch(a){case"Bake":return!0;case"Sautee":return!1;default:return!1}},a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("stirStepItem",function(){return{templateUrl:"views/stirstepitem.html",restrict:"E",transclude:!1,scope:!1,link:function(a,b,c){}}}),angular.module("SkillitAdminApp").directive("bakeStepItem",function(){return{templateUrl:"views/bakestepitem.html",restrict:"E",transclude:!1,scope:!1}}),angular.module("SkillitAdminApp").directive("bringToBoilStepInput",function(){return{templateUrl:"views/bringtoboilstepinput.html",restrict:"E",transclude:!1,scope:!0,link:function(a,b,c){a.integerval=/^\d*$/,a.tipAdded=!1,a.tipIsMinimized=!0,a.showExampleText=!1,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"waterAmount",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("bringToBoilStepItem",function(){return{templateUrl:"views/bringtoboilstepitem.html",restrict:"E",transclude:!1,scope:!1}}),angular.module("SkillitAdminApp").directive("dryStepInput",function(){return{templateUrl:"views/drystepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.dryMethods=["Pat","Rub"],a.tipAdded=!1,a.tipIsMinimized=!0,a.showExampleText=!1,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"dryMethod",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("dryStepItem",function(){return{templateUrl:"views/drystepitem.html",restrict:"E",scope:!1,transclude:!1}}),angular.module("SkillitAdminApp").directive("heatStepInput",function(){return{templateUrl:"views/heatstepinput.html",restrict:"E",transclude:!1,scope:!0,link:function(a,b,c){a.integerval=/^\d*$/,a.tipAdded=!1,a.tipIsMinimized=!0,a.showExampleText=!1,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"heatsOil",val:!1},{propName:"heatSetting",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!0,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0;
}}}}),angular.module("SkillitAdminApp").directive("heatStepItem",function(){return{templateUrl:"views/heatstepitem.html",restrict:"E",transclude:!1,scope:!1}}),angular.module("SkillitAdminApp").directive("placeStepInput",function(){return{templateUrl:"views/placestepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.showExampleText=!1,a.tipAdded=!1,a.tipIsMinimized=!0,a.placeTypes=["Place","Add","Combine","Mix","Plate"],a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"placeModifier",val:""},{propName:"placeType",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("placeStepItem",function(){return{templateUrl:"views/placestepitem.html",restrict:"E",transclude:!1,scope:!1}}),angular.module("SkillitAdminApp").directive("preheatOvenStepInput",function(){return{templateUrl:"views/preheatovenstepinput.html",restrict:"E",transclude:!1,scope:!0,link:function(a,b,c){a.integerval=/^\d*$/,a.tipAdded=!1,a.tipIsMinimized=!0,a.showExampleText=!1,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"ovenTemperature",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("preheatOvenStepItem",function(){return{templateUrl:"views/preheatovenstepitem.html",restrict:"E",scope:!1,transclude:!1}}),angular.module("SkillitAdminApp").directive("sauteeStepInput",function(){return{templateUrl:"views/sauteestepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.tipAdded=!1,a.tipIsMinimized=!0,a.showExampleText=!1,a.auxStepAdded=!1,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"sauteeDuration",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0},a.addAuxStep=function(){a.auxStepAdded=!a.auxStepAdded,a.constructingStep.auxiliarySteps=[{stepSpecifics:[{propName:"whenToStir",val:""},{propName:"stirType",val:""}]}]},a.removeAuxStep=function(){a.auxStepAdded=!a.auxStepAdded,a.constructingStep.auxiliarySteps=[{stepSpecifics:[{propName:"whenToStir",val:""},{propName:"stirType",val:""}]}]}}}}),angular.module("SkillitAdminApp").directive("sauteeStepItem",function(){return{templateUrl:"views/sauteestepitem.html",restrict:"E",scope:!1,transclude:!1}}),angular.module("SkillitAdminApp").directive("seasonStepInput",function(){return{templateUrl:"views/seasonstepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.showExampleText=!1,a.tipAdded=!1,a.tipIsMinimized=!0,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"isOil",val:!1},{propName:"isSeason",val:!1}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("seasonStepItem",function(){return{templateUrl:"views/seasonstepitem.html",restrict:"E",scope:!1,transclude:!1}}),angular.module("SkillitAdminApp").directive("slowCookStepInput",function(){return{templateUrl:"views/slowcookstepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.showExampleText=!1,a.tipAdded=!1,a.tipIsMinimized=!0,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"slowCookDuration",val:""},{propName:"tempSetting",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("slowCookStepItem",function(){return{templateUrl:"views/slowcookstepitem.html",restrict:"E",scope:!1,transclude:!1}}),angular.module("SkillitAdminApp").directive("equipmentPrepStepInput",function(){return{templateUrl:"views/equipmentprepstepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.showExampleText=!1,a.tipAdded=!1,a.tipIsMinimized=!0,a.prepActionTypes=["Grease","Line"],a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"prepActionType",val:""},{propName:"prepModifier",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("equipmentPrepStepItem",function(){return{templateUrl:"views/equipmentprepstepitem.html",restrict:"E",scope:!1,transclude:!1}}),angular.module("SkillitAdminApp").directive("steamStepInput",function(){return{templateUrl:"views/steamstepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.showExampleText=!1,a.tipAdded=!1,a.tipIsMinimized=!0,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"steamingDuration",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("steamStepItem",function(){return{templateUrl:"views/steamstepitem.html",restrict:"E",scope:!1,transclude:!1}}),angular.module("SkillitAdminApp").directive("boilStepInput",function(){return{templateUrl:"views/boilstepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.showExampleText=!1,a.tipAdded=!1,a.tipIsMinimized=!0,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"cookAccordingToInstructions",val:!1},{propName:"boilingDuration",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("boilStepItem",function(){return{templateUrl:"views/boilstepitem.html",restrict:"E",scope:!1,transclude:!1}}),angular.module("SkillitAdminApp").directive("customStepInput",function(){return{templateUrl:"views/customstepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.tipAdded=!1,a.tipIsMinimized=!0,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"customStepText",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("customStepItem",function(){return{templateUrl:"views/customstepitem.html",restrict:"E",scope:!1,transclude:!1}}),angular.module("SkillitAdminApp").directive("cookstepitem",function(){return{templateUrl:"views/cookstepitem.html",scope:!1,transclude:!1,restrict:"E"}}),angular.module("SkillitAdminApp").directive("cookStepInput",function(){return{templateUrl:"views/cookstepinput.html",scope:!1,transclude:!1,restrict:"E",link:function(a,b,c){a.integerval=/^\d*$/,a.tipAdded=!1,a.tipIsMinimized=!0,a.showExampleText=!1,a.auxStepAdded=!1,a.cookTypes=["Cook"],a.logStep=function(){console.log("constructing Stpe",a.constructingStep)},a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"cookType",val:""},{propName:"cookDuration",val:""},{propName:"cookAccordingToInstructions",val:!1}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0},a.addAuxStep=function(){a.auxStepAdded=!a.auxStepAdded,a.constructingStep.auxiliarySteps=[{stepSpecifics:[{propName:"whenToStir",val:""},{propName:"stirType",val:""}]}]},a.removeAuxStep=function(){a.auxStepAdded=!a.auxStepAdded,a.constructingStep.auxiliarySteps=[{stepSpecifics:[{propName:"whenToStir",val:""},{propName:"stirType",val:""}]}]}}}}),angular.module("SkillitAdminApp").controller("ItemcollectionsCtrl",["$window","$scope","itemCollectionService","dietaryPreferenceService",function(a,b,c,d){b.integerval=/^\d*$/,b.itemCollection={},b.itemTypes=["dailyTip","trainingVideo","howToShop","glossary","recipe"],b.serverType="DEVELOPMENT",b.reloadPreferences=function(a){var c=!1;"PRODUCTION"===a&&(c=!0),b.serverType=a,d.getAllDietaryPreferences(c).then(function(a){b.dietaryPreferences=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadPreferences("DEVELOPMENT"),b.reset=function(){a.location.reload(!0)},b.noServerSelected=function(){return!b.useProdServer&&!b.useDevServer},b.save=function(){b.itemCollection.orderPreference||(b.itemCollection.orderPreference=-1);for(var a=[],d=b.dietaryPreferences.length-1;d>=0;d--)b.dietaryPreferences[d].addToCollection&&a.push(b.dietaryPreferences[d]._id);c.addNewItemCollection({itemCollection:{name:b.itemCollection.name,description:b.itemCollection.description,itemType:b.itemCollection.itemType,pictureURL:b.itemCollection.pictureURL,orderPreference:b.itemCollection.orderPreference,isBYOCollection:b.itemCollection.isBYOCollection,dietaryPreferenceIds:a}},b.useProdServer,b.useDevServer).then(function(a){a=a[0];var c="Success! Item Collection "+a.data.name+" was saved!";alert(c),b.reset()},function(a){console.log("Server Error: ",a),alert("Server Error: ",a),b.reset()})}}]),angular.module("SkillitAdminApp").controller("GlossaryentriesCtrl",["$window","$scope","glossaryService","itemCollectionService",function(a,b,c,d){b.serverType="DEVELOPMENT",b.reloadCollections=function(a){var c=!1;"PRODUCTION"===a&&(c=!0),b.serverType=a,d.getItemCollectionsForType("glossary",c).then(function(a){b.glossaryCollections=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadCollections("DEVELOPMENT"),b.glossaryEntry={picture:{},video:{},collectionIds:[]},b.curCollectionId="",b.addCollection=function(){b.curCollectionId&&""!==b.curCollectionId&&(b.glossaryEntry.collectionIds.push(b.curCollectionId),b.curCollectionId="")},b.removeCollection=function(a){b.glossaryEntry.collectionIds.splice(a,1)},b.reset=function(){a.location.reload(!0)},b.save=function(){c.addNewGlossaryEntry({glossaryEntry:{title:b.glossaryEntry.title,text:b.glossaryEntry.text,picture:b.glossaryEntry.picture,video:b.glossaryEntry.video,collectionIds:b.glossaryEntry.collectionIds}},b.useProdServer,b.useDevServer).then(function(a){a=a[0];var c="Success! Tip "+a.data.title+" was saved!";alert(c),b.reset()},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message),b.reset()})},b.glossaryEntrySanityCheck=function(){return(b.useProdServer||b.useDevServer)&&b.glossaryEntry.collectionIds&&b.glossaryEntry.collectionIds.length>0?b.glossaryEntry.picture.url&&b.glossaryEntry.video.videoId?!0:b.glossaryEntry.picture.url?b.glossaryEntry.video.caption&&""!==b.glossaryEntry.video.caption?!1:!0:b.glossaryEntry.video.videoId?b.glossaryEntry.picture.caption&&""!==b.glossaryEntry.picture.caption?!1:!0:b.glossaryEntry.video.caption&&""!==b.glossaryEntry.video.caption||b.glossaryEntry.picture.caption&&""!==b.glossaryEntry.picture.caption?!1:!0:!1}}]),angular.module("SkillitAdminApp").controller("TrainingvideosCtrl",["$window","$scope","trainingVideosService","itemCollectionService",function(a,b,c,d){b.serverType="DEVELOPMENT",b.reloadCollections=function(a){var c=!1;"PRODUCTION"===a&&(c=!0),b.serverType=a,d.getItemCollectionsForType("trainingVideo",c).then(function(a){b.trainingVideoCollections=a.data},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)})},b.reloadCollections("DEVELOPMENT"),b.trainingVideo={video:{},picture:{},collectionIds:[]},b.removeCollection=function(a){b.trainingVideo.collectionIds.splice(a,1)},b.addCollection=function(){b.curCollectionId&&""!==b.curCollectionId&&(b.trainingVideo.collectionIds.push(b.curCollectionId),b.curCollectionId="")},b.curCollectionId="",b.reset=function(){a.location.reload(!0)},b.save=function(){c.addNewTrainingVideo({trainingVideo:{title:b.trainingVideo.title,video:b.trainingVideo.video,picture:b.trainingVideo.picture,collectionIds:b.trainingVideo.collectionIds}},b.useProdServer,b.useDevServer).then(function(a){a=a[0];var c="Success! Video "+a.data.title+" was saved!";alert(c),b.reset()},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message),b.reset()})},b.trainingVideoSanityCheck=function(){return(b.useProdServer||b.useDevServer)&&b.trainingVideo.video.videoId&&""!==b.trainingVideo.video.videoId&&b.trainingVideo.picture.url&&""!==b.trainingVideo.picture.url&&b.trainingVideo.collectionIds&&b.trainingVideo.collectionIds.length>0?!0:!1}}]),angular.module("SkillitAdminApp").controller("HowtoshopentryCtrl",["$window","$scope","howToShopService","itemCollectionService",function(a,b,c,d){b.serverType="DEVELOPMENT",b.reloadCollections=function(a){var c=!1;"PRODUCTION"===a&&(c=!0),b.serverType=a,d.getItemCollectionsForType("howToShop",c).then(function(a){b.howToShopCollections=a.data},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)})},b.reloadCollections("DEVELOPMENT"),b.howToShopEntry={},b.curCollectionId="",b.removeCollection=function(a){b.howToShopEntry.collectionIds.splice(a,1)},b.addCollection=function(){b.howToShopEntry.collectionIds||(b.howToShopEntry.collectionIds=[]),b.curCollectionId&&""!==b.curCollectionId&&(b.howToShopEntry.collectionIds.push(b.curCollectionId),b.curCollectionId="")},b.addPicture=function(){b.howToShopEntry.pictures||(b.howToShopEntry.pictures=[]),b.howToShopEntry.pictures.push({url:"",caption:""})},b.removePicture=function(a){b.howToShopEntry.pictures.splice(a,1)},b.reset=function(){a.location.reload(!0)},b.save=function(){c.addNewHowToShopEntry({howToShopEntry:{title:b.howToShopEntry.title,text:b.howToShopEntry.text,pictures:b.howToShopEntry.pictures,collectionIds:b.howToShopEntry.collectionIds}},b.useProdServer,b.useDevServer).then(function(a){a=a[0];var c="Success! Entry "+a.data.title+" was saved!";alert(c),b.reset()},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message),b.reset()})},b.howToShopEntrySanityCheck=function(){if(!b.useProdServer&&!b.useDevServer)return!1;if(b.howToShopEntry.collectionIds&&b.howToShopEntry.collectionIds.length>0){if(b.howToShopEntry.pictures)for(var a=b.howToShopEntry.pictures.length-1;a>=0;a--)if(!b.howToShopEntry.pictures[a].url||""===b.howToShopEntry.pictures[a].url)return!1;return!0}return!1}}]),angular.module("SkillitAdminApp").controller("DailytipsCtrl",["$window","$scope","dailyTipsService","itemCollectionService",function(a,b,c,d){b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var c=!1;"PRODUCTION"===a&&(c=!0),b.serverType=a,d.getItemCollectionsForType("dailyTip",c).then(function(a){b.tipCollections=a.data},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)})},b.reloadStuff("DEVELOPMENT"),b.dailyTip={picture:{},video:{},collectionIds:[]},b.curCollectionId="",b.removeCollection=function(a){b.dailyTip.collectionIds.splice(a,1)},b.addCollection=function(){b.curCollectionId&&""!==b.curCollectionId&&(b.dailyTip.collectionIds.push(b.curCollectionId),b.curCollectionId="")},b.reset=function(){a.location.reload(!0)},b.save=function(){c.addNewDailyTip({dailyTip:{title:b.dailyTip.title,text:b.dailyTip.text,picture:b.dailyTip.picture,video:b.dailyTip.video,collectionIds:b.dailyTip.collectionIds,hasBeenDailyTip:!1,isTipOfTheDay:!1}},b.useProdServer,b.useDevServer).then(function(a){var c="Success! Tip "+a.data.title+" was saved!";alert(c),b.reset()},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message),b.reset()})},b.dailyTipSanityCheck=function(){return(b.useProdServer||b.useDevServer)&&b.dailyTip.collectionIds&&b.dailyTip.collectionIds.length>0?b.dailyTip.picture.url&&b.dailyTip.video.videoId?!0:b.dailyTip.picture.url?b.dailyTip.video.caption&&""!==b.dailyTip.video.caption?!1:!0:b.dailyTip.video.videoId?b.dailyTip.picture.caption&&""!==b.dailyTip.picture.caption?!1:!0:b.dailyTip.video.caption&&""!==b.dailyTip.video.caption||b.dailyTip.picture.caption&&""!==b.dailyTip.picture.caption?!1:!0:!1}}]),angular.module("SkillitAdminApp").factory("dailyTipsService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("dailyTips"),d=b.all("dailyTips");return{getAllDailyTips:function(a){return a?(console.log("baseProdTips: ",d),d.customGET("/")):(console.log("baseTips: ",c),c.customGET("/"))},addNewDailyTip:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},updateDailyTip:function(a,b,e){var f=[];return b&&f.push(d.customPUT({tip:a},"/"+a._id)),e&&f.push(c.customPUT({tip:a},"/"+a._id)),Promise.all(f)},deleteDailyTip:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").factory("itemCollectionService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("itemCollections"),d=b.all("itemCollections");return{getAllItemCollections:function(a){return a?d.customGET("/"):c.customGET("/")},addNewItemCollection:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},getItemCollectionsForType:function(a,b){return b?d.customPOST({itemType:a},"getCollectionsForItemType"):c.customPOST({itemType:a},"getCollectionsForItemType")},updateItemCollection:function(a,b,e){var f=[];return b&&f.push(d.customPUT({collection:a},"/"+a._id)),e&&f.push(c.customPUT({collection:a},"/"+a._id)),Promise.all(f)},deleteItemCollection:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").factory("glossaryService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("glossaryEntries"),d=b.all("glossaryEntries");return{getAllGlossaryEntries:function(a){return a?d.customGET("/"):c.customGET("/")},addNewGlossaryEntry:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},updateGlossaryEntry:function(a,b,e){var f=[];return b&&f.push(d.customPUT({entry:a},"/"+a._id)),e&&f.push(c.customPUT({entry:a},"/"+a._id)),Promise.all(f)},deleteGlossaryEntry:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").factory("howToShopService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("howToShopEntries"),d=b.all("howToShopEntries");return{getAllHowToShopEntries:function(a){return a?d.customGET("/"):c.customGET("/")},addNewHowToShopEntry:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},updateHowToShopEntry:function(a,b,e){var f=[];return b&&f.push(d.customPUT({entry:a},"/"+a._id)),e&&f.push(c.customPUT({entry:a},"/"+a._id)),Promise.all(f)},deleteHowToShopEntry:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").factory("trainingVideosService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("trainingVideos"),d=b.all("trainingVideos");return{getAllTrainingVideos:function(a){return a?d.customGET("/"):c.customGET("/")},addNewTrainingVideo:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},updateTrainingVideo:function(a,b,e){var f=[];return b&&f.push(d.customPUT({trainingVideo:a},"/"+a._id)),e&&f.push(c.customPUT({trainingVideo:a},"/"+a._id)),Promise.all(f)},deleteTrainingVideo:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&c.customDELETE("/"+a._id),Promise.all(f)}}}]),angular.module("SkillitAdminApp").controller("ArticleCtrl",["$window","$scope","articleService","dailyTipsService","glossaryService","trainingVideosService","howToShopService",function(a,b,c,d,e,f,g){b.serverType="DEVELOPMENT",b.contentSection={},b.reloadEntries=function(a){var c=!1;"PRODUCTION"===a&&(c=!0),b.serverType=a,d.getAllDailyTips(c).then(function(a){b.tips=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),e.getAllGlossaryEntries(c).then(function(a){b.glossaryEntries=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),f.getAllTrainingVideos(c).then(function(a){b.trainingVideos=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),g.getAllHowToShopEntries(c).then(function(a){b.howToShopEntries=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)})},b.reloadEntries("DEVELOPMENT"),b.addContentSection=function(){b.article.contentSections||(b.article.contentSections=[]),console.log("contentSection",angular.copy(b.contentSection)),b.article.contentSections.push(b.contentSection),b.contentSection=angular.copy({})},b.removeContentSection=function(a){b.article.contentSections.splice(a,1)},b.noServerSelected=function(){return!b.useProdServer&&!b.useDevServer},b.save=function(){c.addNewArticle({title:b.article.title,contentSections:b.article.contentSections},b.useProdServer,b.useDevServer).then(function(a){console.log("articles",a);var c=a[0].data,d="Success! Article "+c.title+" was saved!";alert(d),b.reset()},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message),b.reset()})},b.reset=function(){a.location.reload(!0)},b.togglePreview=function(){b.showArticlePreview=!b.showArticlePreview}}]),angular.module("SkillitAdminApp").controller("LessonCtrl",["$window","$scope","articleService","dailyTipsService","glossaryService","howToShopService","trainingVideosService","lessonService",function(a,b,c,d,e,f,g,h){b.serverType="DEVELOPMENT",b.reloadLessons=function(a){var h=!1;"PRODUCTION"===a&&(h=!0),b.serverType=a,c.getArticlesTitleId(h).then(function(a){b.lesson.articles=a.data,console.log("articles: ",b.lesson.articles)},function(a){alert("Server Error - see console logs for details"),console.log("error response: ",a)}),d.getAllDailyTips(h).then(function(a){b.tips=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),e.getAllGlossaryEntries(h).then(function(a){b.glossaryEntries=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),g.getAllTrainingVideos(h).then(function(a){b.trainingVideos=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),f.getAllHowToShopEntries(h).then(function(a){b.howToShopEntries=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)})},b.reloadLessons("DEVELOPMENT"),b.itemTypes=["tip","glossary","howToShop","trainingVideo"],b.lesson={itemIds:[]},b.getSelectedTypeItems=function(){switch(b.itemType){case"tip":return b.tips;case"glossary":return b.glossaryEntries;case"howToShop":return b.howToShopEntries;case"trainingVideo":return b.trainingVideos;default:return[]}},b.addItem=function(){b.lesson.itemIds||(b.lesson.itemIds=[]),b.lesson.itemIds.push({id:b.selectedItem,type:b.itemType})},b.canAddAllForItemType=function(){return!b.lesson.isArticle&&b.itemType&&""!==b.itemType?!0:!1},b.addAllOfItemType=function(){b.lesson.itemIds||(b.lesson.itemIds=[]);for(var a=b.getSelectedTypeItems(),c=a.length-1;c>=0;c--)b.lesson.itemIds.push({id:a[c]._id,type:b.itemType})},b.removeItemId=function(a){b.lesson.itemIds.splice(a,1)},b.save=function(){h.addNewLesson({name:b.lesson.name,timeEstimate:b.lesson.timeEstimate,description:b.lesson.description,isArticle:b.lesson.isArticle,articleId:b.lesson.articleId,itemIds:b.lesson.itemIds,pictureURL:b.lesson.pictureURL},b.useProd,b.useDev).then(function(a){var c=a[0].data,d="Success! Lesson "+c.name+" was saved!";alert(d),b.reset()},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a),b.reset()})},b.reset=function(){a.location.reload(!0)},b.getArticleLabel=function(){return b.lesson.isArticle},b.getItemLabel=function(){return!b.lesson.isArticle},b.noServerSelected=function(){return!b.useProd&&!b.useDev}}]),angular.module("SkillitAdminApp").controller("ChapterCtrl",["$window","$scope","lessonService","chapterService",function(a,b,c,d){b.serverType="DEVELOPMENT",b.integerval=/^\d*$/,b.reloadLessons=function(a){var d=!1;"PRODUCTION"===a&&(d=!0),b.serverType=a,c.getLessonsForChapterConstruction(d).then(function(a){b.lessons=a.lessons},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)})},b.reloadLessons("DEVELOPMENT"),b.chapter={},b.timeEstimates=[],b.addLesson=function(){b.chapter.lessonIds||(b.chapter.lessonIds=[]),b.timeEstimates.push(b.selectedLesson.timeEstimate),b.chapter.lessonIds.push(b.selectedLesson._id)},b.removeLesson=function(a){b.timeEstimates.splice(a,1),b.chapter.lessonIds.splice(a,1)},b.save=function(){var a=b.timeEstimates.reduce(function(a,b){return parseInt(a,10)+parseInt(b,10)});b.chapter.orderPreference||(b.chapter.orderPreference=-1),d.addNewChapter({name:b.chapter.name,description:b.chapter.description,lessonIds:b.chapter.lessonIds,timeEstimate:a,pictureURL:b.chapter.pictureURL,orderPreference:b.chapter.orderPreference},b.useProdServer,b.useDevServer).then(function(a){var c=a[0].data,d="Success! Chapter "+c.name+" was saved!";alert(d),b.reset()},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message),b.reset()})},b.reset=function(){a.location.reload(!0)},b.noServerSelected=function(){return!b.useDevServer&&!b.useProdServer}}]),angular.module("SkillitAdminApp").directive("textchunk",function(){return{templateUrl:"views/textchunk.html",scope:!0,transclude:!1,restrict:"E",link:function(a,b,c){a.itemTypes=["None","tip","glossary","howToShop","trainingVideo"],a.getTitle=function(b){switch(a.textChunk.itemType){case"tip":case"glossary":case"howToShop":case"trainingVideo":return b.title;default:return""}},a.getItemsForType=function(){switch(a.textChunk.itemType){case"tip":return a.tips;case"glossary":return a.glossaryEntries;case"howToShop":return a.howToShopEntries;case"trainingVideo":return a.trainingVideos;default:return[]}}}}}),angular.module("SkillitAdminApp").directive("contentsection",function(){return{templateUrl:"views/contentsection.html",scope:!0,transclude:!1,restrict:"E",link:function(a,b,c){a.contentTypes=["text","picture","video"],a.textChunks=[],a.textChunksIndicator=[],a.textChunk={},a.contentIndicatorArray=[],a.picture={},a.video={},a.toggleContentPiece=function(b){a.contentIndicatorArray[b]=!a.contentIndicatorArray[b]},a.removeContent=function(b){a.contentIndicatorArray.splice(b,1),a.contentSection.contentArray.splice(b,1)},a.toggleTextChunk=function(b){a.textChunksIndicator[b]=!a.textChunksIndicator[b]},a.removeTextChunk=function(b){a.textChunks.splice(b,1),a.textChunksIndicator.splice(b,1)},a.addTextChunk=function(){a.textChunks.push(a.textChunk),a.textChunksIndicator.push(!1),a.textChunk=angular.copy({})},a.resetContentProperties=function(){a.textChunks=angular.copy([]),a.textChunksIndicator=angular.copy([]),a.picture=angular.copy({}),a.video=angular.copy({})},a.logPicture=function(){console.log("picture url: ",a.picture.pictureURL),console.log("picture caption: ",a.picture.pictureCaption)},a.addContent=function(){switch(a.contentSection.contentArray||(a.contentSection.contentArray=[]),a.contentType){case"text":a.contentSection.contentArray.push({type:"text",textChunks:a.textChunks}),a.contentIndicatorArray.push(!1),a.resetContentProperties();break;case"picture":a.contentSection.contentArray.push({type:"picture",url:a.picture.pictureURL,caption:a.picture.pictureCaption}),a.contentIndicatorArray.push(!1),a.resetContentProperties();break;case"video":a.contentSection.contentArray.push({type:"video",videoId:a.video.videoId,end:a.video.end,caption:a.video.videoCaption}),a.contentIndicatorArray.push(!1),a.resetContentProperties()}}}}}),angular.module("SkillitAdminApp").directive("contentitem",function(){return{templateUrl:"views/contentitem.html",scope:{item:"="},restrict:"E",link:function(a,b,c){a.getText=function(){for(var b=0,c="",d=a.item.textChunks.length-1;d>=0;d--)c+=a.item.textChunks[d].text,a.item.textChunks[d].linkedItem&&(c+="["+b+"]"),0!==d&&(c+=" "),b++;return c},a.getFootnotes=function(){if(!a.footnotes){a.footnotes=[];for(var b=a.item.textChunks.length-1;b>=0;b--)a.item.textChunks[b].linkedItem&&a.footnotes.push({title:a.item.textChunks[b].linkedItem.title,type:a.item.textChunks[b].linkedItem.itemType,id:a.item.textChunks[b].linkedItem._id})}return a.footnotes}}}}),angular.module("SkillitAdminApp").directive("contentSectionItem",function(){return{templateUrl:"views/contentsectionitem.html",restrict:"E",scope:{section:"="},link:function(a,b,c){}}}),angular.module("SkillitAdminApp").factory("articleService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("articles"),d=b.all("articles");return{addNewArticle:function(a,b,e){var f=[];return e&&f.push(c.post({
article:a})),b&&f.push(d.post({article:a})),Promise.all(f)},getArticlesTitleId:function(a){return a?d.customGET("/getArticlesTitleId"):c.customGET("/getArticlesTitleId")},getAllArticles:function(a){return a?d.customGET("/"):c.customGET("/")},updateArticle:function(a,b,e){var f=[];return b&&f.push(d.customPUT({article:a},"/"+a._id)),e&&f.push(c.customPUT({article:a},"/"+a._id)),Promise.all(f)},deleteArticle:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").directive("articlepreview",function(){return{templateUrl:"views/articlepreview.html",scope:!0,transclude:!1,restrict:"E",link:function(a,b,c){a.logArticle=function(){console.log("article: ",a.article)},a.logSection=function(a){console.log("section: ",a)},a.getText=function(a){console.log("item: ",a);for(var b=0,c="",d=a.textChunks.length-1;d>=0;d--)c+=a.textChunks[d].text,a.textChunks[d].linkedItem&&(c+="["+b+"]"),0!==d&&(c+=" "),b++;return c},a.getFootnotes=function(b){a.footnotes||(a.footnotes=[]);for(var c=b.textChunks.length-1;c>=0;c--)b.textChunks[c].linkedItem&&a.footnotes.push({title:b.textChunks[c].linkedItem.title,type:b.textChunks[c].linkedItem.itemType,id:b.textChunks[c].linkedItem._id});return a.footnotes}}}}),angular.module("SkillitAdminApp").factory("lessonService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("lessons"),d=b.all("lessons");return{addNewLesson:function(a,b,e){var f=[];return b&&f.push(d.post({lesson:a})),e&&f.push(c.post({lesson:a})),Promise.all(f)},getLessonsForChapterConstruction:function(a){return a?d.customGET("/getLessonsForChapterConstruction"):c.customGET("/getLessonsForChapterConstruction")},getAllLessons:function(a){return a?d.customGET("/"):c.customGET("/")},updateLesson:function(a,b,e){var f=[];return b&&f.push(d.customPUT({lesson:a},"/"+a._id)),e&&f.push(c.customPUT({lesson:a},"/"+a._id)),Promise.all(f)},deleteLesson:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").factory("chapterService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("chapters"),d=b.all("chapters");return{addNewChapter:function(a,b,e){var f=[];return e&&f.push(c.post({chapter:a})),b&&f.push(d.post({chapter:a})),Promise.all(f)},getAllChapters:function(a){return a?d.customGET("/"):c.customGET("/")},updateChapter:function(a,b,e){var f=[];return b&&f.push(d.customPUT({chapter:a},"/"+a._id)),e&&f.push(c.customPUT({chapter:a},"/"+a._id)),Promise.all(f)},deleteChapter:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").controller("EditRecipesCtrl",["$window","$scope","compatibilityService","recipeService","itemCollectionService","seasoningService","ingredientService","dishService","healthModifierService","recipeAdjectiveService",function(a,b,c,d,e,f,g,h,i,j){function k(){b.nameBodies=angular.copy([]),b.conditionalDescriptions=angular.copy([]),console.log("recipe.nameBodies",b.recipe.nameBodies);var a={},c={};for(var d in b.recipe.nameBodies)for(var e=b.recipe.nameBodies[d].length-1;e>=0;e--)a[b.recipe.nameBodies[d][e]]||(a[b.recipe.nameBodies[d][e]]=!0);for(var d in b.recipe.conditionalDescriptions)for(var f=b.recipe.conditionalDescriptions[d].length-1;f>=0;f--)c[b.recipe.conditionalDescriptions[d][f]]||(c[b.recipe.conditionalDescriptions[d][f]]=!0);for(var g in a)b.nameBodies.push({name:g});for(var h in c)b.conditionalDescriptions.push({description:h});b.nameDictionary=angular.copy(b.recipe.nameBodies),b.nameDictionary||(b.nameDictionary={}),b.descriptionDictionary=angular.copy(b.recipe.conditionalDescriptions),b.descriptionDictionary||(b.descriptionDictionary={})}function l(){var a=Object.keys(b.descriptionDictionary),c=Object.keys(b.nameDictionary);c=c.concat(a);var d=Array.from(new Set(c));return console.log("prefixIds",d),d}b.integerval=/^\d*$/,b.recipeTypes=["AlaCarte","BYO","Full"],b.recipeCategories=["Sautee","Scramble","Easy Dinners","Seafood Plates","Roast","Pasta","Hash","Rice","Quinoa"],b.servingSizes=["1-2","2-3","3-4","4-5","5-6","6-7","7-8","8-9","9-10"],b.cookingMethods=["Bake","Sautee","Boil","Steam","SlowCook"],b.stepTypes=["Bake","Boil","BreakEgg","BringToBoil","Cook","Custom","Cut","Dry","Heat","Move","Place","PreheatOven","Sautee","Serve","Season","SlowCook","Steam","EquipmentPrep","Stir"],b.constructingStep={},b.constructingStep.stepInputs={},b.selectedIngredientForms=[],b.selectedRecipe={},b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var c=!1;"PRODUCTION"===a&&(c=!0),b.serverType=a,d.getAllRecipes(c).then(function(a){b.recipes=[];for(var c=a.data.length-1;c>=0;c--)b.recipes.push({label:a.data[c].name,value:a.data[c]})},function(a){console.log("server error",a),alert("Server Error: "+a.message)}),e.getItemCollectionsForType("recipe",c).then(function(a){b.recipeCollections=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),j.getAllRecipeAdjectives(c).then(function(a){b.recipeAdjectives=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: ",a)}),i.getAllHealthModifiers(c).then(function(a){b.healthModifiers=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: ",a)}),f.getAllSeasonings(c).then(function(a){b.seasoningProfiles=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),g.getAllIngredients(c).then(function(a){b.ingredients=a},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),h.getAllDishes(c).then(function(a){b.dishes=a},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadStuff("DEVELOPMENT"),b.reloadRecipes=function(){b.showSelectRecipe=!0,d.getAllRecipes(isProd).then(function(a){b.recipes=a.data},function(a){console.log("server error",a),alert("Server Error: "+a.message)})},b.originalName="",b.logRecipeName=function(){b.originalName=b.recipe.name},b.updateRecipeName=function(){var a=b.recipe.name.split(" ");if(b.squishedRecipeName=a.join(""),b.recipe.stepList)for(var c=b.recipe.stepList.length-1;c>=0;c--){b.recipe.stepList[c].stepId=b.squishedRecipeName+c;for(var d in b.recipe.stepList[c].stepInputs)if(Array.isArray(b.recipe.stepList[c].stepInputs[d])){for(var e=b.recipe.stepList[c].stepInputs[d].length-1;e>=0;e--)if(b.recipe.stepList[c].stepInputs[d][e].sourceId)for(var f=b.recipe.stepList.length-1;f>=0;f--)if(b.recipe.stepList[f].stepId===b.recipe.stepList[c].stepInputs[d][e].sourceId){b.recipe.stepList[c].stepInputs[d][e].sourceId=b.squishedRecipeName+f;break}}else{var g=b.recipe.stepList;if(b.recipe.stepList[c].stepInputs[d].sourceId)for(var e=g.length-1;e>=0;e--)if(g[e].stepId===b.recipe.stepList[c].stepInputs[d].sourceId){b.recipe.stepList[c].stepInputs[d].sourceId=b.squishedRecipeName+e;break}}}},b.addNameBody=function(){b.nameBodies||(b.nameBodies=[]),b.nameBodies.push({})},b.removeNameBody=function(a){console.log("preremove nameDict",angular.copy(b.nameDictionary)),console.log("preremove nameBodies",angular.copy(b.nameBodies));var c=b.nameBodies[a].name;for(var d in b.nameDictionary){console.log("key",d);for(var e=b.nameDictionary[d].length-1;e>=0;e--)console.log("i",b.nameDictionary[d][e]),b.nameDictionary[d][e]===c&&(b.nameDictionary[d].splice(e,1),0===b.nameDictionary[d].length&&delete b.nameDictionary[d])}b.nameBodies.splice(a,1),console.log("postremove nameDict",angular.copy(b.nameDictionary)),console.log("postremove nameBodies",angular.copy(b.nameBodies))},b.addDescription=function(){b.conditionalDescriptions||(b.conditionalDescriptions=[]),b.conditionalDescriptions.push({})},b.removeDescription=function(a){var c=b.conditionalDescriptions[a].description;for(var d in b.descriptionDictionary)for(var e=b.descriptionDictionary[d].length-1;e>=0;e--)b.descriptionDictionary[d][e]===c&&(b.descriptionDictionary[d].splice(e,1),0===b.descriptionDictionary[d].length&&delete b.descriptionDictionary[d]);b.conditionalDescriptions.splice(a,1)},b.changeSelectedRecipe=function(){if(b.selectedRecipe&&b.selectedRecipe.name){if(b.selectedRecipeIndex=b.recipes.indexOf(b.selectedRecipe),b.recipe=angular.copy(b.selectedRecipe),k(),b.ingredientList=b.recipe.ingredientList,b.mainPictureURLs=angular.copy([]),console.log("recipe",b.recipe),b.recipe.mainPictureURLs)for(var a=0;a<b.recipe.mainPictureURLs.length;a++)b.mainPictureURLs.push({url:b.recipe.mainPictureURLs[a]});b.stepList=b.recipe.stepList,b.typeMinimizedIndicatorArray=new Array(b.recipe.ingredientList.ingredientTypes.length),b.typeMinimizedIndicatorArray.fill(!0),b.stepMinimizedIndicatorArray=new Array(b.stepList.length),b.stepMinimizedIndicatorArray.fill(!0);for(var c=b.recipe.ingredientList.ingredientTypes,a=c.length-1;a>=0;a--)c[a].ingredientMinimizedIndicator=new Array(c[a].ingredients.length),c[a].ingredientMinimizedIndicator.fill(!0);if(b.recipeCollections)for(var a=b.recipe.collectionIds.length-1;a>=0;a--){var d=_.findIndex(b.recipeCollections,function(c){return c._id===b.recipe.collectionIds[a]});d>-1&&(b.recipeCollections[d].useInRecipe=!0)}if(b.seasoningProfiles)for(var a=b.recipe.choiceSeasoningProfiles.length-1;a>=0;a--){var d=_.findIndex(b.seasoningProfiles,function(c){return c._id===b.recipe.choiceSeasoningProfiles[a]._id});d>-1&&(b.seasoningProfiles[d].useInChoiceSeasonings=!0)}}},b.removeCollection=function(a){b.recipe.collectionIds.splice(a,1)},b.addCollection=function(){b.recipe.collectionIds.push(b.curCollectionId)},b.removePictureURL=function(a){b.mainPictureURLs.splice(a,1)},b.addPictureURL=function(){console.log("pics",b.mainPictureURLs),b.mainPictureURLs.push({})},b.removeCookingMethod=function(a){b.recipe.otherCookingMethods.splice(a,1)},b.addCookingMethod=function(){b.recipe.otherCookingMethods.push(b.otherCookingMethod)},b.addSeasoning=function(){b.recipe.choiceSeasoningProfiles.push(b.availableSeasoning)},b.removeSeasoning=function(a){b.recipe.choiceSeasoningProfiles.splice(a,1)},b.isIngredientMinimized=function(a){return b.typeMinimizedIndicatorArray[a]},b.setSelectedIngredientForms=function(a){var c;c=a&&a.ingredientForms?a.ingredientForms.length:0,b.selectedIngredientForms=new Array(c),b.selectedIngredientForms.fill(!0)},b.isAFormSelected=function(){if(0===b.selectedIngredientForms.length)return!1;for(var a=b.selectedIngredientForms.length-1;a>=0;a--)if(b.selectedIngredientForms[a])return!0;return!1},b.addTypeIngredient=function(a,c){if(b.ingredientCanBeAdded(c)){for(var d=[],e=c.ingredientForms.length-1;e>=0;e--)b.selectedIngredientForms[e]&&d.push(c.ingredientForms[e]);var f={name:c.name,ingredientForms:d,ingredientTips:c.ingredientTips,inputCategory:c.inputCategory,_id:c._id};b.recipe.ingredientList.ingredientTypes[a].ingredients||(b.recipe.ingredientList.ingredientTypes[a].ingredients=[]),b.recipe.ingredientList.ingredientTypes[a].ingredientMinimizedIndicator.push(!0),b.recipe.ingredientList.ingredientTypes[a].ingredients.push(f)}},b.ingredientCanBeAdded=function(a){for(var c,d=b.recipe.ingredientList.ingredientTypes,e=d.length-1;e>=0;e--){c=d[e].ingredients;for(var f=c.length-1;f>=0;f--)if(c[f].name===a.name)return!1}return!0},b.isIngredientMinimized=function(a,b){return a.ingredientMinimizedIndicator[b]},b.toggleIngredientExpand=function(a,b){a.ingredientMinimizedIndicator[b]=!a.ingredientMinimizedIndicator[b]},b.removeTypeIngredient=function(a,b){a.ingredients.splice(b,1),a.ingredientMinimizedIndicator.splice(b,1)},b.isIngredientTypeMinimized=function(a){return b.typeMinimizedIndicatorArray[a]},b.toggleIngredientTypeExpand=function(a){b.typeMinimizedIndicatorArray[a]=!b.typeMinimizedIndicatorArray[a]},b.removeIngredientType=function(a){b.typeMinimizedIndicatorArray.splice(a,1),b.recipe.ingredientList.ingredientTypes.splice(a,1)},b.addIngredientType=function(){b.recipe.ingredientList.ingredientTypes||(b.recipe.ingredientList.ingredientTypes=[]),b.recipe.ingredientList.ingredientTypes.push({typeName:"",displayName:"",ingredients:[],minNeeded:"",ingredientMinimizedIndicator:[]}),b.typeMinimizedIndicatorArray.push(!1)},b.addDish=function(){b.recipe.ingredientList.equipmentNeeded.push(b.typeDish)},b.removeDish=function(a){b.recipe.ingredientList.equipmentNeeded.splice(a,1)},b.isMinimizedStep=function(a){return b.stepMinimizedIndicatorArray[a]},b.toggleStepMinimize=function(a){b.stepMinimizedIndicatorArray[a]=!b.stepMinimizedIndicatorArray[a]},b.getStepMinimizeButtonText=function(a){return b.stepMinimizedIndicatorArray[a]?"Expand":"Minimize"},b.removeStep=function(a){b.recipe.stepList.splice(a,1),b.stepMinimizedIndicatorArray.splice(a,1)},b.getCurStepNumberFromStepList=function(){for(var a=b.recipe.stepList[b.recipe.stepList.length-1],c="",d=a.stepId.length-1;d>=0&&!isNaN(Number(a.stepId.charAt(d)));d--)c=a.stepId.charAt(d)+c;return c},b.addStep=function(){if(!b.squishedRecipeName){var a=b.recipe.name.split(" ");b.squishedRecipeName=a.join("")}b.curStepNumber||(b.recipe.stepList&&0!==b.recipe.stepList.length?b.curStepNumber=b.getCurStepNumberFromStepList():b.curStepNumber=0),b.curStepNumber+=1,b.constructingStep.stepId=b.squishedRecipeName+b.curStepNumber,b.constructingStep.productKeys=[b.constructingStep.productName],b.constructingStep.productName=void 0,b.recipe.stepList.push(b.constructingStep),b.constructingStep={},b.constructingStep.stepInputs={}},b.recipeSanityCheck=function(){return b.recipe&&b.recipe.stepList&&0!==b.recipe.stepList.length&&b.recipe.ingredientList&&b.recipe.ingredientList.ingredientTypes&&0!==b.recipe.ingredientList.ingredientTypes.length&&b.recipe.ingredientList.equipmentNeeded&&b.recipe.collectionIds&&0!==b.recipe.collectionIds.length?!0:!1},b.cancelChanges=function(){b.changeSelectedRecipe()},b.saveChanges=function(){b.recipe.choiceSeasoningProfiles=[];for(var e=b.seasoningProfiles.length-1;e>=0;e--)b.seasoningProfiles[e].useInChoiceSeasonings&&(delete b.seasoningProfiles[e].useInChoiceSeasonings,b.recipe.choiceSeasoningProfiles.push(b.seasoningProfiles[e]));b.recipe.collectionIds=[];for(var e=b.recipeCollections.length-1;e>=0;e--)b.recipeCollections[e].useInRecipe&&(delete b.recipeCollections[e].useInRecipe,b.recipe.collectionIds.push(b.recipeCollections[e]._id));for(var f=l(),e=b.mainPictureURLs.length-1;e>=0;e--)b.mainPictureURLs[e]=b.mainPictureURLs[e].url;console.log("nameDictionary",b.nameDictionary);var g=c.getVersion(b.recipe);d.updateRecipe({name:b.recipe.name,nameBodies:b.nameDictionary,description:b.recipe.description,conditionalDescriptions:b.descriptionDictionary,allowablePrefixIds:f,defaultServingSize:b.recipe.defaultServingSize,recipeType:b.recipe.recipeType,collectionIds:b.recipe.collectionIds,recipeCategory:b.recipe.recipeCategory,ingredientList:b.recipe.ingredientList,stepList:b.recipe.stepList,primaryCookingMethod:b.recipe.primaryCookingMethod,otherCookingMethods:b.recipe.otherCookingMethods,canAddSeasoningProfile:b.recipe.canAddSeasoningProfile,defaultSeasoningProfile:b.recipe.defaultSeasoningProfile,choiceSeasoningProfiles:b.recipe.choiceSeasoningProfiles,primaryIngredientType:b.recipe.primaryIngredientType,mainPictureURL:b.mainPictureURLs[0],mainPictureURLs:b.mainPictureURLs,mainVideo:b.recipe.mainVideo,prepTime:b.recipe.prepTime,totalTime:b.recipe.totalTime,manActiveTime:b.recipe.manActiveTime,manTotalTime:b.recipe.manTotalTime,hasBeenRecipeOfTheDay:b.recipe.hasBeenRecipeOfTheDay,datesUsedAsRecipeOfTheDay:b.recipe.datesUsedAsRecipeOfTheDay,isRecipeOfTheDay:b.recipe.isRecipeOfTheDay,_id:b.recipe._id,compatibilityVersion:g},b.useProdServer,b.useDevServer).then(function(b){alert("Recipe successfully updated!"),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.deleteRecipe=function(){d.deleteRecipe({_id:b.recipe._id},b.useProdServer,b.useDevServer).then(function(b){alert("Recipe successfully deleted"),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.noRecipeNameChange=function(){return b.recipe?b.originalName===b.recipe.name:!0},b.duplicateRecipe=function(){console.log("nah, I don"),delete b.recipe.ingredientList._id;for(var e=b.recipe.ingredientList.ingredientTypes.length-1;e>=0;e--)delete b.recipe.ingredientList.ingredientTypes[e]._id;for(var e=b.recipe.stepList.length-1;e>=0;e--){delete b.recipe.stepList[e]._id;for(var f=b.recipe.stepList[e].stepSpecifics.length-1;f>=0;f--)delete b.recipe.stepList[e].stepSpecifics[f]._id;for(var f=b.recipe.stepList[e].auxiliarySteps.length-1;f>=0;f--)delete b.recipe.stepList[e].auxiliarySteps[f]._id}b.recipe.choiceSeasoningProfiles=[];for(var e=b.seasoningProfiles.length-1;e>=0;e--)b.seasoningProfiles[e].useInChoiceSeasonings&&(delete b.seasoningProfiles[e].useInChoiceSeasonings,b.recipe.choiceSeasoningProfiles.push(b.seasoningProfiles[e]));b.recipe.collectionIds=[];for(var e=b.recipeCollections.length-1;e>=0;e--)b.recipeCollections[e].useInRecipe&&(delete b.recipeCollections[e].useInRecipe,b.recipe.collectionIds.push(b.recipeCollections[e]._id));for(var e=b.mainPictureURLs.length-1;e>=0;e--)b.mainPictureURLs[e]=b.mainPictureURLs[e].url;var g=c.getVersion(b.recipe);d.addNewRecipe({recipe:{name:b.recipe.name,nameBodies:b.nameDictionary,description:b.recipe.description,conditionalDescriptions:b.descriptionDictionary,defaultServingSize:b.recipe.defaultServingSize,recipeType:b.recipe.recipeType,collectionIds:b.recipe.collectionIds,recipeCategory:b.recipe.recipeCategory,ingredientList:b.recipe.ingredientList,stepList:b.recipe.stepList,primaryCookingMethod:b.recipe.primaryCookingMethod,otherCookingMethods:b.recipe.otherCookingMethods,canAddSeasoningProfile:b.recipe.canAddSeasoningProfile,defaultSeasoningProfile:b.recipe.defaultSeasoningProfile,choiceSeasoningProfiles:b.recipe.choiceSeasoningProfiles,primaryIngredientType:b.recipe.primaryIngredientType,mainPictureURL:b.mainPictureURLs[0],mainPictureURLs:b.mainPictureURLs,mainVideo:b.recipe.mainVideo,prepTime:b.recipe.prepTime,totalTime:b.recipe.totalTime,manActiveTime:b.recipe.manActiveTime,manTotalTime:b.recipe.manTotalTime,hasBeenRecipeOfTheDay:!1,datesUsedAsRecipeOfTheDay:[],isRecipeOfTheDay:!1,compatibilityVersion:g}},b.useProdServer,b.useDevServer).then(function(b){alert("Success! Recipe "+b[0].name+"was saved! Refresh form."),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.noServerSelected=function(){return!b.useProdServer&&!b.useDevServer}}]),angular.module("SkillitAdminApp").directive("selectRefresh",function(){return{require:"ngModel",restrict:"A",scope:{options:"="},link:function(a,b,c){a.$watch(a.options,function(c){c&&a.$evalAsync(function(){b.selectpicker("refresh")})})}}}),angular.module("SkillitAdminApp").controller("EditIngredientsCtrl",["$window","$scope","ingredientService",function(a,b,c){b.integerval=/^\d*$/,b.inputCategories=["Protein","Vegetables","Starches","Other"],b.inputSubCategories=[],b.cookingMethods=["Bake","Sautee","Boil","Steam","SlowCook"],b.stepTypes=["Bake","Boil","BringToBoil","Cook","Custom","Cut","Dry","Heat","Place","PreheatOven","Sautee","Season","SlowCook","Steam","EquipmentPrep","Stir","General"],b.subTypes=[],b.serverType="DEVELOPMENT",b.reloadIngredients=function(a){var d=!1;"PRODUCTION"===a&&(d=!0),b.serverType=a,c.getAllIngredients(d).then(function(a){b.ingredients=a},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadIngredients("DEVELOPMENT"),b.changeInputCategory=function(){if(b.ingredient)switch(b.ingredient.inputCategory){case"Protein":b.inputSubCategories=["Meat","Seafood","Other"];break;default:b.inputSubCategories=["None"]}},b.changeSelectedIngredient=function(){if(b.selectedIngredient){b.ingredient=angular.copy(b.selectedIngredient),b.ingredientTipsIndicatorArray=new Array(b.ingredient.ingredientTips.length),b.ingredientTipsIndicatorArray.fill(!0);for(var a=0;a<b.ingredients.length;a++)for(var c=0;c<b.ingredients[a].ingredientTips.length;c++)b.setSubTypes(b.ingredients[a].ingredientTips[c].stepType,c);b.ingredientFormsIndicatorArray=new Array(b.ingredient.ingredientForms.length),b.ingredientFormsIndicatorArray.fill(!0),b.changeInputCategory()}},b.isIngredientFormMinimized=function(a){return b.ingredientFormsIndicatorArray[a]},b.removeCookingTime=function(a,b){a.cookingTimes.splice(b,1)},b.addCookingTime=function(a){a.cookingTimes.push({cookingMethod:"",minTime:"",maxTime:"",timesArePerSide:!1})},b.removeIngredientForm=function(a){b.ingredient.ingredientForms.splice(a,1),b.ingredientFormsIndicatorArray.splice(a,1)},b.toggleIngredientForm=function(a){b.ingredientFormsIndicatorArray[a]=!b.ingredientFormsIndicatorArray[a]},b.getIngredientFormVisibilityText=function(a){return b.ingredientFormsIndicatorArray[a]?"Expand":"Minimize"},b.addIngredientForm=function(){b.ingredient.ingredientForms.push({name:"",cookingTimes:[{cookingMethod:"",minTime:"",maxTime:"",timesArePerSide:!1}]})},b.isIngredientTipMinimized=function(a){return b.ingredientTipsIndicatorArray[a]},b.setSubTypes=function(a,c){switch(a){case"Cut":b.subTypes[c]=["Cut","Chop","Dice","Slice","Mince","all"];break;case"Dry":b.subTypes[c]=["Pat","Rub","all"];break;case"EquipmentPrep":b.subTypes[c]=["Grease","Line","all"];break;case"Stir":b.subTypes[c]=["Stir","Flip","all"];break;default:b.subTypes[c]=["all"]}},b.toggleTip=function(a){b.ingredientTipsIndicatorArray[a]=!b.ingredientTipsIndicatorArray[a]},b.getTipVisibilityText=function(a){return b.ingredientTipsIndicatorArray[a]?"Expand":"Minimize"},b.removeTip=function(a){b.ingredient.ingredientTips.splice(a,1),b.ingredientTipsIndicatorArray.splice(a,1)},b.addIngredientTip=function(){b.ingredient.ingredientTips.push({stepType:"",videoInfo:{}})},b.cancelChanges=function(){b.changeSelectedIngredient()},b.noServerSelected=function(){return!b.useProdServer&&!b.useDevServer},b.saveChanges=function(){b.ingredient.showInSelection||(b.ingredient.showInSelection=!1),console.log("ingredinet",b.ingredient),c.updateIngredient({name:b.ingredient.name,ingredientForms:b.ingredient.ingredientForms,ingredientTips:b.ingredient.ingredientTips,inputCategory:b.ingredient.inputCategory,inputSubCategory:b.ingredient.inputSubCategory,units:b.ingredient.units,unitIsASingleItem:b.ingredient.unitIsASingleItem,servingsPerUnit:b.ingredient.servingsPerUnit,nameFormFlag:"standardForm",showInSelection:b.ingredient.showInSelection,useFormNameForDisplay:b.ingredient.useFormNameForDisplay,_id:b.ingredient._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedRecipeIds&&b.affectedRecipeIds.length>0&&(c+=" Affected Recipe Ids: \n"+b.affectedRecipeIds.toString()),alert("Ingredient successfully updated! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.deleteIngredient=function(){c.deleteIngredient({_id:b.ingredient._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedRecipeIds&&b.affectedRecipeIds.length>0&&(c+=" Affected Recipe Ids: \n"+b.affectedRecipeIds.toString()),alert("Ingredient successfully deleted. Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})}}]),angular.module("SkillitAdminApp").controller("EditArticlesCtrl",["$window","$scope","articleService","dailyTipsService","glossaryService","trainingVideosService","howToShopService",function(a,b,c,d,e,f,g){b.serverType="DEVELOPMENT",b.reloadEntries=function(a){var h=!1;"PRODUCTION"===a&&(h=!0),b.serverType=a,c.getAllArticles(h).then(function(a){b.articles=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),d.getAllDailyTips(h).then(function(a){b.tips=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),e.getAllGlossaryEntries(h).then(function(a){b.glossaryEntries=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),f.getAllTrainingVideos(h).then(function(a){b.trainingVideos=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),g.getAllHowToShopEntries(h).then(function(a){b.howToShopEntries=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)})},b.reloadEntries("DEVELOPMENT"),b.changeSelectedArticle=function(){b.selectedArticle&&(b.article=angular.copy(b.selectedArticle),b.contentSectionIndicatorArray=new Array(b.article.contentSections.length),b.contentSectionIndicatorArray.fill(!0))},b.isMinimizedContentSection=function(a){return b.contentSectionIndicatorArray[a]},b.removeContentSection=function(a){b.article.contentSections.splice(a,1),b.contentSectionIndicatorArray.splice(a,1)},b.toggleContentSection=function(a){b.contentSectionIndicatorArray[a]=!b.contentSectionIndicatorArray[a]},b.getContentSectionToggleText=function(a){return b.contentSectionIndicatorArray[a]?"Expand":"Minimize"},b.cancelChanges=function(){b.changeSelectedArticle()},b.noServerSelected=function(){return!b.useDevServer&&!b.useProdServer},b.saveChanges=function(){c.updateArticle({title:b.article.title,contentSections:b.article.contentSections,_id:b.article._id},b.useProdServer,b.useDevServer).then(function(b){alert("Article successfully updated! Refresh page."),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.deleteArticle=function(){c.deleteArticle({_id:b.article._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedLessonIds&&b.affectedLessonIds.length>0&&(c+=" Affected Lesson Ids: \n"+b.affectedLessonIds.toString()),alert("Article successfully deleted! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})}}]),angular.module("SkillitAdminApp").directive("editContentSection",function(){return{templateUrl:"views/editcontentsection.html",restrict:"E",scope:{section:"=",tips:"=",glossaryEntries:"=glossaries",howToShopEntries:"=howtos",trainingVideos:"=trainings"},link:function(a,b,c){a.contentTypes=["text","picture","video"],a.contentPieceIndicatorArray=new Array(a.section.contentArray.length),a.contentPieceIndicatorArray.fill(!0),a.textChunkForPieceIndicator=new Array(a.section.contentArray.length);for(var d=0;d<a.section.contentArray.length;d++)"text"===a.section.contentArray[d].type?(a.textChunkForPieceIndicator[d]=new Array(a.section.contentArray[d].textChunks.length),a.textChunkForPieceIndicator[d].fill(!0)):a.textChunkForPieceIndicator[d]=[];a.contentPieceMinimized=function(b){return a.contentPieceIndicatorArray[b]},a.isMinimizedTextChunk=function(b,c){return a.textChunkForPieceIndicator[b][c]},a.removeTextChunk=function(b,c){a.section.contentArray[b].textChunks.splice(c,1),a.textChunkForPieceIndicator[b].splice(c,1)},a.toggleTextChunk=function(b,c){a.textChunkForPieceIndicator[b][c]=!a.textChunkForPieceIndicator[b][c]},a.addTextChunk=function(b){a.section.contentArray[b].textChunks||(a.section.contentArray[b].textChunks=[]),a.section.contentArray[b].textChunks.push({}),a.textChunkForPieceIndicator[b].push(!1)},a.getToggleTextChunkText=function(b,c){return a.textChunkForPieceIndicator[b][c]?"Expand":"Minimize"},a.removeContentPiece=function(b){a.section.contentArray.splice(b,1),a.contentPieceIndicatorArray.splice(b),a.textChunkForPieceIndicator.splice(b)},a.toggleContentPiece=function(b){a.contentPieceIndicatorArray[b]=!a.contentPieceIndicatorArray[b]},a.getContentPieceToggleText=function(b){return a.contentPieceIndicatorArray[b]?"Expand":"Minimize"},a.addContentPiece=function(){a.section.contentArray.push({}),a.contentPieceIndicatorArray.push(!1),a.textChunkForPieceIndicator.push([])}}}}),angular.module("SkillitAdminApp").controller("EditLessonsCtrl",["$window","$scope","lessonService","articleService","dailyTipsService","glossaryService","trainingVideosService","howToShopService",function(a,b,c,d,e,f,g,h){b.itemTypes=["tip","glossary","howToShop","trainingVideo"],b.serverType="DEVELOPMENT",b.reloadLessons=function(a){var i=!1;"PRODUCTION"===a&&(i=!0),b.serverType=a,c.getAllLessons(i).then(function(a){b.lessons=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),d.getArticlesTitleId(i).then(function(a){b.articles=a.data},function(a){alert("Server Error - see console logs for details"),console.log("error response: ",a)}),e.getAllDailyTips(i).then(function(a){b.tips=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),f.getAllGlossaryEntries(i).then(function(a){b.glossaryEntries=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),g.getAllTrainingVideos(i).then(function(a){b.trainingVideos=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),h.getAllHowToShopEntries(i).then(function(a){b.howToShopEntries=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)})},b.reloadLessons("DEVELOPMENT"),b.changeSelectedLesson=function(){b.selectedLesson&&(b.lesson=angular.copy(b.selectedLesson))},b.addItem=function(){b.lesson.itemIds.push({id:b.selectedItem,type:b.itemType})},b.canAddAllForItemType=function(){return b.lesson&&!b.lesson.isArticle&&b.itemType&&""!==b.itemType?!0:!1},b.addAllOfItemType=function(){for(var a=b.getSelectedTypeItems(),c=a.length-1;c>=0;c--)b.lesson.itemIds.push({id:a[c]._id,type:b.itemType})},b.getArticleLabel=function(){return b.lesson?b.lesson.isArticle:void 0},b.getItemLabel=function(){return b.lesson?!b.lesson.isArticle:void 0},b.getSelectedTypeItems=function(){switch(b.itemType){case"tip":return b.tips;case"glossary":return b.glossaryEntries;case"howToShop":return b.howToShopEntries;case"trainingVideo":return b.trainingVideos;default:return[]}},b.removeItemId=function(a){b.lesson.itemIds.splice(a,1)},b.noServerSelected=function(){return!b.useDev&&!b.useProd},b.cancelChanges=function(){b.changeSelectedLesson()},b.saveChanges=function(){c.updateLesson({name:b.lesson.name,timeEstimate:b.lesson.timeEstimate,description:b.lesson.description,isArticle:b.lesson.isArticle,articleId:b.lesson.articleId,itemIds:b.lesson.itemIds,pictureURL:b.lesson.pictureURL,_id:b.lesson._id},b.useProd,b.useDev).then(function(b){alert("Lesson successfully updated! Refresh page."),a.location.reload(!0)},function(b){alert("Server Error - check console logs for details"),console.log("error response: ",b),a.location.reload(!0)})},b.deleteLesson=function(){c.deleteLesson({_id:b.lesson._id},b.useProd,b.useDev).then(function(b){var c="";b=b[0],b.affectedChapterIds&&b.affectedChapterIds.length>0&&(c+=" Affected ChapterIds: \n"+b.affectedChapterIds.toString()),alert("Lesson successfully deleted. Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})}}]),angular.module("SkillitAdminApp").controller("EditChapterCtrl",["$window","$scope","chapterService","lessonService",function(a,b,c,d){b.integerval=/^\d*$/,b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var e=!1;"PRODUCTION"===a&&(e=!0),b.serverType=a,c.getAllChapters(e).then(function(a){b.chapters=a.data},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)}),d.getLessonsForChapterConstruction(e).then(function(a){b.lessons=a.lessons},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)})},b.reloadStuff("DEVELOPMENT"),b.changeSelectedChapter=function(){b.selectedChapter&&(b.chapter=angular.copy(b.selectedChapter),b.chapterTimeEstimate=parseInt(b.chapter.timeEstimate,10));
},b.addLesson=function(){b.chapterTimeEstimate+=parseInt(b.selectedLesson.timeEstimate),b.chapter.lessonIds.push(b.selectedLesson._id)},b.removeLesson=function(a){for(var c,d=b.lessons.length-1;d>=0;d--)if(b.lessons[d]._id===b.chapter.lessonIds[a]){c=b.lessons[d];break}c?(b.chapterTimeEstimate-=parseInt(c.timeEstimate,10),b.chapter.lessonIds.splice(a,1)):console.log("Lesson couldn't be found via id matching")},b.cancelChanges=function(){b.changeSelectedChapter()},b.saveChanges=function(){b.chapter.orderPreference||(b.chapter.orderPreference=-1),c.updateChapter({name:b.chapter.name,description:b.chapter.description,lessonIds:b.chapter.lessonIds,timeEstimate:b.chapterTimeEstimate,pictureURL:b.chapter.pictureURL,orderPreference:b.chapter.orderPreference,_id:b.chapter._id},b.useProdServer,b.useDevServer).then(function(b){alert("Chapter successfully updated! Refresh page."),a.location.reload(!0)},function(b){alert("Server Error - check console logs for details"),console.log("error response: ",b),a.location.reload(!0)})},b.deleteChapter=function(){c.deleteChapter({_id:b.chapter._id},b.useProdServer,b.useDevServer).then(function(b){alert("Chapter successfully deleted! Refresh page."),a.location.reload(!0)},function(b){alert("Server Error - check console logs for details"),console.log("error response: ",b),a.location.reload(!0)})},b.noServerSelected=function(){return!b.useDevServer&&!b.useProdServer}}]),angular.module("SkillitAdminApp").controller("EditDailytipsCtrl",["$window","$scope","dailyTipsService","itemCollectionService",function(a,b,c,d){b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var e=!1;"PRODUCTION"===a&&(e=!0),b.serverType=a,c.getAllDailyTips(e).then(function(a){b.tips=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),d.getItemCollectionsForType("dailyTip",e).then(function(a){b.tipCollections=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadStuff("DEVELOPMENT"),b.changeSelectedTip=function(){b.selectedTip&&(b.dailyTip=angular.copy(b.selectedTip))},b.removeCollection=function(a){b.dailyTip.collectionIds.splice(a,1)},b.addCollection=function(){b.dailyTip.collectionIds.push(b.curCollectionId)},b.cancelChanges=function(){b.changeSelectedTip()},b.saveChanges=function(){c.updateDailyTip({title:b.dailyTip.title,text:b.dailyTip.text,picture:b.dailyTip.picture,video:b.dailyTip.video,collectionIds:b.dailyTip.collectionIds,hasBeenDailyTip:b.dailyTip.hasBeenDailyTip,isTipOfTheDay:b.dailyTip.isTipOfTheDay,_id:b.dailyTip._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedArticleIds&&b.affectedArticleIds.length>0&&(c=" Affected Articles that referenced Tip: \n"+b.affectedArticleIds.toString()),alert("DailyTip successfully updated! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.deleteDailyTip=function(){c.deleteDailyTip({_id:b.dailyTip._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedArticleIds&&b.affectedArticleIds.length>0&&(c+=" Affected ArticleIds: \n"+b.affectedArticleIds.toString()+"\n"),b.affectedLessonIds&&b.affectedLessonIds.length>0&&(c+=" Affected LessonIds: \n"+b.affectedLessonIds.toString()),alert("DailyTip successfully deleted! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.noServerSelected=function(){return!b.useDevServer&&!b.useProdServer}}]),angular.module("SkillitAdminApp").controller("EditDishesCtrl",["$window","$scope","dishService",function(a,b,c){b.integerval=b.integerval=/^\d*$/,b.serverType="DEVELOPMENT",b.reloadDishes=function(a){var d=!1;"PRODUCTION"===a&&(d=!0),b.serverType=a,c.getAllDishes(d).then(function(a){b.dishes=a},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadDishes("DEVELOPMENT"),b.changeSelectedDish=function(){b.selectedDish&&(b.dish=angular.copy(b.selectedDish))},b.cancelChanges=function(){b.changeSelectedDish()},b.saveChanges=function(){c.updateDish({name:b.dish.name,ingredientCapacity:b.dish.ingredientCapacity,_id:b.dish._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedRecipeIds&&b.affectedRecipeIds.length>0&&(c+=" Affected Recipe Ids: \n"+b.affectedRecipeIds.toString()),alert("Dish successfully updated! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.deleteDish=function(){c.deleteDish({_id:b.dish._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedRecipeIds&&b.affectedRecipeIds.length>0&&(c+=" Affected Recipe Ids: \n"+b.affectedRecipeIds.toString()),alert("Dish successfully deleted! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})}}]),angular.module("SkillitAdminApp").controller("EditGlossaryEntriesCtrl",["$window","$scope","glossaryService","itemCollectionService",function(a,b,c,d){b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var e=!1;"PRODUCTION"===a&&(e=!0),b.serverType=a,c.getAllGlossaryEntries(e).then(function(a){b.glossaryEntries=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),d.getItemCollectionsForType("glossary",e).then(function(a){b.glossaryCollections=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadStuff("DEVELOPMENT"),b.changeSelectedEntry=function(){b.selectedEntry&&(b.entry=angular.copy(b.selectedEntry))},b.removeCollection=function(a){b.entry.collectionIds.splice(a,1)},b.addCollection=function(){b.entry.collectionIds.push(b.curCollectionId)},b.cancelChanges=function(){b.changeSelectedEntry()},b.saveChanges=function(){c.updateGlossaryEntry({title:b.entry.title,text:b.entry.text,picture:b.entry.picture,video:b.entry.video,collectionIds:b.entry.collectionIds,_id:b.entry._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedArticleIds&&b.affectedArticleIds.length>0&&(c=" Affected Articles that referenced Tip: \n"+b.affectedArticleIds.toString()),alert("Glossary Entry successfully updated! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.deleteGlossary=function(){c.deleteGlossaryEntry({_id:b.entry._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedArticleIds&&b.affectedArticleIds.length>0&&(c+=" Affected ArticleIds: \n"+b.affectedArticleIds.toString()+"\n"),b.affectedLessonIds&&b.affectedLessonIds.length>0&&(c+=" Affected LessonIds: \n"+b.affectedLessonIds.toString()),alert("Glossary Entry successfully deleted! Refresh page"+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.noServerSelected=function(){return!b.useProdServer&&!b.useDevServer}}]),angular.module("SkillitAdminApp").controller("EditHowToShopEntriesCtrl",["$window","$scope","howToShopService","itemCollectionService",function(a,b,c,d){b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var e=!1;"PRODUCTION"===a&&(e=!0),b.serverType=a,c.getAllHowToShopEntries(e).then(function(a){b.howToShopEntries=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),d.getItemCollectionsForType("howToShop",e).then(function(a){b.howToShopCollections=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadStuff("DEVELOPMENT"),b.changeSelectedEntry=function(){b.selectedEntry&&(b.howToShopEntry=angular.copy(b.selectedEntry))},b.removePicture=function(a){b.howToShopEntry.pictures.splice(a,1)},b.addPicture=function(){b.howToShopEntry.pictures.push({})},b.removeCollection=function(a){b.howToShopEntry.collectionIds.splice(a,1)},b.addCollection=function(){b.howToShopEntry.collectionIds.push(b.curCollectionId)},b.cancelChanges=function(){b.changeSelectedEntry()},b.saveChanges=function(){c.updateHowToShopEntry({title:b.howToShopEntry.title,text:b.howToShopEntry.text,pictures:b.howToShopEntry.pictures,collectionIds:b.howToShopEntry.collectionIds,_id:b.howToShopEntry._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedArticleIds&&b.affectedArticleIds.length>0&&(c=" Affected Articles that referenced Tip: \n"+b.affectedArticleIds.toString()),alert("Entry successfully updated. Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.deleteEntry=function(){c.deleteHowToShopEntry({_id:b.howToShopEntry._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedArticleIds&&b.affectedArticleIds.length>0&&(c+=" Affected ArticleIds: \n"+b.affectedArticleIds.toString()+"\n"),b.affectedLessonIds&&b.affectedLessonIds.length>0&&(c+=" Affected LessonIds: \n"+b.affectedLessonIds.toString()),alert("Entry successfully deleted. Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.noServerSelected=function(){return!b.useProdServer&&!b.useDevServer}}]),angular.module("SkillitAdminApp").controller("EditItemCollectionsCtrl",["$window","$scope","itemCollectionService","dietaryPreferenceService",function(a,b,c,d){b.integerval=/^\d*$/,b.itemTypes=b.itemTypes=["dailyTip","trainingVideo","howToShop","glossary","recipe"],b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var e=!1;"PRODUCTION"===a&&(e=!0),b.serverType=a,c.getAllItemCollections(e).then(function(a){var c=a.data;b.collections=[];for(var d in c)for(var e=c[d],f=e.length-1;f>=0;f--)e[f].displayName=e[f].name+" -- "+d,b.collections.push(e[f])},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),d.getAllDietaryPreferences(e).then(function(a){b.dietaryPreferences=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadStuff("DEVELOPMENT"),b.changeSelectedCollection=function(){if(b.selectedCollection){for(var a=b.selectedCollection.dietaryPreferenceIds.length-1;a>=0;a--)for(var c=b.dietaryPreferences.length-1;c>=0;c--)b.selectedCollection.dietaryPreferenceIds[a]==b.dietaryPreferences[c]._id&&(b.dietaryPreferences[c].addToCollection=!0);b.itemCollection=angular.copy(b.selectedCollection)}},b.cancelChanges=function(){b.changeSelectedCollection()},b.noServerSelected=function(){return!b.useProdServer&&!b.useDevServer},b.saveChanges=function(){b.itemCollection.orderPreference||(b.itemCollection.orderPreference=-1);for(var d=[],e=b.dietaryPreferences.length-1;e>=0;e--)b.dietaryPreferences[e].addToCollection&&d.push(b.dietaryPreferences[e]._id);c.updateItemCollection({name:b.itemCollection.name,description:b.itemCollection.description,itemType:b.itemCollection.itemType,pictureURL:b.itemCollection.pictureURL,orderPreference:b.itemCollection.orderPreference,isBYOCollection:b.itemCollection.isBYOCollection,dietaryPreferenceIds:d,_id:b.itemCollection._id},b.useProdServer,b.useDevServer).then(function(b){alert("ItemCollection successfully updated! Refresh page."),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.deleteCollection=function(){c.deleteItemCollection({_id:b.itemCollection._id},b.useProdServer,b.useDevServer).then(function(b){b=b[0];var c="";switch(b.type){case"tips":c+=" Affected TipIds: \n"+b.affectedIds.toString();break;case"videos":c+=" Affected VideoIds: \n"+b.affectedIds.toString();break;case"howToShop":c+=" Affected HowToShopIds: \n"+b.affectedIds.toString();break;case"glossary":c+=" Affected GlossaryIds: \n"+b.affectedIds.toString();break;case"recipe":c+=" Affected RecipeIds: \n"+b.affectedIds.toString()}alert("ItemCollection successfully deleted! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})}}]),angular.module("SkillitAdminApp").controller("EditSeasoningProfilesCtrl",["$window","$scope","seasoningService",function(a,b,c){b.serverType="DEVELOPMENT",b.reloadProfiles=function(a){var d=!1;"PRODUCTION"===a&&(d=!0),b.serverType=a,c.getAllSeasonings(d).then(function(a){b.seasonings=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadProfiles("DEVELOPMENT"),b.changeSelectedSeasoning=function(){b.selectedSeasoning&&(b.seasoningProfile=angular.copy(b.selectedSeasoning))},b.removeSpice=function(a){b.seasoningProfile.spices.splice(a,1)},b.addSpice=function(){b.seasoningProfile.spices.push("")},b.cancelChanges=function(){b.changeSelectedSeasoning()},b.saveChanges=function(){c.updateSeasoning({name:b.seasoningProfile.name,recipeTitleAlias:b.seasoningProfile.recipeTitleAlias,spices:b.seasoningProfile.spices,_id:b.seasoningProfile._id},b.useProdServer,b.useDevServer).then(function(b){b=b[0];var c="";b.affectedRecipeIds&&b.affectedRecipeIds.length>0&&(c+=" Affected Recipe Ids: \n"+b.affectedRecipeIds.toString()),alert("Seasoning successfully updated! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.deleteSeasoningProfile=function(){c.deleteSeasoning({_id:b.seasoningProfile._id},b.useProdServer,b.useDevServer).then(function(b){b=b[0];var c="";b.affectedRecipeIds&&b.affectedRecipeIds.length>0&&(c+=" Affected Recipe Ids: \n"+b.affectedRecipeIds.toString()),alert("Seasoning successfully deleted! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.noServerSelected=function(){return!b.useDevServer&&!b.useProdServer}}]),angular.module("SkillitAdminApp").controller("EditTrainingVideosCtrl",["$window","$scope","trainingVideosService","itemCollectionService",function(a,b,c,d){b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var e=!1;"PRODUCTION"===a&&(e=!0),b.serverType=a,c.getAllTrainingVideos(e).then(function(a){b.videos=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),d.getItemCollectionsForType("trainingVideo",e).then(function(a){b.trainingVideoCollections=a.data},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)})},b.reloadStuff("DEVELOPMENT"),b.changeSelectedVideo=function(){b.selectedVideo&&(b.trainingVideo=angular.copy(b.selectedVideo))},b.removeCollection=function(a){b.trainingVideo.collectionIds.splice(a,1)},b.addCollection=function(){b.trainingVideo.collectionIds.push(b.curCollectionId)},b.cancelChanges=function(){b.changeSelectedVideo()},b.saveChanges=function(){c.updateTrainingVideo({title:b.trainingVideo.title,video:b.trainingVideo.video,picture:b.trainingVideo.picture,collectionIds:b.trainingVideo.collectionIds,_id:b.trainingVideo._id},b.useProdServer,b.useDevServer).then(function(b){b=b[0];var c="";b.affectedArticleIds&&b.affectedArticleIds.length>0&&(c=" Affected Articles that referenced Tip: \n"+b.affectedArticleIds.toString()),alert("Video updated successfully! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.deleteVideo=function(){c.deleteTrainingVideo({_id:b.trainingVideo._id},b.useProdServer,b.useDevServer).then(function(b){var c="";b=b[0],b.affectedArticleIds&&b.affectedArticleIds.length>0&&(c+=" Affected ArticleIds: \n"+b.affectedArticleIds.toString()+"\n"),b.affectedLessonIds&&b.affectedLessonIds.length>0&&(c+=" Affected LessonIds: \n"+b.affectedLessonIds.toString()),alert("Video successfully deleted! Refresh page."+c),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.noServerSelected=function(){return!b.useProdServer&&!b.useDevServer}}]),angular.module("SkillitAdminApp").factory("RestangularProductionService",["Restangular",function(a){return a.withConfig(function(a){a.setBaseUrl("https://skillicookingprodapi.info/api/"),a.setDefaultHeaders({password:"sm@34MLPG9L&rWph|YMwcg=&5|R3TMZ!!H+F48ThGFl56E&*RD"})})}]),angular.module("SkillitAdminApp").controller("DietaryPreferencesCtrl",["$window","$scope","dietaryPreferenceService","ingredientService",function(a,b,c,d){b.serverType="DEVELOPMENT",b.reloadEntries=function(a){var e=!1;"PRODUCTION"===a&&(e=!0),b.serverType=a,c.getAllDietaryPreferences(e).then(function(a){b.dietaryPreferences=a.data},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)}),d.getAllIngredients(e).then(function(a){b.ingredients=a},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)})},b.reloadEntries("DEVELOPMENT"),b.reset=function(){a.location.reload(!0)},b.save=function(){for(var a=[],d=b.ingredients.length-1;d>=0;d--)b.ingredients[d].useInPreference&&a.push(b.ingredients[d].name.standardForm);c.addNewDietaryPreference({dietaryPreference:{title:b.dietaryPreference.title,outlawIngredients:a}},b.useProdServer,b.useDevServer).then(function(a){a=a[0];var b="Success! Dietary Preference "+a.data.title+" was saved!";alert(b)},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message),b.reset()})},b.noServerSelected=function(){return!b.useDevServer&&!b.useProdServer}}]),angular.module("SkillitAdminApp").controller("EditDietaryPreferencesCtrl",["$window","$scope","dietaryPreferenceService","ingredientService",function(a,b,c,d){function e(){for(var a=b.ingredients.length-1;a>=0;a--)b.ingredients[a].useInPreference=!1;for(var c=b.dietaryPreference.outlawIngredients.length-1;c>=0;c--)for(var a=b.ingredients.length-1;a>=0;a--)b.dietaryPreference.outlawIngredients[c]===b.ingredients[a].name.standardForm&&(b.ingredients[a].useInPreference=!0)}b.serverType="DEVELOPMENT",b.reloadEntries=function(a){var e=!1;"PRODUCTION"===a&&(e=!0),b.serverType=a,c.getAllDietaryPreferences(e).then(function(a){b.dietaryPreferences=a.data},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)}),d.getAllIngredients(e).then(function(a){b.ingredients=a},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message)})},b.reloadEntries("DEVELOPMENT"),b.changeSelectedDietaryPreference=function(){b.selectedDietaryPreference&&(b.dietaryPreference=angular.copy(b.selectedDietaryPreference),e())},b.cancelChanges=function(){b.changeSelectedDietaryPreference()},b.saveChanges=function(){for(var d=[],e=b.ingredients.length-1;e>=0;e--)b.ingredients[e].useInPreference&&d.push(b.ingredients[e].name.standardForm);c.updateDietaryPreference({dietaryPreference:{title:b.dietaryPreference.title,outlawIngredients:d,_id:b.dietaryPreference._id}},b.useProdServer,b.useDevServer).then(function(b){alert("Dietary Preference successfully updated! Refresh page."),a.location.reload(!0)},function(a){alert("Server Error - check console logs for details"),console.log("error response: ",a)})},b.noServerSelected=function(){return!b.useDevServer&&!b.useProdServer},b.deleteDietaryPreference=function(){c.deleteDietaryPreference({_id:b.dietaryPreference._id},b.useProdServer,b.useDevServer).then(function(b){alert("Dietary Preference successfully deleted! Refresh page."),a.location.reload(!0)},function(b){alert("Server Error - check console logs for details"),console.log("error response: ",b),a.location.reload(!0)})}}]),angular.module("SkillitAdminApp").factory("dietaryPreferenceService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("dietaryPreferences"),d=b.all("dietaryPreferences");return{getAllDietaryPreferences:function(a){return a?d.customGET("/"):c.customGET("/")},addNewDietaryPreference:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},updateDietaryPreference:function(a,b,e){var f=[];return console.log("pref",a),b&&f.push(d.customPUT(a,"/"+a.dietaryPreference._id)),e&&f.push(c.customPUT(a,"/"+a.dietaryPreference._id)),Promise.all(f)},deleteDietaryPreference:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").controller("EditrecipebyidCtrl",["$window","$scope","compatibilityService","recipeService","itemCollectionService","seasoningService","ingredientService","dishService","recipeAdjectiveService","healthModifierService",function(a,b,c,d,e,f,g,h,i,j){function k(){b.nameBodies=angular.copy([]),b.conditionalDescriptions=angular.copy([]);var a={},c={};console.log("recipe.nameBodies",b.recipe.nameBodies);for(var d in b.recipe.nameBodies)for(var e=b.recipe.nameBodies[d].length-1;e>=0;e--)a[b.recipe.nameBodies[d][e]]||(a[b.recipe.nameBodies[d][e]]=!0);for(var d in b.recipe.conditionalDescriptions)for(var f=b.recipe.conditionalDescriptions[d].length-1;f>=0;f--)c[b.recipe.conditionalDescriptions[d][f]]||(c[b.recipe.conditionalDescriptions[d][f]]=!0);for(var g in a)b.nameBodies.push({name:g});for(var h in c)b.conditionalDescriptions.push({description:h});b.nameDictionary=angular.copy(b.recipe.nameBodies),b.nameDictionary||(b.nameDictionary={}),console.log("nameDictionary change",angular.copy(b.nameDictionary)),b.descriptionDictionary=angular.copy(b.recipe.conditionalDescriptions),b.descriptionDictionary||(b.descriptionDictionary={})}function l(){var a=Object.keys(b.descriptionDictionary),c=Object.keys(b.nameDictionary);c=c.concat(a);var d=Array.from(new Set(c));return d}b.integerval=/^\d*$/,b.recipeTypes=["AlaCarte","BYO","Full"],b.recipeCategories=["Sautee","Scramble","Easy Dinners","Roast","Pasta","Hash","Rice","Quinoa"],b.servingSizes=["1-2","2-3","3-4","4-5","5-6","6-7","7-8","8-9","9-10"],b.cookingMethods=["Bake","Sautee","Boil","Steam","SlowCook"],b.stepTypes=["Bake","Boil","BreakEgg","BringToBoil","Cook","Custom","Cut","Dry","Heat","Move","Place","PreheatOven","Sautee","Serve","Season","SlowCook","Steam","EquipmentPrep","Stir"],b.constructingStep={},b.constructingStep.stepInputs={},b.selectedIngredientForms=[],b.selectedRecipe={},b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var c=!1;"PRODUCTION"===a&&(c=!0),b.serverType=a,e.getItemCollectionsForType("recipe",c).then(function(a){b.recipeCollections=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),f.getAllSeasonings(c).then(function(a){b.seasoningProfiles=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),i.getAllRecipeAdjectives(c).then(function(a){b.recipeAdjectives=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),j.getAllHealthModifiers(c).then(function(a){b.healthModifiers=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),g.getAllIngredients(c).then(function(a){b.ingredients=a},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)}),h.getAllDishes(c).then(function(a){b.dishes=a},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadStuff("DEVELOPMENT"),b.fetchObj={},b.fetchRecipe=function(){d.getSingleRecipe(b.fetchObj.fetchId,b.fetchObj.fetchName,b.fetchObj.useProd).then(function(a){b.selectedRecipe=a.data,b.changeSelectedRecipe()},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.addNameBody=function(){b.nameBodies||(b.nameBodies=[]),b.nameBodies.push({})},b.removeNameBody=function(a){console.log("preRemove nameDictionary",angular.copy(b.nameDictionary));var c=b.nameBodies[a].name;for(var d in b.nameDictionary)for(var e=b.nameDictionary[d].length-1;e>=0;e--)b.nameDictionary[d][e]===c&&(b.nameDictionary[d].splice(e,1),0===b.nameDictionary[d].length&&delete b.nameDictionary[d]);b.nameBodies.splice(a,1),console.log("postRemove nameDictionary",angular.copy(b.nameDictionary))},b.addDescription=function(){b.conditionalDescriptions||(b.conditionalDescriptions=[]),b.conditionalDescriptions.push({})},b.removeDescription=function(a){var c=b.conditionalDescriptions[a].description;for(var d in b.conditionalDescriptions)for(var e=b.descriptionDictionary[d].length-1;e>=0;e--)b.descriptionDictionary[d][e]===c&&(b.descriptionDictionary.splice(e,1),0===b.descriptionDictionary[d].length&&delete b.descriptionDictionary[d]);b.conditionalDescriptions.splice(a,1)},b.originalName="",b.logRecipeName=function(){b.originalName=b.recipe.name},b.updateRecipeName=function(){var a=b.recipe.name.split(" ");if(b.squishedRecipeName=a.join(""),b.recipe.stepList)for(var c=b.recipe.stepList.length-1;c>=0;c--){b.recipe.stepList[c].stepId=b.squishedRecipeName+c;for(var d in b.recipe.stepList[c].stepInputs)if(Array.isArray(b.recipe.stepList[c].stepInputs[d])){for(var e=b.recipe.stepList[c].stepInputs[d].length-1;e>=0;e--)if(b.recipe.stepList[c].stepInputs[d][e].sourceId)for(var f=b.recipe.stepList.length-1;f>=0;f--)if(b.recipe.stepList[f].stepId===b.recipe.stepList[c].stepInputs[d][e].sourceId){b.recipe.stepList[c].stepInputs[d][e].sourceId=b.squishedRecipeName+f;break}}else{var g=b.recipe.stepList;if(b.recipe.stepList[c].stepInputs[d].sourceId)for(var e=g.length-1;e>=0;e--)if(g[e].stepId===b.recipe.stepList[c].stepInputs[d].sourceId){b.recipe.stepList[c].stepInputs[d].sourceId=b.squishedRecipeName+e;break}}}},b.changeSelectedRecipe=function(){b.recipe=angular.copy(b.selectedRecipe),k(),b.mainPictureURLs=angular.copy([]);for(var a=0;a<b.recipe.mainPictureURLs.length;a++)b.mainPictureURLs.push({url:b.recipe.mainPictureURLs[a]});b.ingredientList=b.recipe.ingredientList,b.stepList=b.recipe.stepList,b.typeMinimizedIndicatorArray=new Array(b.recipe.ingredientList.ingredientTypes.length),b.typeMinimizedIndicatorArray.fill(!0),b.stepMinimizedIndicatorArray=new Array(b.stepList.length),b.stepMinimizedIndicatorArray.fill(!0);for(var c=b.recipe.ingredientList.ingredientTypes,a=c.length-1;a>=0;a--)c[a].ingredientMinimizedIndicator=new Array(c[a].ingredients.length),c[a].ingredientMinimizedIndicator.fill(!0);if(b.recipeCollections){console.log("her",b.recipeCollections);for(var a=b.recipe.collectionIds.length-1;a>=0;a--){var d=_.findIndex(b.recipeCollections,function(c){return c._id===b.recipe.collectionIds[a]});d>-1&&(b.recipeCollections[d].useInRecipe=!0)}}if(b.seasoningProfiles){console.log("ler",b.seasoningProfiles);for(var a=b.recipe.choiceSeasoningProfiles.length-1;a>=0;a--){var d=_.findIndex(b.seasoningProfiles,function(c){return c._id===b.recipe.choiceSeasoningProfiles[a]._id});d>-1&&(b.seasoningProfiles[d].useInChoiceSeasonings=!0)}}},b.removeCollection=function(a){b.recipe.collectionIds.splice(a,1)},b.addCollection=function(){b.recipe.collectionIds.push(b.curCollectionId)},b.removePictureURL=function(a){b.mainPictureURLs.splice(a,1)},b.addPictureURL=function(){b.mainPictureURLs.push({})},b.removeCookingMethod=function(a){b.recipe.otherCookingMethods.splice(a,1)},b.addCookingMethod=function(){b.recipe.otherCookingMethods.push(b.otherCookingMethod)},b.addSeasoning=function(){b.recipe.choiceSeasoningProfiles.push(b.availableSeasoning)},b.removeSeasoning=function(a){b.recipe.choiceSeasoningProfiles.splice(a,1)},b.isIngredientMinimized=function(a){return b.typeMinimizedIndicatorArray[a]},b.setSelectedIngredientForms=function(a){var c;c=a&&a.ingredientForms?a.ingredientForms.length:0,b.selectedIngredientForms=new Array(c),b.selectedIngredientForms.fill(!0)},b.isAFormSelected=function(){if(0===b.selectedIngredientForms.length)return!1;for(var a=b.selectedIngredientForms.length-1;a>=0;a--)if(b.selectedIngredientForms[a])return!0;return!1},b.addTypeIngredient=function(a,c){if(b.ingredientCanBeAdded(c)){for(var d=[],e=c.ingredientForms.length-1;e>=0;e--)b.selectedIngredientForms[e]&&d.push(c.ingredientForms[e]);var f={name:c.name,ingredientForms:d,ingredientTips:c.ingredientTips,inputCategory:c.inputCategory,_id:c._id};b.recipe.ingredientList.ingredientTypes[a].ingredients||(b.recipe.ingredientList.ingredientTypes[a].ingredients=[]),b.recipe.ingredientList.ingredientTypes[a].ingredients.push(f),b.recipe.ingredientList.ingredientTypes[a].ingredientMinimizedIndicator.push(!1)}},b.ingredientCanBeAdded=function(a){for(var c,d=b.recipe.ingredientList.ingredientTypes,e=d.length-1;e>=0;e--){c=d[e].ingredients;for(var f=c.length-1;f>=0;f--)if(c[f].name===a.name)return!1}return!0},b.isIngredientMinimized=function(a,b){return a.ingredientMinimizedIndicator[b]},b.toggleIngredientExpand=function(a,b){a.ingredientMinimizedIndicator[b]=!a.ingredientMinimizedIndicator[b]},b.removeTypeIngredient=function(a,b){a.ingredients.splice(b,1),a.ingredientMinimizedIndicator.splice(b,1)},b.isIngredientTypeMinimized=function(a){return b.typeMinimizedIndicatorArray[a]},b.toggleIngredientTypeExpand=function(a){b.typeMinimizedIndicatorArray[a]=!b.typeMinimizedIndicatorArray[a]},b.removeIngredientType=function(a){b.typeMinimizedIndicatorArray.splice(a,1),b.recipe.ingredientList.ingredientTypes.splice(a,1)},b.addIngredientType=function(){b.recipe.ingredientList.ingredientTypes||(b.recipe.ingredientList.ingredientTypes=[]),b.recipe.ingredientList.ingredientTypes.push({typeName:"",displayName:"",ingredients:[],minNeeded:"",ingredientMinimizedIndicator:[]}),b.typeMinimizedIndicatorArray.push(!0)},b.addDish=function(){b.recipe.ingredientList.equipmentNeeded.push(b.typeDish)},b.removeDish=function(a){b.recipe.ingredientList.equipmentNeeded.splice(a,1)},b.isMinimizedStep=function(a){return b.stepMinimizedIndicatorArray[a]},b.toggleStepMinimize=function(a){b.stepMinimizedIndicatorArray[a]=!b.stepMinimizedIndicatorArray[a]},b.getStepMinimizeButtonText=function(a){return b.stepMinimizedIndicatorArray[a]?"Expand":"Minimize"},b.removeStep=function(a){b.recipe.stepList.splice(a,1),b.stepMinimizedIndicatorArray.splice(a,1)},b.getCurStepNumberFromStepList=function(){for(var a=b.recipe.stepList[b.recipe.stepList.length-1],c="",d=a.stepId.length-1;d>=0&&!isNaN(Number(a.stepId.charAt(d)));d--)c=a.stepId.charAt(d)+c;return c},b.addStep=function(){if(!b.squishedRecipeName){var a=b.recipe.name.split(" ");b.squishedRecipeName=a.join("")}b.curStepNumber||(b.recipe.stepList&&0!==b.recipe.stepList.length?b.curStepNumber=b.getCurStepNumberFromStepList():b.curStepNumber=0),b.curStepNumber+=1,b.constructingStep.stepId=b.squishedRecipeName+b.curStepNumber,b.constructingStep.productKeys=[b.constructingStep.productName],b.constructingStep.productName=void 0,b.recipe.stepList.push(b.constructingStep),b.constructingStep={},b.constructingStep.stepInputs={}},b.recipeSanityCheck=function(){return b.recipe&&b.recipe.stepList&&0!==b.recipe.stepList.length&&b.recipe.ingredientList&&b.recipe.ingredientList.ingredientTypes&&0!==b.recipe.ingredientList.ingredientTypes.length&&b.recipe.ingredientList.equipmentNeeded&&b.recipe.collectionIds&&0!==b.recipe.collectionIds.length?!0:!1},b.cancelChanges=function(){b.changeSelectedRecipe()},b.saveChanges=function(){b.recipe.choiceSeasoningProfiles=[];for(var e=b.seasoningProfiles.length-1;e>=0;e--)b.seasoningProfiles[e].useInChoiceSeasonings&&(delete b.seasoningProfiles[e].useInChoiceSeasonings,b.recipe.choiceSeasoningProfiles.push(b.seasoningProfiles[e]));b.recipe.collectionIds=[];for(var e=b.recipeCollections.length-1;e>=0;e--)b.recipeCollections[e].useInRecipe&&(delete b.recipeCollections[e].useInRecipe,b.recipe.collectionIds.push(b.recipeCollections[e]._id));for(var f=l(),e=b.mainPictureURLs.length-1;e>=0;e--)b.mainPictureURLs[e]=b.mainPictureURLs[e].url;var g=c.getVersion(b.recipe);d.updateRecipe({name:b.recipe.name,nameBodies:b.nameDictionary,description:b.recipe.description,conditionalDescriptions:b.descriptionDictionary,allowablePrefixIds:f,defaultServingSize:b.recipe.defaultServingSize,recipeType:b.recipe.recipeType,collectionIds:b.recipe.collectionIds,recipeCategory:b.recipe.recipeCategory,ingredientList:b.recipe.ingredientList,stepList:b.recipe.stepList,primaryCookingMethod:b.recipe.primaryCookingMethod,otherCookingMethods:b.recipe.otherCookingMethods,
canAddSeasoningProfile:b.recipe.canAddSeasoningProfile,defaultSeasoningProfile:b.recipe.defaultSeasoningProfile,choiceSeasoningProfiles:b.recipe.choiceSeasoningProfiles,primaryIngredientType:b.recipe.primaryIngredientType,mainPictureURL:b.mainPictureURLs[0],mainPictureURLs:b.mainPictureURLs,mainVideo:b.recipe.mainVideo,prepTime:b.recipe.prepTime,totalTime:b.recipe.totalTime,manActiveTime:b.recipe.manActiveTime,manTotalTime:b.recipe.manTotalTime,hasBeenRecipeOfTheDay:b.recipe.hasBeenRecipeOfTheDay,datesUsedAsRecipeOfTheDay:b.recipe.datesUsedAsRecipeOfTheDay,isRecipeOfTheDay:b.recipe.isRecipeOfTheDay,_id:b.recipe._id,compatibilityVersion:g},b.useProdServer,b.useDevServer).then(function(b){alert("Recipe successfully updated!"),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.deleteRecipe=function(){d.deleteRecipe({_id:b.recipe._id},b.useProdServer,b.useDevServer).then(function(b){alert("Recipe successfully deleted"),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.noRecipeNameChange=function(){return b.recipe?b.originalName===b.recipe.name:!0},b.duplicateRecipe=function(){console.log("ya know"),delete b.recipe.ingredientList._id;for(var e=b.recipe.ingredientList.ingredientTypes.length-1;e>=0;e--)delete b.recipe.ingredientList.ingredientTypes[e]._id;for(var e=b.recipe.stepList.length-1;e>=0;e--){delete b.recipe.stepList[e]._id;for(var f=b.recipe.stepList[e].stepSpecifics.length-1;f>=0;f--)delete b.recipe.stepList[e].stepSpecifics[f]._id;for(var f=b.recipe.stepList[e].auxiliarySteps.length-1;f>=0;f--)delete b.recipe.stepList[e].auxiliarySteps[f]._id}b.recipe.choiceSeasoningProfiles=[];for(var e=b.seasoningProfiles.length-1;e>=0;e--)b.seasoningProfiles[e].useInChoiceSeasonings&&(delete b.seasoningProfiles[e].useInChoiceSeasonings,b.recipe.choiceSeasoningProfiles.push(b.seasoningProfiles[e]));b.recipe.collectionIds=[];for(var e=b.recipeCollections.length-1;e>=0;e--)b.recipeCollections[e].useInRecipe&&(delete b.recipeCollections[e].useInRecipe,b.recipe.collectionIds.push(b.recipeCollections[e]._id));var g;if(b.recipe.mainPictureURLs){for(var e=b.mainPictureURLs.length-1;e>=0;e--)b.mainPictureURLs[e]=b.mainPictureURLs[e].url;g=b.recipe.mainPictureURLs[0]}else g=b.recipe.mainPictureURL;var h=c.getVersion(b.recipe);d.addNewRecipe({recipe:{name:b.recipe.name,nameBodies:b.nameDictionary,description:b.recipe.description,conditionalDescriptions:b.descriptionDictionary,defaultServingSize:b.recipe.defaultServingSize,recipeType:b.recipe.recipeType,collectionIds:b.recipe.collectionIds,recipeCategory:b.recipe.recipeCategory,ingredientList:b.recipe.ingredientList,stepList:b.recipe.stepList,primaryCookingMethod:b.recipe.primaryCookingMethod,otherCookingMethods:b.recipe.otherCookingMethods,canAddSeasoningProfile:b.recipe.canAddSeasoningProfile,defaultSeasoningProfile:b.recipe.defaultSeasoningProfile,choiceSeasoningProfiles:b.recipe.choiceSeasoningProfiles,primaryIngredientType:b.recipe.primaryIngredientType,mainPictureURL:g,mainPictureURLs:b.recipe.mainPictureURLs,mainVideo:b.recipe.mainVideo,prepTime:b.recipe.prepTime,totalTime:b.recipe.totalTime,manActiveTime:b.recipe.manActiveTime,manTotalTime:b.recipe.manTotalTime,hasBeenRecipeOfTheDay:!1,datesUsedAsRecipeOfTheDay:[],isRecipeOfTheDay:!1,compatibilityVersion:h}},b.useProdServer,b.useDevServer).then(function(b){alert("Success! Recipe "+b[0].name+"was saved! Refresh form."),a.location.reload(!0)},function(b){console.log("Server Error: ",b),alert("Server Error: "+b.message),a.location.reload(!0)})},b.noServerSelected=function(){return!b.useProdServer&&!b.useDevServer}}]),angular.module("SkillitAdminApp").controller("HealthModifiersCtrl",["$window","$scope","healthModifierService",function(a,b,c){b.reset=function(){a.location.reload(!0)},b.save=function(){c.addNewHealthModifier({healthModifier:{name:b.healthModifier.name}},b.useProdServer,b.useDevServer).then(function(a){console.log("modifer",a),alert("Successfully saved modifier")},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message),b.reset()})}}]),angular.module("SkillitAdminApp").controller("EdithealthmodifiersCtrl",["$window","$scope","healthModifierService",function(a,b,c){b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var d=!1;"PRODUCTION"===a&&(d=!0),b.serverType=a,c.getAllHealthModifiers(d).then(function(a){console.log(a),b.modifiers=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadStuff("DEVELOPMENT"),b.changeSelectedModifier=function(){b.selectedModifier&&(b.healthModifier=angular.copy(b.selectedModifier))},b.cancelChanges=function(){b.changeSelectedModifier()},b.saveChanges=function(){c.updateHealthModifier({name:b.healthModifier.name},b.useProdServer,b.useDevServer).then(function(b){b=b[0];var c="";b.affectedRecipeIds&&b.affectedRecipeIds.length>0&&(c+="Affected Recipe Ids: \n"+b.affectedRecipeIds.toString()),alert("Modifier successfully updated! Refresh Page."+c),a.location.reload(!0)},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.deleteModifier=function(){c.deleteModifier({_id:b.healthModifier._id},b.useProdServer,b.useDevServer).then(function(b){b=b[0];var c="";b.affectedRecipeIds&&b.affectedRecipeIds.length>0&&(c+=" Affected Recipe Ids: \n"+b.affectedRecipeIds.toString()),alert("Modifier successfully deleted! Refresh page."+c),a.location.reload(!0)},function(b){alert("Server Error: "+b.message),a.location.reload(!0)})},b.noServerSelected=function(){return!b.useDevServer&&!b.useProdServer}}]),angular.module("SkillitAdminApp").controller("EditrecipeadjectivesCtrl",["$window","$scope","recipeAdjectiveService",function(a,b,c){b.serverType="DEVELOPMENT",b.reloadStuff=function(a){var d=!1;"PRODUCTION"===a&&(d=!0),b.serverType=a,c.getAllRecipeAdjectives(d).then(function(a){b.adjectives=a.data},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.reloadStuff("DEVELOPMENT"),b.changeSelectedAdjective=function(){b.selectedAdjective&&(b.recipeAdjective=angular.copy(b.selectedAdjective))},b.cancelChanges=function(){b.changeSelectedAdjective()},b.saveChanges=function(){c.updateRecipeAdjective({name:b.recipeAdjective.name},b.useProdServer,b.useDevServer).then(function(b){b=b[0];var c="";b.affectedRecipeIds&&b.affectedRecipeIds.length>0&&(c+="Affected Recipe Ids: \n"+b.affectedRecipeIds.toString()),alert("Modifier successfully updated! Refresh Page."+c),a.location.reload(!0)},function(a){console.log("Server Error: ",a),alert("Server Error: "+a.message)})},b.deleteModifier=function(){c.deleteRecipeAdjective({_id:b.recipeAdjective._id},b.useProdServer,b.useDevServer).then(function(b){b=b[0];var c="";b.affectedRecipeIds&&b.affectedRecipeIds.length>0&&(c+=" Affected Recipe Ids: \n"+b.affectedRecipeIds.toString()),alert("Modifier successfully deleted! Refresh page."+c),a.location.reload(!0)},function(b){alert("Server Error: "+b.message),a.location.reload(!0)})},b.noServerSelected=function(){return!b.useDevServer&&!b.useProdServer}}]),angular.module("SkillitAdminApp").controller("RecipeadjectivesCtrl",["$window","$scope","recipeAdjectiveService",function(a,b,c){b.reset=function(){a.location.reload(!0)},b.save=function(){c.addNewRecipeAdjective({recipeTitleAdjective:{name:b.recipeAdjective.name}},b.useProdServer,b.useDevServer).then(function(a){alert("Successfully saved adjective"),b.reset()},function(a){console.log("Server Error: ",a.message),alert("Server Error: "+a.message),b.reset()})}}]),angular.module("SkillitAdminApp").factory("healthModifierService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("healthModifiers"),d=b.all("healthModifiers");return{getAllHealthModifiers:function(a){return a?d.customGET("/"):c.customGET("/")},addNewHealthModifier:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},updateHealthModifier:function(a,b,e){var f=[];return b&&f.push(d.customPUT({healthModifier:a},"/"+a._id)),e&&f.push(c.customPUT({healthModifier:a},"/"+a._id)),Promise.all(f)},deleteHealthModifier:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").factory("recipeAdjectiveService",["Restangular","RestangularProductionService",function(a,b){var c=a.all("recipeTitleAdjectives"),d=b.all("recipeTitleAdjectives");return{getAllRecipeAdjectives:function(a){return a?d.customGET("/"):c.customGET("/")},addNewRecipeAdjective:function(a,b,e){var f=[];return b&&f.push(d.post(a)),e&&f.push(c.post(a)),Promise.all(f)},updateRecipeAdjective:function(a,b,e){var f=[];return b&&f.push(d.customPUT({recipeAdjective:a},"/"+a._id)),e&&f.push(c.customPUT({recipeAdjective:a},"/"+a._id)),Promise.all(f)},deleteRecipeAdjective:function(a,b,e){var f=[];return b&&f.push(d.customDELETE("/"+a._id)),e&&f.push(c.customDELETE("/"+a._id)),Promise.all(f)}}}]),angular.module("SkillitAdminApp").directive("recipeNameDescriptionInput",function(){return{templateUrl:"views/recipenamedescriptioninput.html",restrict:"E",transclude:!1,scope:{seasonings:"=",adjectives:"=",modifiers:"=",dictionary:"=",textObj:"=",type:"=",preloadIndicators:"="},link:function(a,b,c){if(a.seasoningsIndicator=new Array(a.seasonings.length).fill(!1),a.modifiersIndicator=new Array(a.modifiers.length).fill(!1),a.adjectivesIndicator=new Array(a.adjectives.length).fill(!1),"name"===a.type&&(a.isName=!0),"description"===a.type&&(a.isDescription=!0),a.preloadIndicators)for(var d in a.dictionary){var e=!1;if(!e)for(var f=a.seasonings.length-1;f>=0;f--)if(a.seasonings[f]._id===d)for(var g=a.dictionary[d].length-1;g>=0;g--)a.isDescription&&a.textObj.description&&a.dictionary[d][g]===a.textObj.description?(a.seasoningsIndicator[f]=!0,e=!0):a.isName&&a.dictionary[d][g]===a.textObj.name&&(a.seasoningsIndicator[f]=!0,e=!0);if(!e)for(var h=a.modifiers.length-1;h>=0;h--)if(a.modifiers[h]._id===d)for(var i=a.dictionary[d].length-1;i>=0;i--)a.isDescription&&a.textObj.description&&a.dictionary[d][i]===a.textObj.description?(a.modifiersIndicator[h]=!0,e=!0):a.isName&&a.textObj.name&&a.dictionary[d][i]===a.textObj.name&&(a.modifiersIndicator[h]=!0,e=!0);if(!e)for(var j=a.adjectives.length-1;j>=0;j--)if(a.adjectives[j]._id===d)for(var k=a.dictionary[d].length-1;k>=0;k--)a.isDescription&&a.textObj.description&&a.dictionary[d][k]===a.textObj.description?(a.adjectivesIndicator[j]=!0,e=!0):a.isName&&a.textObj.name&&a.dictionary[d][k]===a.textObj.name&&(a.adjectivesIndicator[j]=!0,e=!0)}a.logText=function(b){"description"===b?a.currentDescription=a.textObj.description:"name"===b&&(a.currentName=a.textObj.name)},a.commuteTextChanges=function(b){if("description"===b)for(var c in a.dictionary)for(var d=a.dictionary[c].length-1;d>=0;d--)a.dictionary[c][d]===a.currentDescription&&(a.dictionary[c][d]=a.textObj.description);else if("name"===b)for(var c in a.dictionary)for(var e=a.dictionary[c].length-1;e>=0;e--)a.dictionary[c][e]===a.currentName&&(a.dictionary[c][e]=a.textObj.name)},a.toggleAdjective=function(b,c){if(a.dictionary[b._id]){if(a.isName)if(a.adjectivesIndicator[c])a.dictionary[b._id].push(a.textObj.name);else{var d=a.dictionary[b._id].indexOf(a.textObj.name);a.dictionary[b._id].splice(d,1),0===a.dictionary[b._id].length&&delete a.dictionary[b._id]}else if(a.isDescription)if(a.adjectivesIndicator[c])a.dictionary[b._id].push(a.textObj.description);else{var d=a.dictionary[b._id].indexOf(a.textObj.description);a.dictionary[b._id].splice(d,1),0===a.dictionary[b._id].length&&delete a.dictionary[b._id]}}else a.dictionary[b._id]=[],a.isName?a.dictionary[b._id].push(a.textObj.name):a.isDescription&&a.dictionary[b._id].push(a.textObj.description)},a.toggleModifier=function(b,c){if(a.dictionary[b._id]){if(a.isName)if(a.modifiersIndicator[c])a.dictionary[b._id].push(a.textObj.name);else{var d=a.dictionary[b._id].indexOf(a.textObj.name);a.dictionary[b._id].splice(d,1),0===a.dictionary[b._id].length&&delete a.dictionary[b._id]}else if(a.isDescription)if(a.modifiersIndicator[c])a.dictionary[b._id].push(a.textObj.description);else{var d=a.dictionary[b._id].indexOf(a.textObj.description);a.dictionary[b._id].splice(d,1),0===a.dictionary[b._id].length&&delete a.dictionary[b._id]}}else a.dictionary[b._id]=[],a.isName?a.dictionary[b._id].push(a.textObj.name):a.isDescription&&a.dictionary[b._id].push(a.textObj.description)},a.toggleSeasoning=function(b,c){if(a.dictionary[b._id]){if(a.isName)if(a.seasoningsIndicator[c])a.dictionary[b._id].push(a.textObj.name);else{var d=a.dictionary[b._id].indexOf(a.textObj.name);a.dictionary[b._id].splice(d,1),0===a.dictionary[b._id].length&&delete a.dictionary[b._id]}else if(a.isDescription)if(a.seasoningsIndicator[c])a.dictionary[b._id].push(a.textObj.description);else{var d=a.dictionary[b._id].indexOf(a.textObj.description);a.dictionary[b._id].splice(d,1),0===a.dictionary[b._id].length&&delete a.dictionary[b._id]}}else a.dictionary[b._id]=[],a.isName?a.dictionary[b._id].push(a.textObj.name):a.isDescription&&a.dictionary[b._id].push(a.textObj.description)}}}}),angular.module("SkillitAdminApp").directive("serveStepInput",function(){return{templateUrl:"views/servestepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.tipAdded=!1,a.tipIsMinimized=!0,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"serveStepText",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("removeStepInput",function(){return{templateUrl:"views/removestepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){function d(b){if("IngredientList"===b.sourceType)for(var c=a.ingredientList.ingredientTypes.length-1;c>=0;c--){var d=a.ingredientList.ingredientTypes[c];d===b.key&&a.composingTypes.push(a.ingredientList.ingredientTypes[c])}else if("EquipmentList"===b.sourceType)for(var e=a.ingredientList.equipmentNeeded.length-1;e>=0;e--){var f=a.ingredientList.equipmentNeeded[e];f.name===b.key&&(a.inputDish=f)}else for(var g=a.stepList.length-1;g>=0;g--)a.stepList[g].stepId===b.sourceId}function e(){var b=a.constructingStep.stepInputs.stepInput;d(b)}a.integerval=/^\d*$/,a.tipAdded=!1,a.tipIsMinimized=!0,a.showExampleText=!1,a.removeTypes=["Remove"],a.composingTypes=[],a.$on("stepInputPropertyChange",function(a){a.preventDefault(),e()}),a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"removeType",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("breakEggStepInput",function(){return{templateUrl:"views/breakeggstepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.tipAdded=!1,a.tipIsMinimized=!0,a.showExampleText=!1,a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"isWhisk",val:!1}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").directive("moveStepInput",function(){return{templateUrl:"views/movestepinput.html",restrict:"E",scope:!0,transclude:!1,link:function(a,b,c){a.integerval=/^\d*$/,a.tipAdded=!1,a.tipIsMinimized=!0,a.showExampleText=!1,a.moveTypes=["Move"],a.constructingStep.stepId?(a.constructingStep.productName=a.constructingStep.productKeys[0],a.constructingStep.stepTip&&(a.tipAdded=!0)):a.constructingStep.stepSpecifics=[{propName:"moveType",val:""}],a.toggleTipVisibility=function(){a.tipIsMinimized=!a.tipIsMinimized},a.getTipToggleText=function(){return a.tipIsMinimized?"Expand":"Minimize"},a.addTip=function(){a.tipAdded=!a.tipAdded,a.tipIsMinimized=!1,a.stepTip={videoInfo:{}}},a.removeTip=function(){a.tipAdded=!a.tipAdded,a.constructingStep.stepTip=void 0}}}}),angular.module("SkillitAdminApp").factory("compatibilityService",function(){var a={};return a.getVersion=function(a){for(var b=1,c=a.stepList.length-1;c>=0;c--){var d=a.stepList[c].stepType;switch(d){case"Move":case"BreakEgg":case"Serve":b=2}}return b},a}),angular.module("SkillitAdminApp").run(["$templateCache",function(a){a.put("views/article.html",'<div> <h2>Input Article</h2> <a class="btn btn-link active" ng-href="#/article">Create</a> <a class="btn btn-link" ng-href="#/editArticles">Edit</a><br> <form novalidate name="articleForm"> <p>Tips, Glossaries, Videos, etc. are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadEntries(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadEntries(\'DEVELOPMENT\')">Reload From Development</button><br><br> Title: <input type="text" ng-model="article.title" size="50" required name="titleInput"><br><br> <div ng-form="contentForm"> <contentsection></contentsection> </div> <button class="btn btn-primary" ng-click="addContentSection()" ng-disabled="contentForm.$invalid">Add Content Section</button> <div ng-repeat="section in article.contentSections"> <content-section-item section="section"></content-section-item> <button class="btn btn-danger btn-sm" ng-click="removeContentSection($index)">Remove</button> </div> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-success btn-large" ng-click="save()" ng-disabled="articleForm.$invalid || noServerSelected()">Save</button> <button class="btn btn-warning btn-large" ng-click="reset()">Reset</button> </form> <button class="btn btn-info btn-large" ng-show="!showArticlePreview" ng-click="togglePreview()">Preview Article</button> <button class="btn btn-info btn-large" ng-show="showArticlePreview" ng-click="togglePreview()">Minimize Preview</button> <articlepreview ng-if="showArticlePreview"></articlepreview> </div>'),a.put("views/articlepreview.html",'<div> <h2 ng-click="logArticle()">{{article.title}}</h2> <div ng-click="logSection(section)" ng-repeat="section in article.contentSections"> {{section.subTitle}} <div ng-repeat="piece in section.contentArray"> <div ng-switch on="piece.type"> <div ng-switch-when="text"> {{logSection(piece)}} {{getText(piece)}}<br> {{getFootnotes(piece)}} </div> <div ng-switch-when="picture"> {{logSection(piece)}} <img ng-src="{{piece.url}}"><br> <span>{{piece.caption}}</span> </div> <div ng-switch-when="video"> {{logSection(piece)}} <iframe width="300" height="169" ng-src="{{piece.url}}" frameborder="0" allowfullscreen></iframe> <span>{{piece.caption}}</span> </div> <div ng-switch-default></div> </div> </div> </div> </div>'),a.put("views/bakestepinput.html",'<div ng-form="bakeStepForm" class="bg-warning"> <b>Bake Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Baking Time: <input type="text" ng-model="constructingStep.stepSpecifics[0].val" required name="bakingTimeInput" size="50"><br> Product Input (Expects a Step): <step-input-form constructing-step="constructingStep" input-name="productInput" is-multiple="false" ingredient-list="ingredientList" step-type="bake" step-list="stepList"></step-input-form><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <b>Auxiliary Stir Steps:</b> <div ng-repeat="auxStep in constructingStep.auxiliarySteps"> For IngredientType: <select ng-model="constructingStep.auxiliarySteps[$index].ingredientTypeName" ng-options="type.typeName as type.typeName for type in ingredientList.ingredientTypes" required></select><br> <stir-step-input is-aux-step="true" constructing-step="constructingStep" ingredient-list="ingredientList" step-list="stepList" aux-step-arr-index="$index"></stir-step-input> <button class="btn btn-xs btn-danger" ng-click="removeAuxStep($index)">Remove Auxiliary Stir Step</button><br><br> </div> <button class="btn btn-sm btn-danger" ng-click="addAuxStep()">Add Auxiliary Stir Step</button><br><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text:<br> <pre>Bake [ingredient1] and [ingredient2] for [bakingTime]. [auxiliaryStep1] and [auxiliaryStep2]</pre> </div> </div>'),a.put("views/bakestepitem.html",'<div> <b>Bake Step</b><br> <p>Step Duration: {{step.stepDuration}}</p> <p>Baking Time: {{step.bakingTime}}</p> <p><b>Product Input</b></p> <p>SourceType: {{step.productInput.sourceType}}</p> <p ng-if="step.productInput.sourceId">SourceId: {{step.productInput.sourceId}}</p> <p>Key: {{step.productInput.key}}</p><br> <p>ProductName: {{step.productName}}</p> <div ng-if="step.auxiliarySteps.length > 0"> <p><em>Auxiliary Stir Steps</em></p> <div ng-repeat="stirStep in step.auxiliarySteps"> <p>IngredientType: {{stirStep.ingredientTypeName}}</p> <p>When To Stir: {{stirStep.whenToStir}}</p> <p>StirType: {{stirStep.stirType}}</p> </div> </div> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/boilstepinput.html",'<div ng-form="boilStepForm" class="bg-warning"> <b>Boil Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Boiling Duration: <input type="text" ng-model="constructingStep.stepSpecifics[1].val" name="boilingDurationInput" size="50"><br> Cooking According To Instructions: <input type="checkbox" ng-model="constructingStep.stepSpecifics[0].val"><br> Ingredient Inputs (step or ingredient type): <step-input-form constructing-step="constructingStep" input-name="ingredientInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Dish Input (step or dish): <step-input-form constructing-step="constructingStep" input-name="dishInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text: <br> <pre>Boil the [members of ingredientInput1],..., and [members of ingredientInputN] in the [boilingDish] [accordingToPackageInstructions]/for [boiling Duration]</pre> </div> </div>'),a.put("views/boilstepitem.html",'<div> <b>Boil Step</b><br> <p>Step Duration: {{step.stepDuration}}</p> <p>Boiling Duration: {{step.boilingDuration}}</p> <p><em>Ingredient Inputs</em></p> <div ng-repeat="input in step.ingredientInputs"> <p>SourceType: {{input.sourceType}}</p> <p>SourceId: {{input.sourceId}}</p> <p>Key: {{input.key}}</p> <br> </div> <p><em>Dish Product Input</em></p> <p>SourceType: {{step.dishInput.sourceType}}</p> <p>SourceId: {{step.dishInput.sourceId}}</p> <p>Key: {{step.dishInput.key}}</p> <p>Product Name: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/breakeggstepinput.html",'<!--Crack your desired number of eggs into a bowl //,whisk thoroughly, //and set aside\nWe end up with \'whisked\' eggs--> <div ng-form="breakEggStepForm" class="bg-warning"> <b>Break Egg Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Whisk? <input type="checkbox" ng-model="constructingStep.stepSpecifics[0].val"><br> Ingredient Inputs: <step-input-form constructing-step="constructingStep" input-name="ingredientInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Dish Inputs: <step-input-form constructing-step="constructingStep" input-name="dishInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Product Name: <input type="text" name="productNameInput" required ng-model="constructingStep.productName" size="50"><br><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> </div>'),a.put("views/bringtoboilstepinput.html",'<div ng-form="bringToBoilStepForm" class="bg-info"> <b>Bring To Boil Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" ng-pattern="integerval"><br> Water Amount: <input type="text" ng-model="constructingStep.stepSpecifics[0].val" name="waterAmountInput"><br> Dish Input (Expects a Dish): <step-input-form constructing-step="constructingStep" input-name="dishInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text: <br> <pre>Bring [waterAmount] of water to boil in [dishInput] -- or if no waterAmount -- Bring water to boil in [dishInput]</pre> </div> </div>'),a.put("views/bringtoboilstepitem.html",'<div> <b>Bring To Boil Step</b><br> <p>Step Duration: {{step.stepDuration}}</p> <p>Water Amount: {{step.waterAmount}}</p> <p><b>Dish Input</b></p> <p>SourceType: {{step.dishInput.sourceType}}</p> <p>Key: {{step.dishInput.key}}</p><br> <p>ProductName: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),
a.put("views/chapter.html",'<div> <h2>Input Chapter</h2> <a class="btn btn-link active" ng-href="#/chapter">Create</a> <a class="btn btn-link" ng-href="#/editChapter">Edit</a><br> <form novalidate name="chapterForm"> <p>Lessons are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadLessons(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadLessons(\'DEVELOPMENT\')">Reload From Development</button><br><br> Name: <input type="text" ng-model="chapter.name" size="50" required name="nameInput"><br><br> Description: <textarea ng-model="chapter.description" rows="4" cols="50" required name="descriptionInput"></textarea><br><br> Order Preference: <input type="text" ng-pattern="integerval" ng-model="chapter.orderPreference" size="30" name="orderPreferenceInput"><br><br> Picture URL: <input type="url" placeholder="URL" ng-model="chapter.pictureURL" size="60" name="pictureURLInput"><br><br> Select Lesson: <select name="lessonSelect" ng-model="selectedLesson" ng-options="lesson.name for lesson in lessons"></select><br><br> <button class="btn btn-sm btn-warning" ng-click="addLesson()">Add Lesson</button><br><br> Added Lesson Ids: <div ng-repeat="id in chapter.lessonIds"> <p>{{id}}</p> <button class="btn btn-xs btn-danger" ng-click="removeLesson($index)">Remove</button> </div> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-primary btn-lg" ng-click="save()" ng-disabled="noServerSelected()">Save</button> <button class="btn btn-danger btn-lg" ng-click="reset()">Reset</button> </form> <h4>Preview</h4> <pre>{{chapter | json}}</pre> </div>'),a.put("views/contentitem.html",'<div ng-switch on="item.type"> <div ng-switch-when="text"> <p>{{getText()}}</p> <p>--------</p> <div ng-repeat="footnote in getFootnotes()"> <p>{{$index}}: {{footnote.title}}</p> <p>Type: {{footnote.itemType}}</p> <p>Id: {{footnote.id}}</p> </div> </div> <div ng-switch-when="picture"> URL: <span>{{item.url}}</span> Caption: <span>{{item.caption}}</span> </div> <div ng-switch-when="video"> VideoId: <span>{{item.videoId}}</span> End: <span>{{item.end}}</span> Caption: <span>{{item.caption}}</span> </div> <div ng-switch-default></div> </div>'),a.put("views/contentsection.html",'<div ng-form="contentSectionForm" class="bg-success"> Subtitle: <input type="text" ng-model="contentSection.subTitle" name="subTitleInput"><br><br> Content Type: <select name="contentTypeSelect" ng-model="contentType" ng-options="type for type in contentTypes"></select> <div ng-switch on="contentType"> <div ng-switch-when="text"> <!--Needs to be multiple input available here; need to be able to remove/edit individual text chunks--> <textchunk></textchunk><br> <button class="btn btn-default" ng-click="addTextChunk()">Add Text Chunk</button> <p>Text Chunks:</p> <div ng-repeat="textChunk in textChunks"> <div ng-if="!textChunksIndicator[$index]"> <p>{{textChunks[$index].text}}</p> <button class="btn btn-xs btn-info" ng-click="toggleTextChunk($index)">Maximize</button> <button class="btn btn-xs btn-danger" ng-click="removeTextChunk($index)"> Remove </button> </div> <div ng-if="textChunksIndicator[$index]"> <p>Text: {{textChunks[$index].text}}</p> <p>ItemType: {{textChunks[$index].itemType}}</p> <p>Item Title: {{textChunks[$index].linkedItem}} ID: {{textChunks[$index].linkedItem._id}}</p> <button class="btn btn-xs btn-info" ng-click="toggleTextChunk($index)">Minimize</button> <button class="btn btn-xs btn-danger" ng-click="removeTextChunk($index)"> Remove </button> </div> </div> </div> <div ng-switch-when="picture"> URL: <input type="url" ng-model="picture.pictureURL" size="60" name="pictureURLInput" placeholder="URL"><br> Caption: <input type="text" ng-model="picture.pictureCaption" size="100" name="pictureCaptionURLInput" placeholder="Caption"><br><br> </div> <div ng-switch-when="video"> VideoId: <input type="text" ng-model="video.videoId" size="60" name="videoIdInput" placeholder="ID"><br> Video End: <input type="text" ng-model="video.end" size="40" name="videoEndInput" placeholder="End Time"><br> Caption: <input type="text" ng-model="video.videoCaption" size="100" name="videoCaptionURLInput" placeholder="Caption"> </div> <div ng-switch-default></div> </div> <button class="btn btn-primary" ng-click="addContent()">Add Content Piece</button> <div> <p>Content Pieces</p> <div ng-repeat="piece in contentSection.contentArray"> <div ng-show="contentIndicatorArray[$index]"> <contentitem item="piece"></contentitem> <button class="btn btn-xs btn-info" ng-click="toggleContentPiece($index)">Minimize</button> <button class="btn btn-xs btn-danger" ng-click="removeContent($index)">Remove</button> </div> <div ng-show="!contentIndicatorArray[$index]"> <p>Content Type: {{piece.type}}</p> <button class="btn btn-xs btn-info" ng-click="toggleContentPiece($index)">Maximize</button> <button class="btn btn-xs btn-danger" ng-click="removeContent($index)">Remove</button> </div> </div> </div> </div>'),a.put("views/contentsectionitem.html",'<div> <p>Subtitle: {{section.subTitle}}</p> <div ng-repeat="piece in section.contentArray"> <contentitem item="piece"></contentitem> </div> </div>'),a.put("views/cookstepinput.html",'<div ng-form="cookStepForm" class="bg-warning"> <b>Cook Step</b><br> CookType: <select name="cookTypeSelect" ng-model="constructingStep.stepSpecifics[0].val" ng-options="cookType for cookType in cookTypes" required></select><br> Step Duration: <input type="text" ng-change="logStep()" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Cook Duration: <input type="text" ng-model="constructingStep.stepSpecifics[1].val" name="cookDurationInput" size="50"><br> Cook According To Instructions: <input type="checkbox" ng-model="constructingStep.stepSpecifics[2].val"><br> Ingredient Inputs: <step-input-form constructing-step="constructingStep" input-name="ingredientInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Dish Input: <step-input-form constructing-step="constructingStep" input-name="dishInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"></step-input-form> <div ng-if="auxStepAdded"> <b>Auxiliary Stir Step:</b><br> <stir-step-input is-aux-step="true" constructing-step="constructingStep" ingredient-list="ingredientList" step-list="stepList" aux-step-arr-index=""></stir-step-input> <button class="btn btn-danger btn-xs" ng-click="removeAuxStep()">Remove Auxiliary Step</button> </div><br><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text: <br> <pre>Cook the [members of ingredientInput1],..., and [members of ingredientInputN] in the [cookingDish] (with [ingredients in cookingDish]) [accordingToPackageInstructions]/for [cookDuration]</pre> </div> </div>'),a.put("views/cookstepitem.html",'<div> <b>Cook Step</b><br> <p>Cook Type: {{step.cookType}}</p> <p>Step Duration: {{step.stepDuration}}</p> <p>Cook Duration: {{step.cookDuration}}</p> <p>Cook According to Instructions: {{step.cookAccordingToInstructions}}</p> <p><em>Ingredient Inputs</em></p> <div ng-repeat="input in step.ingredientInputs"> <p>SourceType: {{input.sourceType}}</p> <p>SourceId: {{input.sourceId}}</p> <p>Key: {{input.key}}</p> <br> </div> <p><em>Dish Product Input</em></p> <p>SourceType: {{step.dishInput.sourceType}}</p> <p>SourceId: {{step.dishInput.sourceId}}</p> <p>Key: {{step.dishInput.key}}</p> <p>Product Name: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/customstepinput.html",'<div ng-form="customStepForm" class="bg-warning"> <b>Custom Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Custom Step Text: <textarea name="customTextInput" required ng-model="constructingStep.stepSpecifics[0].val" rows="4" cols="50"></textarea><br> Ingredient Inputs: <step-input-form constructing-step="constructingStep" input-name="ingredientInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Dish Inputs: <step-input-form constructing-step="constructingStep" input-name="dishInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> </div>'),a.put("views/customstepitem.html",'<div> <b>Custom Step</b><br> <p>Step Duration: {{step.stepDuration}}</p> <p>Custom Step Text: {{step.customStepText}}</p> <p><em>Ingredient Inputs</em></p> <div ng-repeat="input in step.ingredientInputs"> <p>SourceType: {{input.sourceType}}</p> <p>SourceId: {{input.sourceId}}</p> <p>Key: {{input.key}}</p> </div> <p><em>Dish Inputs</em></p> <div ng-repeat="input in step.dishInputs"> <p>SourceType: {{input.sourceType}}</p> <p>SourceId: {{input.sourceId}}</p> <p>Key: {{input.key}}</p> </div> <p>Product Name: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/cutstepinput.html",'<div ng-form="cutStepForm" class="bg-warning"> <b>Cut Step</b><br> CutActionType: <select name="actionTypeSelect" ng-model="constructingStep.stepSpecifics[0].val" ng-options="actionType for actionType in actionTypes" required></select><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Ingredient Input: <step-input-form constructing-step="constructingStep" input-name="cutIngredientInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList" step-type="cut"></step-input-form> <br> ActionModifier: <input type="text" ng-model="constructingStep.stepSpecifics[1].val" size="50" name="actionModifierInput"><br> ProductName: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"> <br> <div ng-show="showExampleText"> Example Text:<br> <pre>1. [CutActionType] the [first ingredientToCut] [actionModifier]\n    2. [CutActionType] the [second ingredientToCut] [actionModifier] ... </pre> </div> </div>'),a.put("views/cutstepitem.html",'<div> <b>Cut Step</b><br> <p>CutActionType: {{step.actionType}}</p> <p>Step Duration: {{step.stepDuration}}</p> <p><b>Cut Ingredient Input</b></p> <p>SourceType: {{step.cutIngredientInput.sourceType}}</p> <p ng-if="step.cutIngredientInput.sourceId">SourceId: {{step.cutIngredientInput.sourceId}}</p> <p>Key: {{step.cutIngredientInput.key}}</p><br><br> <p>Action Modifier: {{step.actionModifier}}</p> <p>Product Name: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/dailytips.html",'<div> <h2>Input Daily Tips</h2><br> <a class="btn btn-link active" ng-href="#/dailyTips">Create</a> <a class="btn btn-link" ng-href="#/editDailyTips">Edit</a><br> <form novalidate name="dailyTipsForm"> <p>Collections are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadStuff(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadStuff(\'DEVELOPMENT\')">Reload From Development</button><br><br> Title: <input type="text" ng-model="dailyTip.title" size="50" required name="titleInput"><br><br> Text: <textarea ng-model="dailyTip.text" rows="4" cols="50" required name="textInput"></textarea><br><br> Picture: <input type="url" ng-model="dailyTip.picture.url" size="60" name="pictureURLInput" placeholder="URL"> <input type="text" ng-model="dailyTip.picture.caption" size="100" name="pictureCaptionInput" placeholder="Caption"><br><br> Video: <input type="text" ng-model="dailyTip.video.videoId" size="60" name="videoIdInput" placeholder="ID"> <input type="text" ng-model="dailyTip.video.end" size="40" name="videoEndInput" placeholder="End Time"> <input type="text" ng-model="dailyTip.video.caption" size="100" name="videoCaptionInput" placeholder="Caption"><br><br> Collections: <select name="itemCollectionSelect" ng-model="curCollectionId" ng-options="collection._id as collection.name for collection in tipCollections"></select><br> <ul> <div ng-repeat="collectionID in dailyTip.collectionIds"> <li>{{collectionID}}</li> <button ng-click="removeCollection($index)">Remove</button> </div> </ul> <button ng-click="addCollection()">Add Collection</button><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-default" ng-click="reset()">Reset Form</button> <button class="btn btn-large btn-success" ng-click="save()" ng-disabled="dailyTipsForm.$invalid || !dailyTipSanityCheck()">Save Tip</button> </form> <pre>\n    {{dailyTip | json}}\n  </pre> </div>'),a.put("views/dietarypreferences.html",'<div> <h2>Input Dietary Preference</h2> <a class="btn btn-link active" ng-href="#/dietaryPreferences">Create</a> <a class="btn btn-link" ng-href="#/editDietaryPreferences">Edit</a> <form novalidate name="dietaryPreferenceForm"> <p>Dietary Preferences and Ingredients are currently being pulled from the {{serverType}}</p> <button class="btn btn-primary" ng-click="reloadEntries(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadEntries(\'DEVELOPMENT\')">Reload From Development</button><br><br> Title: <input type="text" ng-model="dietaryPreference.title" size="50" required name="titleInput"><br><br> Outlaw Ingredients: <br> <div ng-repeat="ingredient in ingredients"> <input type="checkbox" ng-model="ingredient.useInPreference"> <span>{{ingredient.name.standardForm}}</span> </div><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-success" ng-click="save()" ng-disabled="noServerSelected()">Save Dietary Preference</button> </form> </div>'),a.put("views/dishes.html",'<div> <h2>Input Dish</h2> <a class="btn btn-link active" ng-href="#/dishes">Create</a> <a class="btn btn-link" ng-href="#/editDishes">Edit</a><br> <form novalidate name="dishForm"> <p>Dishes are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadDishes(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadDishes(\'DEVELOPMENT\')">Reload From Development</button><br><br> Name: <input type="text" ng-model="dish.name" size="50" required name="nameInput"><br><br> IngredientCapacity: <input type="text" ng-model="dish.ingredientCapacity" size="30" required name="capacityInput" ng-pattern="integerval"> <span ng-show="dishForm.capacityInput.$invalid">Please enter a number</span><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <input type="button" class="btn btn-md" ng-click="reset()" value="Reset"> <input type="button" class="btn btn-md btn-success" ng-click="save(dish)" value="Save" ng-disabled="dishForm.$invalid || noServerSelected()"> </form> <br> <h2>Current Dishes</h2> <ul> <li ng-repeat="dish in dishes"> <p><b>Name</b>: {{dish.name}}</p> <p><b>Capacity</b>: {{dish.ingredientCapacity}}</p> </li> </ul> <pre>dish: {{dish | json}}</pre> </div>'),a.put("views/drystepinput.html",'<div ng-form="dryStepForm" class="bg-warning"> <b>Dry Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Ingredient Input: <step-input-form constructing-step="constructingStep" input-name="ingredientInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Dry Method: <select name="dryMethodSelect" ng-model="constructingStep.stepSpecifics[0].val" ng-options="method for method in dryMethods" required></select><br> ProductName: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text:<br> <pre>[dryMethod] dry the [ingredient1], [ingredient2], and [ingredient3]</pre> </div> </div>'),a.put("views/drystepitem.html",'<div> <b>Dry Step</b> <p>Step Duration: {{step.stepDuration}}</p> <p>Dry Method: {{step.dryMethod}}</p> <p><b>Ingredient Input</b></p> <p>SourceType: {{step.ingredientInput.sourceType}}</p> <p ng-if="step.ingredientInput.sourceId">SourceId: {{step.ingredientInput.sourceId}}</p> <p>Key: {{step.ingredientInput.key}}</p><br> <p>ProductName: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/editarticles.html",'<div> <h2>Edit Article</h2> <a class="btn btn-link" ng-href="#/article">Create</a> <a class="btn btn-link active" ng-href="#/editArticles">Edit</a><br> <form novalidate name="editArticleForm"> <p>Tips, Glossaries, Videos, etc. are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadEntries(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadEntries(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Article: <select name="articleSelect" ng-model="selectedArticle" ng-change="changeSelectedArticle()" ng-options="article as article.title for article in articles"></select><br> Title: <input type="text" ng-model="article.title" size="50" required name="titleInput"><br><br> <div ng-repeat="contentSection in article.contentSections"> <div ng-if="!isMinimizedContentSection($index)"> <edit-content-section section="contentSection" tips="tips" glossaries="glossaryEntries" howtos="howToShopEntries" trainings="trainingVideos"></edit-content-section> </div> <div ng-if="isMinimizedContentSection($index)"> <p>Section SubTitle: {{contentSection.subTitle}}</p> </div> <button class="btn btn-danger btn-sm" ng-click="removeContentSection($index)">Remove Section</button> <button class="btn btn-warning btn-sm" ng-click="toggleContentSection($index)">{{getContentSectionToggleText($index)}}</button> </div><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-warning btn-large" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-primary btn-large" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-danger btn-large" ng-click="deleteArticle()" ng-disabled="noServerSelected()">Delete Article</button> </form> </div>'),a.put("views/editchapter.html",'<div> <h2>Edit Chapter</h2> <a class="btn btn-link" ng-href="#/chapter">Create</a> <a class="btn btn-link active" ng-href="#/editChapter">Edit</a><br> <form novalidate name="editChapterForm"> <p>Chapters and Lessons are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadStuff(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadStuff(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Chapter: <select name="chapterSelect" ng-model="selectedChapter" ng-change="changeSelectedChapter()" ng-options="chapter.name for chapter in chapters"></select><br><br> Name: <input type="text" ng-model="chapter.name" size="50" required name="nameInput"><br><br> Description: <textarea ng-model="chapter.description" rows="4" cols="50" required name="descriptionInput"></textarea><br><br> Order Preference: <input type="text" ng-pattern="integerval" ng-model="chapter.orderPreference" size="30" name="orderPreferenceInput"><br><br> Picture URL: <input type="url" placeholder="URL" ng-model="chapter.pictureURL" size="60" name="pictureURLInput"><br><br> Select Lesson: <select name="lessonSelect" ng-model="selectedLesson" ng-options="lesson.name for lesson in lessons"></select><br><br> <button class="btn btn-sm btn-warning" ng-click="addLesson()">Add Lesson</button><br><br> Added Lesson Ids: <div ng-repeat="id in chapter.lessonIds"> <p>{{id}}</p> <button class="btn btn-xs btn-danger" ng-click="removeLesson($index)">Remove</button> </div> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-warning btn-large" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-primary btn-large" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-danger btn-large" ng-click="deleteChapter()" ng-disabled="noServerSelected()">Delete Chapter</button> </form> </div>'),a.put("views/editcontentsection.html",'<div ng-form="editContentSectionForm" class="bg-success"> Subtitle: <input type="text" ng-model="section.subTitle" name="subTitleInput"><br><br> <div ng-repeat="piece in section.contentArray" ng-init="pieceIndex = $index"> Content Type: <select name="contentTypeSelect" ng-model="piece.type" ng-options="type for type in contentTypes"></select> <div ng-if="!contentPieceMinimized($index)"> <div ng-switch on="piece.type"> <div ng-switch-when="text"> <p>Text Chunks</p> <div ng-repeat="textChunk in piece.textChunks" ng-init="chunkIndex = $index"> <div ng-if="!isMinimizedTextChunk(pieceIndex, chunkIndex)"> <textchunk></textchunk> </div> <div ng-if="isMinimizedTextChunk(pieceIndex, chunkIndex)"> <p>Text: {{chunk.text}}</p> </div> <button class="btn btn-danger btn-xs" ng-click="removeTextChunk(pieceIndex, chunkIndex)">Remove</button> <button class="btn btn-warning btn-xs" ng-click="toggleTextChunk(pieceIndex, chunkIndex)">{{getToggleTextChunkText(pieceIndex, chunkIndex)}}</button><br> </div> <button class="btn btn-info btn-sm" ng-click="addTextChunk(pieceIndex)">Add Text Chunk</button> </div> <div ng-switch-when="picture"> URL: <input type="url" ng-model="piece.url" size="60" name="pictureURLInput" placeholder="URL"><br> Caption: <input type="text" ng-model="piece.caption" size="100" name="pictureCaptionURLInput" placeholder="Caption"><br><br> </div> <div ng-switch-when="video"> VideoID: <input type="text" ng-model="piece.videoId" size="50" name="videoIdInput" placeholder="ID"><br> End Time: <input type="text" ng-model="piece.end" size="50" name="videoEndInput" placeholder="End Time"><br> Caption: <input type="text" ng-model="piece.caption" size="100" name="videoCaptionURLInput" placeholder="Caption"> </div> <div ng-switch-default></div> </div> </div> <div ng-if="contentPieceMinimized($index)"> <p>Content Type: {{piece.type}}</p> </div> <button class="btn btn-danger btn-small" ng-click="removeContentPiece(pieceIndex)">Remove Piece</button> <button class="btn btn-warning btn-smalll" ng-click="toggleContentPiece(pieceIndex)">{{getContentPieceToggleText(pieceIndex)}}</button> </div> <button class="btn btn-primary" ng-click="addContentPiece()">Add Content Piece</button> </div>'),a.put("views/editdailytips.html",'<div> <h2>Edit Daily Tips</h2> <a class="btn btn-link" ng-href="#/dailyTips">Create</a> <a class="btn btn-link active" ng-href="#/editDailyTips">Edit</a><br> <form novalidate name="EditDailyTipsForm"> <p>Tips and Collections are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadStuff(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadStuff(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select DailyTip: <select name="dailyTipSelect" ng-model="selectedTip" ng-change="changeSelectedTip()" ng-options="tip as tip.title for tip in tips"></select><br><br> Title: <input type="text" ng-model="dailyTip.title" size="50" required name="titleInput"><br><br> Text: <textarea ng-model="dailyTip.text" rows="4" cols="50" required name="textInput"></textarea><br><br> Picture: <input type="url" ng-model="dailyTip.picture.url" size="60" name="pictureURLInput" placeholder="URL"> <input type="text" ng-model="dailyTip.picture.caption" size="100" name="pictureCaptionInput" placeholder="Caption"><br><br> Video: <input type="text" ng-model="dailyTip.video.videoId" size="60" name="videoIdInput" placeholder="URL"> <input type="text" ng-model="dailyTip.video.end" size="40" name="videoEndInput" placeholder="End Time"> <input type="text" ng-model="dailyTip.video.caption" size="100" name="videoCaptionInput" placeholder="Caption"><br><br> Collections: <select name="itemCollectionSelect" ng-model="curCollectionId" ng-options="collection._id as collection.name for collection in tipCollections"></select><br> <ul> <div ng-repeat="collectionID in dailyTip.collectionIds"> <li>{{collectionID}}</li> <button ng-click="removeCollection($index)">Remove</button> </div> </ul> <button ng-click="addCollection()">Add Collection</button><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-warning btn-large" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-primary btn-large" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-danger btn-large" ng-click="deleteDailyTip()" ng-disabled="noServerSelected()">Delete DailyTip</button> </form> </div>'),a.put("views/editdietarypreferences.html",'<div> <h2>Edit Dietary Preference</h2> <a class="btn btn-link" ng-href="#/dietaryPreferences">Create</a> <a class="btn btn-link active" ng-href="#/editDietaryPreferences">Edit</a> <form novalidate name="editDietaryPreferenceForm"> <p>Dietary Preferences and Ingredients are currently being pulled from the {{serverType}}</p> <button class="btn btn-primary" ng-click="reloadEntries(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadEntries(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Dietary Preference: <select name="seasoningSelect" ng-model="selectedDietaryPreference" ng-change="changeSelectedDietaryPreference()" ng-options="preference as preference.title for preference in dietaryPreferences"></select><br><br> Title: <input type="text" ng-model="dietaryPreference.title" size="50" required name="titleInput"><br><br> Outlaw Ingredients: <br> <div ng-repeat="ingredient in ingredients"> <input type="checkbox" ng-model="ingredient.useInPreference"> <span>{{ingredient.name.standardForm}}</span> </div><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-warning" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-large btn-success" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-large btn-danger" ng-click="deleteDietaryPreference()" ng-disabled="noServerSelected()">Delete Dietary Preference</button> </form> </div>'),
a.put("views/editdishes.html",'<div> <h2>Edit Dishes</h2> <a class="btn btn-link" ng-href="#/dishes">Create</a> <a class="btn btn-link active" ng-href="#/editDishes">Edit</a><br> <form novalidate name="editDishForm"> <p>Dishes are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadDishes(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadDishes(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Dish: <select name="dishSelect" ng-model="selectedDish" ng-change="changeSelectedDish()" ng-options="dish as dish.name for dish in dishes"></select><br><br> Name: <input type="text" ng-model="dish.name" size="50" required name="nameInput"><br><br> IngredientCapacity: <input type="text" ng-model="dish.ingredientCapacity" size="30" required name="capacityInput" ng-pattern="integerval"> <span ng-show="dishForm.capacityInput.$invalid">Please enter a number</span><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-warning btn-large" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-primary btn-large" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-danger btn-large" ng-click="deleteDish()" ng-disabled="noServerSelected()">Delete Dish</button> </form> </div>'),a.put("views/editglossaryentries.html",'<div> <h2>Edit Glossary Entries</h2> <a class="btn btn-link" ng-href="#/glossaryEntries">Create</a> <a class="btn btn-link active" ng-href="#/editGlossaryEntries">Edit</a><br> <form novalidate name="editGlossaryEntriesForm"> <p>Glossaries and Collections are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadStuff(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadStuff(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Glossary Entry: <select name="glossaryEntrySelect" ng-model="selectedEntry" ng-change="changeSelectedEntry()" ng-options="entry as entry.title for entry in glossaryEntries"></select><br><br> Title: <input type="text" ng-model="entry.title" size="50" required name="titleInput"><br><br> Text: <textarea ng-model="entry.text" rows="4" cols="50" required name="textInput"></textarea><br><br> Picture: <input type="url" ng-model="entry.picture.url" size="60" name="pictureURLInput" placeholder="URL"> <input type="text" ng-model="entry.picture.caption" size="100" name="pictureCaptionInput" placeholder="Caption"><br><br> Video: <input type="text" ng-model="entry.video.videoId" size="60" name="videoIdInput" placeholder="ID"> <input type="text" ng-model="entry.video.end" size="40" name="videoEndInput" placeholder="End Time"> <input type="text" ng-model="entry.video.caption" size="100" name="videoCaptionInput" placeholder="Caption"><br><br> Collections: <select name="itemCollectionSelect" ng-model="curCollectionId" ng-options="collection._id as collection.name for collection in glossaryCollections"></select><br> <ul> <div ng-repeat="collectionID in entry.collectionIds"> <li>{{collectionID}}</li> <button ng-click="removeCollection($index)">Remove</button> </div> </ul> <button ng-click="addCollection()">Add Collection</button><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-warning btn-large" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-primary btn-large" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-danger btn-large" ng-click="deleteGlossary()" ng-disabled="noServerSelected()">Delete Entry</button> </form> </div>'),a.put("views/edithealthmodifiers.html",'<div> <h2>Edit Health Modifier</h2> <a class="btn btn-link" ng-href="#/healthModifiers">Create</a> <a class="btn btn-link active" ng-href="#/editHealthModifiers">Edit</a> <form novalidate name="editHealthModifierForm"> <p>Modifiers are currently being drawn from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadStuff(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadStuff(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Modifier: <select name="modifierSelect" ng-model="selectedModifier" ng-change="changeSelectedModifier()" ng-options="modifier as modifier.name for modifier in modifiers"></select><br><br> Name: <input type="text" ng-model="healthModifier.name" required size="50" name="nameInput"><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-default" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-large btn-success" ng-click="saveChanges()" ng-disabled="editHealthModifierForm.$invalid || noServerSelected()">Save Changes</button> <button class="btn btn-danger btn-large" ng-click="deleteModifier()" ng-disabled="noServerSelected()">Delete Modifier</button> </form> </div>'),a.put("views/edithowtoshopentries.html",'<div> <h2>Edit HowToShopEntry</h2> <a class="btn btn-link" ng-href="#/howToShopEntry">Create</a> <a class="btn btn-link active" ng-href="#/editHowToShopEntries">Edit</a><br> <form novalidate name="editHowToShopEntryForm"> <p>HowToShops and Collections are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadStuff(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadStuff(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select HowToShop Entry: <select name="howToShopEntrySelect" ng-model="selectedEntry" ng-change="changeSelectedEntry()" ng-options="entry as entry.title for entry in howToShopEntries"></select><br><br> Title: <input type="text" ng-model="howToShopEntry.title" size="50" required name="titleInput"><br><br> Text: <textarea ng-model="howToShopEntry.text" rows="4" cols="50" required name="textInput"></textarea><br><br> Pictures: <div ng-repeat="picture in howToShopEntry.pictures"> <input type="url" ng-model="picture.url" size="60" placeholder="URL"> <input type="text" ng-model="picture.caption" size="100" placeholder="Caption"> <button class="btn btn-sm btn-warning" ng-click="removePicture($index)">Remove Picture</button> </div> <button class="btn btn-info" ng-click="addPicture()">Add a Picture</button> <br><br> Collections: <select name="itemCollectionSelect" ng-model="curCollectionId" ng-options="collection._id as collection.name for collection in howToShopCollections"></select><br> <ul> <div ng-repeat="collectionID in howToShopEntry.collectionIds"> <li>{{collectionID}}</li> <button ng-click="removeCollection($index)">Remove</button> </div> </ul> <button ng-click="addCollection()">Add Collection</button><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-warning" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-large btn-primary" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-large btn-danger" ng-click="deleteEntry()" ng-disabled="noServerSelected()">Delete Entry</button> </form> </div>'),a.put("views/editingredients.html",'<div> <h2>Edit Ingredients</h2> <a class="btn btn-link active" ng-href="#/ingredients">Create</a> <a class="btn btn-link" ng-href="#/editIngredients">Edit</a><br> <form novalidate name="editIngredientForm" ng-controller="EditIngredientsCtrl"> <p>Ingredients are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadIngredients(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadIngredients(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Ingredient: <select name="ingredientSelect" ng-model="selectedIngredient" ng-change="changeSelectedIngredient()" ng-options="ingredient as ingredient.name.standardForm for ingredient in ingredients"></select><br><br> Name: <input type="text" ng-model="ingredient.name.standardForm" size="50" required name="nameInput"><br><br> Show In Selection: <input type="checkbox" name="showSelectionCheckbox" ng-model="ingredient.showInSelection"><br><br> Input Category: <select name="inputCategorySelect" ng-model="ingredient.inputCategory" ng-options="category for category in inputCategories" ng-change="changeInputCategory()" ng-init="changeInputCategory()" required></select><br><br> Input SubCategory: <select name="inputSubCategorySelect" ng-model="ingredient.inputSubCategory" ng-options="subCategory for subCategory in inputSubCategories"></select><br><br> Plural Name: <input type="text" ng-model="ingredient.name.pluralForm" size="50" required name="pluralFormInput"><br> Singular Name: <input type="text" ng-model="ingredient.name.singularForm" size="50" required name="singularFormInput"><br><br> Measuring Units: <input type="text" ng-model="ingredient.units" size="50" required name="unitsInput"><br><br> Unit is A Single Item: <input type="checkbox" ng-model="ingredient.unitIsASingleItem" name="unitsCheckbox"><br><br> Servings Per Unit: <input type="text" ng-model="ingredient.servingsPerUnit" size="50" required name="servingsPerUnitInput" ng-pattern="integerval"><br><br> Use Ingredient Form Name For Display: <input type="checkbox" ng-model="ingredient.useFormNameForDisplay"><br><br> Ingredient Forms: <br> <div ng-repeat="form in ingredient.ingredientForms" class="bg-info" ng-form="ingredientFormForm"> <div ng-if="!isIngredientFormMinimized($index)"> <ul> <li> Name: <input type="text" ng-model="form.name" size="50" required name="formName"> </li> <li> Cooking Times: <br> <div ng-repeat="time in form.cookingTimes" class="bg-info" ng-form="cookingForm"> Cooking Method: <select name="cookingMethods" ng-model="time.cookingMethod" required> <option value="">Select Cooking Method</option> <option ng-repeat="method in cookingMethods">{{method}}</option> </select> <span ng-show="cookingForm.cookingMethods.$invalid">select a cooking method</span><br> Min Cook Time: <input type="text" ng-model="time.minTime" size="30" required name="minTime" ng-pattern="integerval"> Max Cook Time: <input type="text" ng-model="time.maxTime" size="30" required name="maxTime" ng-pattern="integerval"> <span ng-show="cookingForm.minTime.$invalid || cookingForm.maxTime.$invalid">Please enter a number</span> <br> Times Per Side?: <input type="checkbox" ng-model="time.timesArePerSide"><br> <button ng-click="removeCookingTime(form, $index)" class="btn btn-link btn-xs">Remove Cooking Time</button> <br><br> </div> </li> <button ng-click="addCookingTime(form)" class="btn btn-primary btn-xs">Add Cooking Time</button> </ul> </div> <div ng-if="isIngredientFormMinimized($index)"> <p>{{form.name}}</p> </div> <button ng-click="removeIngredientForm($index)" class="btn btn-danger btn-sm">Remove Ingredient Form</button> <button ng-click="toggleIngredientForm($index)" class="btn btn-warning btn-sm">{{getIngredientFormVisibilityText($index)}}</button><br><br> </div> <button ng-click="addIngredientForm()" class="btn btn-warning btn-sm">Add IngredientForm</button><br><br> Ingredient Tips: <br> <div ng-repeat="tip in ingredient.ingredientTips" class="bg-info" ng-form name="tipForm"> <div ng-if="!isIngredientTipMinimized($index)"> <ul> <li> StepType: <select name="stepTypeSelect" ng-model="tip.stepType" ng-change="setSubTypes(tip.stepType, $index)" required> <option value="">Select StepType</option> <option ng-repeat="stepType in stepTypes">{{stepType}}</option> </select> StepSubType: <select name="stepSubTypeSelect" ng-model="tip.stepSubType" ng-options="stepSubType for stepSubType in subTypes[$index]" required> </select> </li> <li> Step Tip: <br> <div class="bg-warning"> Title: <input type="text" ng-model="tip.stepTip.title" size="50" name="tipTitle"><br> Text: <textarea ng-model="tip.stepTip.text" rows="4" cols="50" name="tipText"></textarea><br> <span ng-show="tipForm.tipText.$invalid">Must enter text for the tip</span><br> PictureURL: <input type="url" ng-model="tip.stepTip.pictureURL" name="tipPic" size="70"> <br> <span ng-show="tipForm.tipPic.$invalid">PictureURL must be a URL</span><br> VideoTitle: <input type="text" ng-model="tip.stepTip.videoTitle" size="50" name="tipVidTitle"><br> VideoInfo: <input type="text" ng-model="tip.stepTip.videoInfo.videoId" name="tipVidId" placeholder="ID" size="50"> <input type="text" ng-model="tip.stepTip.videoInfo.end" name="tipVidEnd" placeholder="End Time" size="50"><br> <span ng-show="tipForm.tipVid.$invalid">VideoURL must be a URL</span><br> </div> </li> </ul> </div> <div ng-if="isIngredientTipMinimized($index)"> <p>Title: {{tip.title}} // VideoTitle: {{tip.stepTip.videoTitle}} // StepType: {{tip.stepType}} // subType: {{tip.stepSubType}}</p> </div> <button ng-click="toggleTip($index)" class="btn btn-warning btn-sm">{{getTipVisibilityText($index)}}</button> <button ng-click="removeTip($index)" class="btn btn-danger btn-sm">Remove Tip</button> </div> <button class="btn btn-warning btn-sm" ng-click="addIngredientTip()">Add Ingredient Tip</button><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-warning" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-large btn-primary" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-large btn-danger" ng-click="deleteIngredient()" ng-disabled="noServerSelected()">Delete Ingredient</button> </form> </div>'),a.put("views/edititemcollections.html",'<div> <h2>Edit Item Collections</h2> <a class="btn btn-link" ng-href="#/itemCollections">Create</a> <a class="btn btn-link active" ng-href="#/editItemCollections">Edit</a><br> <form novalidate name="editItemCollectionForm"> <p>Collections and Preferences are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadStuff(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadStuff(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Collection: <select name="itemCollectionSelect" ng-model="selectedCollection" ng-change="changeSelectedCollection()" ng-options="collection as collection.displayName for collection in collections"></select><br><br> Name: <input type="text" ng-model="itemCollection.name" size="50" required name="nameInput"><br><br> Description: <textarea ng-model="itemCollection.description" rows="4" cols="50" required name="descriptionInput"></textarea><br><br> Order Preference (-1 is the internal value for unassigned preference, if you happen to see it): <input type="text" ng-pattern="integerval" ng-model="itemCollection.orderPreference" size="30" name="orderPreferenceInput"><br><br> Is BYO Collection? <input type="checkbox" ng-model="itemCollection.isBYOCollection"><br><br> Incompatible Dietary Preferences: <br> <div ng-repeat="preference in dietaryPreferences"> <input type="checkbox" ng-model="preference.addToCollection"> <span>{{preference.title}}</span> </div><br><br> Picture URL: <input type="url" placeholder="URL" ng-model="itemCollection.pictureURL" size="60" name="pictureURLInput"><br><br> ItemType: <select name="itemTypeSelect" ng-model="itemCollection.itemType" ng-options="itemType as itemType for itemType in itemTypes" required></select><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-warning btn-large" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-primary btn-large" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-danger btn-large" ng-click="deleteCollection()" ng-disabled="noServerSelected()">Delete Collection</button> </form> </div>'),a.put("views/editlessons.html",'<div> <h2>Edit Lessons</h2> <a class="btn btn-link" ng-href="#/lesson">Create</a> <a class="btn btn-link active" ng-href="#/editLessons">Edit</a><br> <form novalidate name="editLessonsForm" ng-controller="EditLessonsCtrl"> <p>Tips, Glossaries, Videos, etc. are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadLessons(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadLessons(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Lesson: <select name="lessonSelect" ng-model="selectedLesson" ng-change="changeSelectedLesson()" ng-options="lesson as lesson.name for lesson in lessons"></select><br> Name: <input type="text" ng-model="lesson.name" size="50" required name="nameInput"><br><br> Time Estimate (minutes): <input type="text" ng-model="lesson.timeEstimate" size="50" required name="timeEstimateInput"> <br><br> Description: <textarea ng-model="lesson.description" rows="4" cols="50" required name="descriptionInput"></textarea><br><br> Picture URL: <input type="url" placeholder="URL" ng-model="lesson.pictureURL" size="60" name="pictureURLInput"><br><br> Is Article? <input type="checkbox" ng-model="lesson.isArticle"><br><br> <s ng-show="!getArticleLabel()">Article:</s> <span ng-show="getArticleLabel()">Article:</span> <select ng-disabled="!lesson.isArticle" name="articleSelect" ng-model="lesson.articleId" ng-options="article._id as article.title for article in articles"></select><br><br> <s ng-show="!getItemLabel()">Item Type:</s> <span ng-show="getItemLabel()">Item Type:</span> <select ng-disabled="lesson.isArticle" name="itemTypeSelect" ng-model="itemType" ng-options="itemType for itemType in itemTypes"></select><br><br> <s ng-show="!getItemLabel()">Item:</s> <span ng-show="getItemLabel()">Item:</span> <select ng-disabled="lesson.isArticle" name="itemSelect" ng-model="selectedItem" ng-options="item._id as item.title for item in getSelectedTypeItems()"></select><br><br> <button ng-disabled="lesson.isArticle || !selectedItem" ng-click="addItem()">Add Item</button><br><br> <button class="btn btn-success btn-sm" ng-click="addAllOfItemType()" ng-disabled="!canAddAllForItemType()">Add All For Item Type</button><br><br> Added Items: <div ng-repeat="id in lesson.itemIds"> <p>{{id.itemType}}: {{id.id}}</p> <button class="btn btn-xs btn-danger" ng-click="removeItemId($index)">Remove</button> </div> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProd"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDev"><br> </div> <button class="btn btn-warning btn-lg" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-primary btn-lg" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-danger btn-lg" ng-click="deleteLesson()" ng-disabled="noServerSelected()">Delete Lesson</button> </form> </div>'),a.put("views/editrecipeadjectives.html",'<div> <h2>Edit Recipe Adjective</h2> <a class="btn btn-link" ng-href="#/recipeAdjectives">Create</a> <a class="btn btn-link active" ng-href="#/editRecipeAdjectives">Edit</a> <form novalidate name="editRecipeAdjectiveForm"> <p>Modifiers are currently being drawn from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadStuff(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadStuff(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Adjective: <select name="adjectiveSelect" ng-model="selectedAdjective" ng-change="changeSelectedAdjective()" ng-options="adjective as adjective.name for adjective in adjectives"></select><br><br> Name: <input type="text" ng-model="recipeAdjective.name" required size="50" name="nameInput"><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-default" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-large btn-success" ng-click="saveChanges()" ng-disabled="editRecipeAdjectiveForm.$invalid || noServerSelected()">Save Changes</button> <button class="btn btn-danger btn-large" ng-click="deleteAdjective()" ng-disabled="noServerSelected()">Delete Adjective</button> </form> </div>'),a.put("views/editrecipebyid.html",'<div> <h2>Edit Recipe By ID</h2> <a class="btn btn-link" ng-href="#/recipes">Create</a> <a class="btn btn-link active" ng-href="#/editRecipeById">Edit by Id</a> <a class="btn btn-link" ng-href="#/editRecipes">Edit + Duplicate</a><br> <!--copy selectedRecipe over to recipe - that way original model doesn\'t change--> <form novalidate name="editRecipeForm" ng-controller="EditrecipebyidCtrl"> <p>Objects are currently being loaded from the {{serverType}} server</p> Use: <br> <label> <input type="radio" ng-model="fetchObj.useProd" ng-click="reloadStuff(\'PRODUCTION\')" ng-value="true"> Production </label> <label> <input type="radio" ng-model="fetchObj.useProd" ng-click="reloadStuff(\'DEVELOPMENT\')" ng-value="false"> Development </label> <br> <input type="text" ng-model="fetchObj.fetchId" size="50" placeholder="Recipe Id"> <br><span>OR</span><br> <input type="text" ng-model="fetchObj.fetchName" size="50" placeholder="Recipe Name"> <br> <button class="btn btn-primary" ng-click="fetchRecipe()">Fetch</button><br><br> Default Name Body: <input type="text" ng-model="recipe.name" size="50" required ng-focus="logRecipeName()" ng-blur="updateRecipeName()" name="nameInput"> <span ng-show="recipeForm.nameInput.$invalid">give the recipe a name</span><br> <br> <button class="btn btn-sm btn-info" ng-click="addNameBody()">Add Name Body</button><br> <div ng-repeat="name in nameBodies"> <recipe-name-description-input seasonings="seasoningProfiles" adjectives="recipeAdjectives" modifiers="healthModifiers" dictionary="nameDictionary" text-obj="name" type="\'name\'" preload-indicators="true"></recipe-name-description-input> <button class="btn btn-xs btn-warning" ng-click="removeNameBody($index)">Remove</button> </div><br> Default Description: <textarea ng-model="recipe.description" rows="4" cols="50" name="descInput"></textarea> <div ng-repeat="description in conditionalDescriptions"> <recipe-name-description-input seasonings="seasoningProfiles" adjectives="recipeAdjectives" modifiers="healthModifiers" dictionary="descriptionDictionary" text-obj="description" type="\'description\'" preload-indicators="true"></recipe-name-description-input> <button class="btn btn-xs btn-warning" ng-click="removeDescription($index)">Remove</button> </div><br><br> <span ng-show="recipeForm.descInput.$invalid">give the recipe a description</span><br> Collections: <br> <div ng-repeat="collection in recipeCollections"> <input type="checkbox" ng-model="collection.useInRecipe"> <span>{{collection.name}}</span> </div><br><br> Main Picture URLs: <div ng-repeat="url in mainPictureURLs"> <input type="url" ng-model="url.url" size="70" name="mainPicInput"><br> <button class="btn btn-xs" ng-click="removePictureURL($index)" ng-disabled="mainPictureURLs.length <= 1">Remove</button> </div> <button class="btn btn-sm" ng-click="addPictureURL()">Add Picture URL</button><br> Main Video: <input type="text" ng-model="recipe.mainVideo.videoId" size="50" name="mainVidIdInput" placeholder="Video Id"> <input type="text" ng-model="recipe.mainVideo.end" size="50" name="mainVidEndInput" placeholder="End Time"><br><br> RecipeType: <select name="typeSelect" ng-model="recipe.recipeType" ng-options="recipeType for recipeType in recipeTypes" required></select> <span ng-show="recipeForm.typeSelect.$invalid">select a recipe type</span><br><br> RecipeCategory: <select name="categorySelect" ng-model="recipe.recipeCategory" ng-options="recipeCategory for recipeCategory in recipeCategories" required></select> <span ng-show="recipeForm.categorySelect.$invalid">select a recipe category</span><br><br> Active Time: <input type="text" ng-pattern="integerval" ng-model="recipe.manActiveTime"><br><br> Total Time: <input type="text" ng-pattern="integerval" ng-model="recipe.manTotalTime"><br><br> Default Serving Size: <select name="servingSizeSelect" ng-model="recipe.defaultServingSize" ng-options="size for size in servingSizes" required></select><br> Primary Cooking Method: <select name="primaryCookingSelect" ng-model="recipe.primaryCookingMethod" ng-options="method for method in cookingMethods" required></select><br> <span ng-show="recipeForm.primaryCookingSelect.$invalid">select a cooking method</span> Other Cooking Methods: <select name="otherCookingSelect" ng-options="method for method in cookingMethods" ng-model="otherCookingMethod"></select> <button class="btn btn-info btn-xs" ng-click="addCookingMethod()">Add Secondary Cooking Method</button> <div ng-repeat="method in recipe.otherCookingMethods"> {{method}} <button class="btn btn-danger btn-xs" ng-click="removeCookingMethod($index)"> - </button> </div><br><br> Can Add Seasoning: <input type="checkbox" ng-model="recipe.canAddSeasoningProfile"><br><br> Default Seasoning: <select name="seasoningSelect" ng-model="recipe.defaultSeasoningProfile" ng-options="profile as profile.name for profile in seasoningProfiles track by profile._id" ng-disabled="!recipe.canAddSeasoningProfile"></select><br><br> Available Seasonings: <br> <div ng-repeat="profile in seasoningProfiles" ng-if="recipe.canAddSeasoningProfile"> <input type="checkbox" ng-model="profile.useInChoiceSeasonings"> <span>{{profile.name}}/{{profile.recipeTitleAlias}}</span> </div> <h4>Ingredient List</h4> <b>Ingredient Types</b><br><br> <div ng-repeat="type in recipe.ingredientList.ingredientTypes" class="bg-warning"> <div ng-if="!isIngredientTypeMinimized($index)"> TypeName: <input type="text" ng-model="type.typeName" size="50" required name="typeNameInput"> <span ng-show="typeForm.typeName.$invalid">give a type name</span><br><br> DisplayName: <input type="text" ng-model="type.displayName" size="50" required name="displayNameInput"> <span ng-show="typeForm.displayName.$invalid">give a display name</span><br><br> Min Ingredients Needed: <input type="text" ng-model="type.minNeeded" size="30" required name="minNeeded" ng-pattern="integerval"> <span ng-show="typeForm.minNeeded.$invalid">give a number for minNeeded</span><br><br> Ingredients: <select name="ingredientSelect" ng-model="typeIngredient" ng-options="ingredient.name.standardForm for ingredient in ingredients" ng-init="setSelectedIngredientForms(typeIngredient)" ng-change="setSelectedIngredientForms(typeIngredient)"></select> <span ng-show="type.ingredients.length === 0">there must be at least one ingredient in a type</span> <div ng-repeat="form in typeIngredient.ingredientForms"> {{form.name}}: <input type="checkbox" ng-model="selectedIngredientForms[$index]"> </div> <br> <button class="btn btn-primary btn-xs" ng-click="addTypeIngredient($index, typeIngredient)" ng-disabled="!isAFormSelected()">Add Ingredient</button><br> <div ng-repeat="ingredient in type.ingredients"> <div ng-if="isIngredientMinimized(type, $index)"> <p>{{ingredient.name}}</p> <button class="btn btn-info btn-xs" ng-click="toggleIngredientExpand(type, $index)">Expand</button> <button class="btn btn-danger btn-xs" ng-click="removeTypeIngredient(type, $index)">Remove</button> </div> <div ng-if="!isIngredientMinimized(type, $index)"> <pre>{{ingredient | json}}</pre> <button class="btn btn-info btn-xs" ng-click="toggleIngredientExpand(type, $index)">Minimize</button> <button class="btn btn-danger btn-xs" ng-click="removeTypeIngredient(type, $index)">Remove</button> </div> </div> <button class="btn btn-info btn-sm" ng-click="toggleIngredientTypeExpand($index)">Minimize</button> <button class="btn btn-danger btn-sm" ng-click="removeIngredientType($index)">Remove Ingredient Type</button><br><br> </div> <div ng-if="isIngredientTypeMinimized($index)"> <p>Type Name: {{type.typeName}} // MinNeeded: {{type.minNeeded}}</p> <button class="btn btn-info btn-sm" ng-click="toggleIngredientTypeExpand($index)">Expand</button> <button class="btn btn-danger btn-sm" ng-click="removeIngredientType($index)">Remove Ingredient Type</button><br><br> </div> </div> <button class="btn btn-primary btn-sm" ng-click="addIngredientType()">Add Ingredient Type</button><br><br> <b>Equipment Needed</b><br> <select name="equipmentSelect" ng-model="typeDish" ng-options="dish.name for dish in dishes"></select> <button class="btn btn-primary btn-xs" ng-click="addDish()">Add Dish</button> <div ng-repeat="dish in recipe.ingredientList.equipmentNeeded"> <pre>{{dish.name}}</pre><button class="btn btn-danger btn-xs" ng-click="removeDish($index)"> - </button> </div><br> Primary Ingredient Type: <select name="primaryIngredientTypeSelect" ng-model="recipe.primaryIngredientType" ng-options="type.typeName as type.typeName for type in recipe.ingredientList.ingredientTypes" required></select><br><br> <h4>Step List</h4> <div ng-form="stepForm"> <div ng-repeat="constructingStep in recipe.stepList"> <div ng-if="!isMinimizedStep($index)"> <cut-step-input ng-if="constructingStep.stepType === \'Cut\'"></cut-step-input> <cook-step-input ng-if="constructingStep.stepType === \'Cook\'"></cook-step-input> <bake-step-input ng-if="constructingStep.stepType === \'Bake\'"></bake-step-input> <break-egg-step-input ng-if="constructingStep.stepType === \'BreakEgg\'"></break-egg-step-input> <boil-step-input ng-if="constructingStep.stepType === \'Boil\'"></boil-step-input> <bring-to-boil-step-input ng-if="constructingStep.stepType === \'BringToBoil\'"></bring-to-boil-step-input> <custom-step-input ng-if="constructingStep.stepType === \'Custom\'"></custom-step-input> <dry-step-input ng-if="constructingStep.stepType === \'Dry\'"></dry-step-input> <heat-step-input ng-if="constructingStep.stepType === \'Heat\'"></heat-step-input> <place-step-input ng-if="constructingStep.stepType === \'Place\'"></place-step-input> <preheat-oven-step-input ng-if="constructingStep.stepType === \'PreheatOven\'"></preheat-oven-step-input> <sautee-step-input ng-if="constructingStep.stepType === \'Sautee\'"></sautee-step-input> <serve-step-input ng-if="constructingStep.stepType === \'Serve\'"></serve-step-input> <season-step-input ng-if="constructingStep.stepType === \'Season\'"></season-step-input> <slow-cook-step-input ng-if="constructingStep.stepType === \'SlowCook\'"></slow-cook-step-input> <steam-step-input ng-if="constructingStep.stepType === \'Steam\'"></steam-step-input> <stir-step-input ng-if="constructingStep.stepType === \'Stir\'" is-aux-step="false" constructing-step="constructingStep" ingredient-list="recipe.ingredientList" steplist="recipe.stepList" aux-step-arr-index=""></stir-step-input> <equipment-prep-step-input ng-if="constructingStep.stepType === \'EquipmentPrep\'"></equipment-prep-step-input> <move-step-input ng-if="constructingStep.stepType === \'Move\'"></move-step-input> </div> <div ng-if="isMinimizedStep($index)"> <p>{{constructingStep.stepType}}</p> </div> <button class="btn btn-sm btn-info" ng-click="toggleStepMinimize($index)">{{getStepMinimizeButtonText($index)}}</button> <button class="btn btn-sm btn-danger" ng-click="removeStep($index)">Remove (use with caution!)</button> <br><br> </div> <b>Add New Step: </b><br><br> <div ng-form="newStepForm"> StepType <select name="stepTypeSelect" ng-model="constructingStep.stepType" ng-options="stepType for stepType in stepTypes" ng-required="!recipeSanityCheck()"></select> <cut-step-input ng-if="constructingStep.stepType === \'Cut\'"></cut-step-input> <cook-step-input ng-if="constructingStep.stepType === \'Cook\'"></cook-step-input> <break-egg-step-input ng-if="constructingStep.stepType === \'BreakEgg\'"></break-egg-step-input> <bake-step-input ng-if="constructingStep.stepType === \'Bake\'"></bake-step-input> <boil-step-input ng-if="constructingStep.stepType === \'Boil\'"></boil-step-input> <bring-to-boil-step-input ng-if="constructingStep.stepType === \'BringToBoil\'"></bring-to-boil-step-input> <custom-step-input ng-if="constructingStep.stepType === \'Custom\'"></custom-step-input> <dry-step-input ng-if="constructingStep.stepType === \'Dry\'"></dry-step-input> <heat-step-input ng-if="constructingStep.stepType === \'Heat\'"></heat-step-input> <place-step-input ng-if="constructingStep.stepType === \'Place\'"></place-step-input> <preheat-oven-step-input ng-if="constructingStep.stepType === \'PreheatOven\'"></preheat-oven-step-input> <sautee-step-input ng-if="constructingStep.stepType === \'Sautee\'"></sautee-step-input> <season-step-input ng-if="constructingStep.stepType === \'Season\'"></season-step-input> <slow-cook-step-input ng-if="constructingStep.stepType === \'SlowCook\'"></slow-cook-step-input> <steam-step-input ng-if="constructingStep.stepType === \'Steam\'"></steam-step-input> <serve-step-input ng-if="constructingStep.stepType === \'Serve\'"></serve-step-input> <stir-step-input ng-if="constructingStep.stepType === \'Stir\'" is-aux-step="false" constructing-step="constructingStep" ingredient-list="ingredientList" steplist="stepList" aux-step-arr-index=""></stir-step-input> <equipment-prep-step-input ng-if="constructingStep.stepType === \'EquipmentPrep\'"></equipment-prep-step-input> <move-step-input ng-if="constructingStep.stepType === \'Move\'"></move-step-input> <br><br> </div> <button ng-disabled="newStepForm.$invalid" ng-click="addStep()" class="btn btn-default">Append Step</button> </div> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-success" ng-disabled="noRecipeNameChange() || noServerSelected()" ng-click="duplicateRecipe()">Duplicate Recipe</button> <button class="btn btn-large btn-warning" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-large btn-primary" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-large btn-danger" ng-click="deleteRecipe()" ng-disabled="noServerSelected()">Delete Recipe</button> </form> </div>'),
a.put("views/editrecipes.html",'<div> <h2>Edit Recipe</h2> <a class="btn btn-link" ng-href="#/recipes">Create</a> <a class="btn btn-link" ng-href="#/editRecipeById">Edit by Id</a> <a class="btn btn-link active" ng-href="#/editRecipes">Edit + Duplicate</a><br> <!--copy selectedRecipe over to recipe - that way original model doesn\'t change--> <button class="btn btn-sm btn-warning" ng-click="reloadRecipes()">Reload Recipes</button> <form novalidate name="editRecipeForm" ng-controller="EditRecipesCtrl"> <p>Recipes, Dishes, Ingredients, Seasonings are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadStuff(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadStuff(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Recipe: <select name="recipeSelect" ng-model="selectedRecipe" ng-change="changeSelectedRecipe()" ng-options="recipe.value as recipe.label for recipe in recipes"></select><br><br> Default Name Body: <input type="text" ng-model="recipe.name" size="50" required ng-focus="logRecipeName()" ng-blur="updateRecipeName()" name="nameInput"> <span ng-show="recipeForm.nameInput.$invalid">give the recipe a name</span><br> <br> <!--How to get nameBodies loaded properly?--> <button class="btn btn-sm btn-info" ng-click="addNameBody()">Add Name Body</button><br> <div ng-repeat="name in nameBodies"> <recipe-name-description-input seasonings="seasoningProfiles" adjectives="recipeAdjectives" modifiers="healthModifiers" dictionary="nameDictionary" text-obj="name" type="\'name\'" preload-indicators="true"></recipe-name-description-input> <button class="btn btn-xs btn-warning" ng-click="removeNameBody($index)">Remove</button> </div><br><br> Default Description: <textarea ng-model="recipe.description" rows="4" cols="50" name="descInput"></textarea> <span ng-show="recipeForm.descInput.$invalid">give the recipe a description</span><br> <button class="btn btn-sm btn-info" ng-click="addDescription()">Add Description</button><br> <div ng-repeat="description in conditionalDescriptions"> <recipe-name-description-input seasonings="seasoningProfiles" adjectives="recipeAdjectives" modifiers="healthModifiers" dictionary="descriptionDictionary" text-obj="description" type="\'description\'" preload-indicators="true"></recipe-name-description-input> <button class="btn btn-warning btn-xs" ng-click="removeDescription($index)">Remove</button> </div> Collections: <br> <div ng-repeat="collection in recipeCollections"> <input type="checkbox" ng-model="collection.useInRecipe"> <span>{{collection.name}}</span> </div><br><br> Main Picture URLs: <div ng-repeat="url in mainPictureURLs"> <input type="url" ng-model="url.url" size="70" name="mainPicInput"><br> <button class="btn btn-xs" ng-click="removePictureURL($index)">Remove</button> </div> <button class="btn btn-sm" ng-click="addPictureURL()">Add Picture URL</button><br> Main Video: <input type="text" ng-model="recipe.mainVideo.videoId" size="50" name="mainVidIdInput" placeholder="Video Id"> <input type="text" ng-model="recipe.mainVideo.end" size="50" name="mainVidEndInput" placeholder="End Time"><br><br> RecipeType: <select name="typeSelect" ng-model="recipe.recipeType" ng-options="recipeType for recipeType in recipeTypes" required></select> <span ng-show="recipeForm.typeSelect.$invalid">select a recipe type</span><br><br> RecipeCategory: <select name="categorySelect" ng-model="recipe.recipeCategory" ng-options="recipeCategory for recipeCategory in recipeCategories" required></select> <span ng-show="recipeForm.categorySelect.$invalid">select a recipe category</span><br><br> Active Time: <input type="text" ng-pattern="integerval" ng-model="recipe.manActiveTime"><br><br> Total Time: <input type="text" ng-pattern="integerval" ng-model="recipe.manTotalTime"><br><br> Default Serving Size: <select name="servingSizeSelect" ng-model="recipe.defaultServingSize" ng-options="size for size in servingSizes" required></select><br> Primary Cooking Method: <select name="primaryCookingSelect" ng-model="recipe.primaryCookingMethod" ng-options="method for method in cookingMethods" required></select><br> <span ng-show="recipeForm.primaryCookingSelect.$invalid">select a cooking method</span> Other Cooking Methods: <select name="otherCookingSelect" ng-options="method for method in cookingMethods" ng-model="otherCookingMethod"></select> <button class="btn btn-info btn-xs" ng-click="addCookingMethod()">Add Secondary Cooking Method</button> <div ng-repeat="method in recipe.otherCookingMethods"> {{method}} <button class="btn btn-danger btn-xs" ng-click="removeCookingMethod($index)"> - </button> </div><br><br> Can Add Seasoning: <input type="checkbox" ng-model="recipe.canAddSeasoningProfile"><br><br> Default Seasoning: <select name="seasoningSelect" ng-model="recipe.defaultSeasoningProfile" ng-options="profile as profile.name for profile in seasoningProfiles track by profile._id" ng-disabled="!recipe.canAddSeasoningProfile"></select><br><br> Available Seasonings: <br> <div ng-repeat="profile in seasoningProfiles" ng-if="recipe.canAddSeasoningProfile"> <input type="checkbox" ng-model="profile.useInChoiceSeasonings"> <span>{{profile.name}}/{{profile.recipeTitleAlias}}</span> </div> <h4>Ingredient List</h4> <b>Ingredient Types</b><br><br> <div ng-repeat="type in recipe.ingredientList.ingredientTypes" class="bg-warning"> <div ng-if="!isIngredientTypeMinimized($index)"> TypeName: <input type="text" ng-model="type.typeName" size="50" required name="typeNameInput"> <span ng-show="typeForm.typeName.$invalid">give a type name</span><br><br> DisplayName: <input type="text" ng-model="type.displayName" size="50" required name="displayNameInput"> <span ng-show="typeForm.displayName.$invalid">give a display name</span><br><br> Min Ingredients Needed: <input type="text" ng-model="type.minNeeded" size="30" required name="minNeeded" ng-pattern="integerval"> <span ng-show="typeForm.minNeeded.$invalid">give a number for minNeeded</span><br><br> Ingredients: <select name="ingredientSelect" ng-model="typeIngredient" ng-options="ingredient.name.standardForm for ingredient in ingredients" ng-init="setSelectedIngredientForms(typeIngredient)" ng-change="setSelectedIngredientForms(typeIngredient)"></select> <span ng-show="type.ingredients.length === 0">there must be at least one ingredient in a type</span> <div ng-repeat="form in typeIngredient.ingredientForms"> {{form.name}}: <input type="checkbox" ng-model="selectedIngredientForms[$index]"> </div> <br> <button class="btn btn-primary btn-xs" ng-click="addTypeIngredient($index, typeIngredient)" ng-disabled="!isAFormSelected()">Add Ingredient</button><br> <div ng-repeat="ingredient in type.ingredients"> <div ng-if="isIngredientMinimized(type, $index)"> <p>{{ingredient.name}}</p> <button class="btn btn-info btn-xs" ng-click="toggleIngredientExpand(type, $index)">Expand</button> <button class="btn btn-danger btn-xs" ng-click="removeTypeIngredient(type, $index)">Remove</button> </div> <div ng-if="!isIngredientMinimized(type, $index)"> <pre>{{ingredient | json}}</pre> <button class="btn btn-info btn-xs" ng-click="toggleIngredientExpand(type, $index)">Minimize</button> <button class="btn btn-danger btn-xs" ng-click="removeTypeIngredient(type, $index)">Remove</button> </div> </div> <button class="btn btn-info btn-sm" ng-click="toggleIngredientTypeExpand($index)">Minimize</button> <button class="btn btn-danger btn-sm" ng-click="removeIngredientType($index)">Remove Ingredient Type</button><br><br> </div> <div ng-if="isIngredientTypeMinimized($index)"> <p>Type Name: {{type.typeName}} // MinNeeded: {{type.minNeeded}}</p> <button class="btn btn-info btn-sm" ng-click="toggleIngredientTypeExpand($index)">Expand</button> <button class="btn btn-danger btn-sm" ng-click="removeIngredientType($index)">Remove Ingredient Type</button><br><br> </div> </div> <button class="btn btn-primary btn-sm" ng-click="addIngredientType()">Add Ingredient Type</button><br><br> <b>Equipment Needed</b><br> <select name="equipmentSelect" ng-model="typeDish" ng-options="dish.name for dish in dishes"></select> <button class="btn btn-primary btn-xs" ng-click="addDish()">Add Dish</button> <div ng-repeat="dish in recipe.ingredientList.equipmentNeeded"> <pre>{{dish.name}}</pre><button class="btn btn-danger btn-xs" ng-click="removeDish($index)"> - </button> </div><br> Primary Ingredient Type: <select name="primaryIngredientTypeSelect" ng-model="recipe.primaryIngredientType" ng-options="type.typeName as type.typeName for type in recipe.ingredientList.ingredientTypes" required></select><br><br> <h4>Step List</h4> <div ng-form="stepForm"> <div ng-repeat="constructingStep in recipe.stepList"> <div ng-if="!isMinimizedStep($index)"> <break-egg-step-input ng-if="constructingStep.stepType === \'BreakEgg\'"></break-egg-step-input> <cut-step-input ng-if="constructingStep.stepType === \'Cut\'"></cut-step-input> <cook-step-input ng-if="constructingStep.stepType === \'Cook\'"></cook-step-input> <bake-step-input ng-if="constructingStep.stepType === \'Bake\'"></bake-step-input> <break-egg-step-input ng-if="constructingStep.stepType === \'BreakEgg\'"></break-egg-step-input> <boil-step-input ng-if="constructingStep.stepType === \'Boil\'"></boil-step-input> <bring-to-boil-step-input ng-if="constructingStep.stepType === \'BringToBoil\'"></bring-to-boil-step-input> <custom-step-input ng-if="constructingStep.stepType === \'Custom\'"></custom-step-input> <dry-step-input ng-if="constructingStep.stepType === \'Dry\'"></dry-step-input> <heat-step-input ng-if="constructingStep.stepType === \'Heat\'"></heat-step-input> <place-step-input ng-if="constructingStep.stepType === \'Place\'"></place-step-input> <preheat-oven-step-input ng-if="constructingStep.stepType === \'PreheatOven\'"></preheat-oven-step-input> <sautee-step-input ng-if="constructingStep.stepType === \'Sautee\'"></sautee-step-input> <season-step-input ng-if="constructingStep.stepType === \'Season\'"></season-step-input> <slow-cook-step-input ng-if="constructingStep.stepType === \'SlowCook\'"></slow-cook-step-input> <steam-step-input ng-if="constructingStep.stepType === \'Steam\'"></steam-step-input> <serve-step-input ng-if="constructingStep.stepType === \'Serve\'"></serve-step-input> <stir-step-input ng-if="constructingStep.stepType === \'Stir\'" is-aux-step="false" constructing-step="constructingStep" ingredient-list="recipe.ingredientList" steplist="recipe.stepList" aux-step-arr-index=""></stir-step-input> <equipment-prep-step-input ng-if="constructingStep.stepType === \'EquipmentPrep\'"></equipment-prep-step-input> <move-step-input ng-if="constructingStep.stepType === \'Move\'"></move-step-input> </div> <div ng-if="isMinimizedStep($index)"> <p>{{constructingStep.stepType}}</p> </div> <button class="btn btn-sm btn-info" ng-click="toggleStepMinimize($index)">{{getStepMinimizeButtonText($index)}}</button> <button class="btn btn-sm btn-danger" ng-click="removeStep($index)">Remove (use with caution!)</button> <br><br> </div> <b>Add New Step: </b><br><br> <div ng-form="newStepForm"> StepType <select name="stepTypeSelect" ng-model="constructingStep.stepType" ng-options="stepType for stepType in stepTypes" ng-required="!recipeSanityCheck()"></select> <break-egg-step-input ng-if="constructingStep.stepType === \'BreakEgg\'"></break-egg-step-input> <cut-step-input ng-if="constructingStep.stepType === \'Cut\'"></cut-step-input> <cook-step-input ng-if="constructingStep.stepType === \'Cook\'"></cook-step-input> <bake-step-input ng-if="constructingStep.stepType === \'Bake\'"></bake-step-input> <boil-step-input ng-if="constructingStep.stepType === \'Boil\'"></boil-step-input> <bring-to-boil-step-input ng-if="constructingStep.stepType === \'BringToBoil\'"></bring-to-boil-step-input> <custom-step-input ng-if="constructingStep.stepType === \'Custom\'"></custom-step-input> <dry-step-input ng-if="constructingStep.stepType === \'Dry\'"></dry-step-input> <heat-step-input ng-if="constructingStep.stepType === \'Heat\'"></heat-step-input> <place-step-input ng-if="constructingStep.stepType === \'Place\'"></place-step-input> <preheat-oven-step-input ng-if="constructingStep.stepType === \'PreheatOven\'"></preheat-oven-step-input> <sautee-step-input ng-if="constructingStep.stepType === \'Sautee\'"></sautee-step-input> <season-step-input ng-if="constructingStep.stepType === \'Season\'"></season-step-input> <slow-cook-step-input ng-if="constructingStep.stepType === \'SlowCook\'"></slow-cook-step-input> <serve-step-input ng-if="constructingStep.stepType === \'Serve\'"></serve-step-input> <steam-step-input ng-if="constructingStep.stepType === \'Steam\'"></steam-step-input> <stir-step-input ng-if="constructingStep.stepType === \'Stir\'" is-aux-step="false" constructing-step="constructingStep" ingredient-list="ingredientList" steplist="stepList" aux-step-arr-index=""></stir-step-input> <equipment-prep-step-input ng-if="constructingStep.stepType === \'EquipmentPrep\'"></equipment-prep-step-input> <move-step-input ng-if="constructingStep.stepType === \'Move\'"></move-step-input> <br><br> </div> <button ng-disabled="newStepForm.$invalid" ng-click="addStep()" class="btn btn-default">Append Step</button> </div> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-success" ng-disabled="noRecipeNameChange() || noServerSelected()" ng-click="duplicateRecipe()">Duplicate Recipe</button> <button class="btn btn-large btn-warning" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-large btn-primary" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-large btn-danger" ng-click="deleteRecipe()" ng-disabled="noServerSelected()">Delete Recipe</button> </form> </div>'),a.put("views/editseasoningprofiles.html",'<div> <h2>Edit Seasoning Profile</h2> <a class="btn btn-link" ng-href="#/seasoningprofiles">Create</a> <a class="btn btn-link active" ng-href="#/editSeasoningProfiles">Edit</a><br> <form novalidate name="editSeasoningForm"> <p>Seasonings are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadProfiles(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadProfiles(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Seasoning Profile: <select name="seasoningSelect" ng-model="selectedSeasoning" ng-change="changeSelectedSeasoning()" ng-options="seasoning as seasoning.name for seasoning in seasonings"></select><br><br> Recipe Title Alias: <input type="text" ng-model="seasoningProfile.recipeTitleAlias" size="50" required name="prefixNameInput"><br><br> Main Name: <input type="text" ng-model="seasoningProfile.name" size="50" required name="mainNameInput"><br><br> Spices: <ul> <li ng-repeat="spice in seasoningProfile.spices track by $index"> <input type="text" ng-model="seasoningProfile.spices[$index]" size="40"> <button class="btn btn-xs btn-danger" ng-click="removeSpice($index)">Remove Spice</button> </li> </ul> <button class="btn btn-sm btn-primary" ng-click="addSpice()">Add Spice</button><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-warning" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-large btn-primary" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-large btn-danger" ng-click="deleteSeasoningProfile()" ng-disabled="noServerSelected()">Delete Seasoning Profile</button> </form> </div>'),a.put("views/edittrainingvideos.html",'<div> <h2>Edit Training Videos</h2> <a class="btn btn-link" ng-href="#/trainingVideos">Create</a> <a class="btn btn-link active" ng-href="#/editTrainingVideos">Edit</a><br> <form novalidate name="trainingVideoForm"> <p>Videos and Collections are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadStuff(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadStuff(\'DEVELOPMENT\')">Reload From Development</button><br><br> Select Training Video: <select name="trainingVideoSelect" ng-model="selectedVideo" ng-change="changeSelectedVideo()" ng-options="video as video.title for video in videos"></select><br><br> Title: <input type="text" ng-model="trainingVideo.title" size="50" required name="titleInput"><br><br> Video: <input type="text" ng-model="trainingVideo.video.videoId" size="60" name="videoIdInput" placeholder="ID"> <input type="text" ng-model="trainingVideo.video.end" size="40" name="videoEndInput" placeholder="End Time"> <input type="text" ng-model="trainingVideo.video.caption" size="100" name="videoCaptionInput" placeholder="Caption"><br><br> Picture: <input type="url" ng-model="trainingVideo.picture.url" size="60" name="pictureURLInput" placeholder="URL"> <input type="text" ng-model="trainingVideo.picture.caption" size="100" name="pictureCaptionInput" placeholder="Caption"><br><br> Collections: <select name="itemCollectionSelect" ng-model="curCollectionId" ng-options="collection._id as collection.name for collection in trainingVideoCollections"></select><br> <ul> <div ng-repeat="collectionID in trainingVideo.collectionIds"> <li>{{collectionID}}</li> <button ng-click="removeCollection($index)">Remove</button> </div> </ul> <button ng-click="addCollection()">Add Collection</button><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-warning" ng-click="cancelChanges()">Cancel Changes</button> <button class="btn btn-large btn-primary" ng-click="saveChanges()" ng-disabled="noServerSelected()">Save Changes</button> <button class="btn btn-large btn-danger" ng-click="deleteVideo()" ng-disabled="noServerSelected()">Delete Video</button> </form> </div>'),a.put("views/equipmentprepstepinput.html",'<div ng-form="equipmentPrepStepForm" class="bg-warning"> <b>Equipment Prep Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Prep Action: <select name="prepActionSelect" ng-model="constructingStep.stepSpecifics[0].val" ng-options="prepAction for prepAction in prepActionTypes" required></select> Prep Modifier: <input type="text" ng-model="constructingStep.stepSpecifics[1].val" name="prepModifierInput" size="50"><br> Dish Inputs (expects dish): <step-input-form constructing-step="constructingStep" input-name="dishInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> ProductName: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text:<br> <pre>[prepActionType] [# of dishes] [dishesToPrep] with [prepModifier]</pre> </div> </div>'),a.put("views/equipmentprepstepitem.html",'<div> <b>Equipment Prep Step</b><br> <p>Step Duration: {{step.stepDuration}}</p> <p>PrepActionType: {{step.prepActionType}}</p> <p>Prep Modifier: {{step.prepModifier}}</p> <p><em>Dish Inputs</em></p> <div ng-repeat="input in step.dishInputs"> <p>SourceType: {{input.sourceType}}</p> <p>SourceId: {{input.sourceId}}</p> <p>Key: {{input.key}}</p> </div> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/glossaryentries.html",'<div> <h2>Input Glossary Entries</h2><br> <a class="btn btn-link" ng-href="#/glossaryEntries">Create</a> <a class="btn btn-link active" ng-href="#/editGlossaryEntries">Edit</a><br> <form novalidate name="glossaryEntryForm"> <p>Collections are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadCollections(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadCollections(\'DEVELOPMENT\')">Reload From Development</button><br><br> Title: <input type="text" ng-model="glossaryEntry.title" size="50" required name="titleInput"><br><br> Text: <textarea ng-model="glossaryEntry.text" rows="4" cols="50" required name="textInput"></textarea><br><br> Picture: <input type="url" ng-model="glossaryEntry.picture.url" size="60" name="pictureURLInput" placeholder="URL"> <input type="text" ng-model="glossaryEntry.picture.caption" size="100" name="pictureCaptionInput" placeholder="Caption"><br><br> Video: <input type="text" ng-model="glossaryEntry.video.videoId" size="60" name="videoIdInput" placeholder="ID"> <input type="text" ng-model="glossaryEntry.video.end" size="40" name="videoEndInput" placeholder="End Time"> <input type="text" ng-model="glossaryEntry.video.caption" size="100" name="videoCaptionInput" placeholder="Caption"><br><br> Collections: <select name="itemCollectionSelect" ng-model="curCollectionId" ng-options="collection._id as collection.name for collection in glossaryCollections"></select><br> <ul> <div ng-repeat="collectionID in glossaryEntry.collectionIds"> <li>{{collectionID}}</li> <button ng-click="removeCollection($index)">Remove</button> </div> </ul> <button ng-click="addCollection()">Add Collection</button><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-default" ng-click="reset()">Reset Form</button> <button class="btn btn-large btn-success" ng-click="save()" ng-disabled="glossaryEntryForm.$invalid || !glossaryEntrySanityCheck()">Save Entry</button> </form> <pre>\n    {{glossaryEntry | json}}\n  </pre> </div>'),a.put("views/healthmodifiers.html",'<div> <h2>Health Modifier Input</h2> <a class="btn btn-link active" ng-href="#/healthModifiers">Create</a> <a class="btn btn-link" ng-href="#/editHealthModifiers">Edit</a> <form novalidate name="healthModifierForm"> Name: <input type="text" ng-model="healthModifier.name" required size="50" name="nameInput"><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-default" ng-click="reset()">Reset Form</button> <button class="btn btn-large btn-success" ng-click="save()" ng-disabled="healthModifierForm.$invalid">Save Modifier</button> </form> </div>'),a.put("views/heatstepinput.html",'<div ng-form="heatStepForm" class="bg-warning"> <b>Heat Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"> <br> Heats Oil: <input type="checkbox" ng-model="constructingStep.stepSpecifics[0].val" name="heatsOilInput"><br> Heat Setting: <input type="text" ng-model="constructingStep.stepSpecifics[1].val" size="50" required name="heatSettingInput"><br> Dish Input (Expects a Dish): <step-input-form constructing-step="constructingStep" input-name="dishInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> ProductName: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text:<br> <pre>if not heatsOil: Heat [dishInput] over [heatSetting] heat --- if heatsOil: Add oil to [dishInput] and then heat it over [heatSetting] heat</pre> </div> </div>'),a.put("views/heatstepitem.html",'<div> <b>Heat Step</b> <p>Step Duration: {{step.stepDuration}}</p> <p>Heats Oil: {{step.heatsOil}}</p> <p>Heat Setting: {{step.heatsOil}}</p> <p><b>Dish Input</b></p> <p>SourceType: {{step.dishInput.sourceType}}</p> <p ng-if="step.ingredientInput.sourceId">SourceId: {{step.dishInput.sourceId}}</p> <p>Key: {{step.dishInput.key}}</p><br> <p>ProductName: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/howtoshopentry.html",'<div> <h2>Input How To Shop Entry</h2> <a class="btn btn-link active" ng-href="#/howToShopEntry">Create</a> <a class="btn btn-link" ng-href="#/editHowToShopEntries">Edit</a><br> <form novalidate name="howToShopEntryForm"> <p>Collections are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadCollections(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadCollections(\'DEVELOPMENT\')">Reload From Development</button><br><br> Title: <input type="text" ng-model="howToShopEntry.title" size="50" required name="titleInput"><br><br> Text: <textarea ng-model="howToShopEntry.text" rows="4" cols="50" required name="textInput"></textarea><br><br> Pictures: <div ng-repeat="picture in howToShopEntry.pictures"> <input type="url" ng-model="picture.url" size="60" placeholder="URL"> <input type="text" ng-model="picture.caption" size="100" placeholder="Caption"> <button class="btn btn-sm btn-warning" ng-click="removePicture($index)">Remove Picture</button> </div> <button class="btn btn-info" ng-click="addPicture()">Add a Picture</button> <br><br> Collections: <select name="itemCollectionSelect" ng-model="curCollectionId" ng-options="collection._id as collection.name for collection in howToShopCollections"></select><br> <ul> <div ng-repeat="collectionID in howToShopEntry.collectionIds"> <li>{{collectionID}}</li> <button ng-click="removeCollection($index)">Remove</button> </div> </ul> <button ng-click="addCollection()">Add Collection</button><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-default" ng-click="reset()">Reset Form</button> <button class="btn btn-large btn-success" ng-click="save()" ng-disabled="howToShopEntryForm.$invalid || !howToShopEntrySanityCheck()">Save Entry</button> </form> <pre>\n    {{howToShopEntry | json}}\n  </pre> </div>'),a.put("views/ingredients.html",'<div> <h2>Input Ingredient</h2> <a class="btn btn-link active" ng-href="#/ingredients">Create</a> <a class="btn btn-link" ng-href="#/editIngredients">Edit</a><br> <form novalidate name="ingredientForm"> <p>Ingredients are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadIngredients(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadIngredients(\'DEVELOPMENT\')">Reload From Development</button><br><br> Name: <input type="text" ng-model="ingredient.name.standardForm" size="50" required name="nameInput"><br><br> Show In Selection: <input type="checkbox" name="showSelectionCheckbox" ng-model="ingredient.showInSelection"><br><br> Input Category: <select name="inputCategorySelect" ng-model="ingredient.inputCategory" ng-options="category for category in inputCategories" ng-change="changeInputCategory()" ng-init="changeInputCategory()" required></select><br><br> Input SubCategory: <select name="inputSubCategorySelect" ng-model="ingredient.inputSubCategory" ng-options="subCategory for subCategory in inputSubCategories"></select><br><br> Plural Name: <input type="text" ng-model="ingredient.name.pluralForm" size="50" required name="pluralFormInput"><br> Singular Name: <input type="text" ng-model="ingredient.name.singularForm" size="50" required name="singularFormInput"><br><br> Measuring Units: <input type="text" ng-model="ingredient.units" size="50" required name="unitsInput"><br><br> Unit is A Single Item: <input type="checkbox" ng-model="ingredient.unitIsASingleItem" name="unitsCheckbox"><br><br> Servings Per Unit: <input type="text" ng-model="ingredient.servingsPerUnit" size="50" required name="servingsPerUnitInput" ng-pattern="integerval"><br><br> Use Ingredient Form Name For Display: <input type="checkbox" ng-model="ingredient.useFormNameForDisplay"><br><br> Ingredient Forms: <br> <div ng-repeat="inForm in inForms" class="bg-warning" ng-form="formForm"> <ul> <li> Name: <input type="text" ng-model="inForm.name" size="50" required name="inFormName"> </li> <li> Cooking Times: <br> <div ng-repeat="time in inForm.cookingTimes" class="bg-info" ng-form="cookingForm"> Cooking Method: <select name="cookingMethods" ng-model="time.cookingMethod" required> <option value="">Select Cooking Method</option> <option ng-repeat="method in cookingMethods">{{method}}</option> </select> <span ng-show="cookingForm.cookingMethods.$invalid">select a cooking method</span><br> Min Cook Time: <input type="text" ng-model="time.minTime" size="30" required name="minTime" ng-pattern="integerval"> Max Cook Time: <input type="text" ng-model="time.maxTime" size="30" required name="maxTime" ng-pattern="integerval"> <span ng-show="cookingForm.minTime.$invalid || cookingForm.maxTime.$invalid">Please enter a number</span> <br> Times Per Side?: <input type="checkbox" ng-model="time.timesArePerSide"><br> <button ng-click="removeCookingTime(inForm, $index)" class="btn btn-link btn-xs">Remove Cooking Time</button> <br><br> </div> </li> <button ng-click="addCookingTime(inForm)" class="btn btn-primary btn-xs">Add Cooking Time</button> <button ng-click="removeIngredientForm($index)" class="btn btn-danger btn-xs">Remove Ingredient Form</button> </ul> </div> <button ng-click="addIngredientForm()" class="btn btn-warning btn-sm">Add IngredientForm</button><br><br> Ingredient Tips: <br> <div ng-repeat="tip in ingredientTips" class="bg-info" ng-form="tipForm"> <ul> <li> StepType: <select name="stepTypeSelect" ng-model="tip.stepType" ng-change="setSubTypes(tip.stepType, $index)" required> <option value="">Select StepType</option> <option ng-repeat="stepType in stepTypes">{{stepType}}</option> </select> StepSubType: <select name="stepSubTypeSelect" ng-model="tip.stepSubType" ng-options="stepSubType for stepSubType in subTypes[$index]" required> </select> </li> <li> Step Tip: <br> <div class="bg-warning"> Title: <input type="text" ng-model="tip.stepTip.title" size="50" name="tipTitle"><br> Text: <textarea ng-model="tip.stepTip.text" rows="4" cols="50" name="tipText"></textarea><br> <span ng-show="tipForm.tipText.$invalid">Must enter text for the tip</span><br> PictureURL: <input type="url" ng-model="tip.stepTip.pictureURL" name="tipPic" size="70"> <br> <span ng-show="tipForm.tipPic.$invalid">PictureURL must be a URL</span><br> VideoTitle: <input type="text" ng-model="tip.stepTip.videoTitle" size="50" name="tipVidTitle"><br> VideoInfo: <input type="text" ng-model="tip.stepTip.videoInfo.videoId" name="tipVidId" size="50" placeholder="ID"> <input type="text" ng-model="tip.stepTip.videoInfo.end" name="tipVidEnd" size="50" placeholder="End Time"><br> <span ng-show="tipForm.tipVid.$invalid">VideoURL must be a URL</span><br> </div> </li> <button ng-click="removeTip($index)" class="btn btn-danger btn-xs">Remove Tip</button> </ul> </div> <button class="btn btn-warning btn-sm" ng-click="addIngredientTip()">Add Ingredient Tip</button><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-default" ng-click="reset()">Reset</button> <button class="btn btn-info" ng-click="preview()">Preview Ingredient</button> <button class="btn btn-success" ng-click="save()" ng-disabled="ingredientForm.$invalid || !ingredientSanityCheck()">Save</button> </form> <br> <pre>Ingredient: {{ingredient | json}}</pre><br> <h2>Current Ingredients</h2> <ul> <li ng-repeat="ingredient in ingredients"> <p><b>Name</b>: {{ingredient.name[\'standardForm\']}}</p> <pre>Forms: {{ingredient.ingredientForms | json}}</pre> <pre>Tips: {{ingredient.ingredientTips | json}}</pre> </li> </ul> </div>'),
a.put("views/itemcollections.html",'<div> <h2>Input Item Collections</h2> <a class="btn btn-link active" ng-href="#/itemCollections">Create</a> <a class="btn btn-link" ng-href="#/editItemCollections">Edit</a><br> <form novalidate name="itemCollectionsForm"> <p>Dietary Preferences are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadCollections(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadCollections(\'DEVELOPMENT\')">Reload From Development</button><br><br> Name: <input type="text" ng-model="itemCollection.name" size="50" required name="nameInput"><br><br> Description: <textarea ng-model="itemCollection.description" rows="4" cols="50" required name="descriptionInput"></textarea><br><br> Picture URL: <input type="url" placeholder="URL" ng-model="itemCollection.pictureURL" size="60" name="pictureURLInput"><br><br> Order Preference: <input type="text" ng-pattern="integerval" ng-model="itemCollection.orderPreference" size="30" name="orderPreferenceInput"><br><br> Is BYO Collection? <input type="checkbox" ng-model="itemCollection.isBYOCollection"><br><br> Incompatible Dietary Preferences: <br> <div ng-repeat="preference in dietaryPreferences"> <input type="checkbox" ng-model="preference.addToCollection"> <span>{{preference.title}}</span> </div><br><br> ItemType: <select name="itemTypeSelect" ng-model="itemCollection.itemType" ng-options="itemType as itemType for itemType in itemTypes" required></select><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-success" ng-click="save()" ng-disabled="itemCollectionsForm.$invalid || noServerSelected()">Save Collection</button> </form> <pre>\n    {{itemCollection | json}}\n  </pre> </div>'),a.put("views/lesson.html",'<div> <h2>Input Lesson</h2> <a class="btn btn-link active" ng-href="#/lesson">Create</a> <a class="btn btn-link" ng-href="#/editLessons">Edit</a><br> <form novalidate name="lessonForm"> <p>Articles, Tips, Glossaries, Videos, etc. are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadLessons(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadLessons(\'DEVELOPMENT\')">Reload From Development</button><br><br> Name: <input type="text" ng-model="lesson.name" size="50" required name="nameInput"><br><br> Time Estimate (minutes): <input type="text" ng-model="lesson.timeEstimate" size="50" required name="timeEstimateInput"><br><br> Description: <textarea ng-model="lesson.description" rows="4" cols="50" required name="descriptionInput"></textarea><br><br> Picture URL: <input type="url" placeholder="URL" ng-model="lesson.pictureURL" size="60" name="pictureURLInput"><br><br> Is Article? <input type="checkbox" ng-model="lesson.isArticle"><br><br> <s ng-show="!getArticleLabel()">Article:</s> <span ng-show="getArticleLabel()">Article:</span> <select ng-disabled="!lesson.isArticle" name="articleSelect" ng-model="lesson.articleId" ng-options="article._id as article.title for article in lesson.articles"></select><br><br> <s ng-show="!getItemLabel()">Item Type:</s> <span ng-show="getItemLabel()">Item Type:</span> <select ng-disabled="lesson.isArticle" name="itemTypeSelect" ng-model="itemType" ng-options="itemType for itemType in itemTypes"></select><br><br> <s ng-class="!getItemLabel()">Item:</s> <span ng-class="getItemLabel()">Item:</span> <select ng-disabled="lesson.isArticle" name="itemSelect" ng-model="selectedItem" ng-options="item._id as item.title for item in getSelectedTypeItems()"></select><br><br> <button class="btn btn-warning btn-sm" ng-click="addItem()" ng-disabled="lesson.isArticle || !selectedItem">Add Item</button><br><br> <button class="btn btn-success btn-sm" ng-click="addAllOfItemType()" ng-disabled="!canAddAllForItemType()">Add All For Item Type</button><br><br> Added Items: <div ng-repeat="id in lesson.itemIds"> <p>{{id.itemType}}: {{id.id}}</p> <button class="btn btn-xs btn-danger" ng-click="removeItemId($index)">Remove</button> </div> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProd"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDev"><br> </div> <button class="btn btn-primary btn-lg" ng-click="save()" ng-disabled="noServerSelected()">Save</button> <button class="btn btn-danger btn-lg" ng-click="reset()">Reset</button> </form> <h4>Preview</h4> <pre>{{lesson | json}}</pre> </div>'),a.put("views/movestepinput.html",'<div ng-form="moveStepForm" class="bg-warning"> <b>Move Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="ingeterval"><br> Move Type: <select name="moveTypeSelect" ng-model="constructingStep.stepSpecifics[0].val" ng-options="moveType for moveType in moveTypes" required></select><br> Step Product Input: <step-input-form constructing-step="constructingStep" input-name="stepInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList" step-type="move"></step-input-form><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text:<br> <pre>Place [members of ingredientInput1], ..., and [members of ingredientInputN] on [dish from DishInput] with [ingredients from DishInput]</pre> </div> </div>'),a.put("views/placestepinput.html",'<div ng-form="placeStepForm" class="bg-warning"> <b>Place Step</b><br> PlaceType: <select name="placeTypeSelect" ng-model="constructingStep.stepSpecifics[1].val" ng-options="placeType for placeType in placeTypes" required></select><br> PlaceModifier: <input type="text" ng-model="constructingStep.stepSpecifics[0].val" size="50" name="placeModifierInput"><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Ingredient Inputs (step or ingredient type): <step-input-form constructing-step="constructingStep" input-name="ingredientInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Dish Input (step or dish): <step-input-form constructing-step="constructingStep" input-name="dishProductInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text:<br> <pre>Place [members of ingredientInput1], ..., and [members of ingredientInputN] on [dish from DishInput] with [ingredients from DishInput]</pre> </div> </div>'),a.put("views/placestepitem.html",'<div> <b>Place Step</b><br> <p>Step Duration: {{step.stepDuration}}</p> <p><em>Ingredient Inputs</em></p> <div ng-repeat="input in step.ingredientInputs"> <p>SourceType: {{input.sourceType}}</p> <p>SourceId: {{input.sourceId}}</p> <p>Key: {{input.key}}</p> <br> </div> <p><em>Dish Product Input</em></p> <p>SourceType: {{step.dishProductInput.sourceType}}</p> <p>SourceId: {{step.dishProductInput.sourceId}}</p> <p>Key: {{step.dishProductInput.key}}</p> <p>Product Name: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/preheatovenstepinput.html",'<div ng-form="preheatOvenStepForm" class="bg-warning"> <b>Preheat Oven Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Oven Temperature: <input type="text" ng-model="constructingStep.stepSpecifics[0].val" required name="overTemperatureInput" size="50"><br> Product Name: <input type="text" ng-model="constructingStep.productName" required name="productInputName" size="50"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text:<br> <pre>Preheat oven to [ovenTemperature]</pre> </div> </div>'),a.put("views/preheatovenstepitem.html",'<div> <b>Preheat Oven Step</b><br> <p>Step Duration: {{step.stepDuration}}</p> <p>Oven Temperature: {{step.ovenTemperature}}</p> <p>Product Name: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/recipeadjectives.html",'<div> <h2>Recipe Adjective Input</h2> <a class="btn btn-link active" ng-href="#/recipesAdjectives">Create</a> <a class="btn btn-link" ng-href="#/editRecipeAdjectives">Edit</a> <form novalidate name="recipeAdjectiveForm"> Name: <input type="text" ng-model="recipeAdjective.name" required size="50" name="nameInput"><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-default" ng-click="reset()">Reset Form</button> <button class="btn btn-large btn-success" ng-click="save()" ng-disabled="healthModifierForm.$invalid">Save Adjective</button> </form> </div>'),a.put("views/recipenamedescriptioninput.html",'<div ng-form="recipeNameDescriptionForm"> <div class="col-md-6" ng-if="isDescription"> <textarea ng-model="textObj.description" rows="4" cols="50" name="descriptionInput" ng-focus="logText(\'description\')" ng-blur="commuteTextChanges(\'description\')"></textarea> </div> <div class="col-md-6" ng-if="isName"> <input type="text" ng-model="textObj.name" size="50" ng-focus="logText(\'name\')" ng-blur="commuteTextChanges(\'name\')" name="nameInput"> </div> <div class="col-md-2"> <p>Associated Seasonings</p> <div ng-repeat="seasoning in seasonings"> <input type="checkbox" ng-model="seasoningsIndicator[$index]" ng-click="toggleSeasoning(seasoning, $index)"> <span>{{seasoning.name}}/{{seasoning.recipeTitleAlias}}</span> </div> </div> <div class="col-md-2"> <p>Associated Modifiers</p> <div ng-repeat="modifier in modifiers"> <input type="checkbox" ng-model="modifiersIndicator[$index]" ng-click="toggleModifier(modifier, $index)"> <span>{{modifier.name}}</span> </div> </div> <div class="col-md-2"> <p>Associated Adjectives</p> <div ng-repeat="adjective in adjectives"> <input type="checkbox" ng-model="adjectivesIndicator[$index]" ng-click="toggleAdjective(adjective, $index)"> <span>{{adjective.name}}</span> </div> </div> </div>'),a.put("views/recipes.html",'<div> <h2>Recipe Input</h2> <!--Active class for one currently on--> <a class="btn btn-link active" ng-href="#/recipes">Create</a> <a class="btn btn-link" ng-href="#/editRecipeById">Edit by Id</a> <a class="btn btn-link" ng-href="#/editRecipes">Edit + Duplicate</a><br> <form novalidate name="recipeForm" ng-controller="RecipeCtrl"> <p>Collections, Ingredients, Dishes, Seasonings are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadStuff(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadStuff(\'DEVELOPMENT\')">Reload From Development</button><br><br> Default Name Body: <input type="text" ng-model="recipe.name" size="50" ng-focus="logRecipeName()" ng-blur="updateRecipeName()" required name="nameInput"> <span ng-show="recipeForm.nameInput.$invalid">give the recipe a name</span><br> <button class="btn btn-sm btn-info" ng-click="addNameBody()">Add Name Body</button><br> <!--Will need to test whether name actually goes through--> <div ng-repeat="name in nameBodies"> <recipe-name-description-input seasonings="seasoningProfiles" adjectives="recipeAdjectives" modifiers="healthModifiers" dictionary="nameDictionary" text-obj="name" type="\'name\'" preload-indicators="false"></recipe-name-description-input> <button class="btn btn-warning btn-xs" ng-click="removeNameBody($index)">Remove</button> </div><br><br> Default Description: <textarea ng-model="recipe.description" rows="4" cols="50" name="descInput"></textarea> <span ng-show="recipeForm.descInput.$invalid">give the recipe a description</span><br> <button class="btn btn-sm btn-info" ng-click="addDescription()">Add Description</button><br> <div ng-repeat="description in conditionalDescriptions"> <recipe-name-description-input seasonings="seasoningProfiles" adjectives="recipeAdjectives" modifiers="healthModifiers" dictionary="descriptionDictionary" text-obj="description" type="\'description\'" preload-indicators="false"></recipe-name-description-input> <button class="btn btn-warning btn-xs" ng-click="removeDescription($index)">Remove</button> </div><br><br> Collections: <br> <div ng-repeat="collection in recipeCollections"> <input type="checkbox" ng-model="collection.useInRecipe"> <span>{{collection.name}}</span> </div><br><br> Main Picture URLs: <div ng-repeat="url in recipe.mainPictureURLs"> <input type="url" ng-model="url.url" size="70" name="mainPicInput"><br> <button class="btn btn-xs" ng-click="removePictureURL($index)">Remove</button> </div> <button class="btn btn-sm" ng-click="addPictureURL()">Add Picture URL</button><br> Main Video: <input type="text" ng-model="recipe.mainVideo.videoId" size="70" name="mainVidIdInput" placeholder="Video Id"> <input type="text" ng-model="recipe.mainVideo.end" size="70" name="mainVidEndInput" placeholder="End Time"><br><br> RecipeType: <select name="typeSelect" ng-model="recipe.recipeType" ng-options="recipeType for recipeType in recipeTypes" required></select> <span ng-show="recipeForm.typeSelect.$invalid">select a recipe type</span><br><br> RecipeCategory: <select name="categorySelect" ng-model="recipe.recipeCategory" ng-options="recipeCategory for recipeCategory in recipeCategories" required></select> <span ng-show="recipeForm.categorySelect.$invalid">select a recipe category</span><br><br> Active Time: <input type="text" ng-pattern="integerval" ng-model="recipe.manActiveTime"><br><br> Total Time: <input type="text" ng-pattern="integerval" ng-model="recipe.manTotalTime"><br><br> Default Serving Size: <select name="servingSizeSelect" ng-model="recipe.defaultServingSize" ng-options="size for size in servingSizes" required></select><br> Primary Cooking Method: <select name="primaryCookingSelect" ng-model="recipe.primaryCookingMethod" ng-options="method for method in cookingMethods" required></select><br> <span ng-show="recipeForm.primaryCookingSelect.$invalid">select a cooking method</span> Other Cooking Methods: <select name="otherCookingSelect" ng-options="method for method in cookingMethods" ng-model="otherCookingMethod"></select> <button class="btn btn-info btn-xs" ng-click="addCookingMethod()">Add Secondary Cooking Method</button> <div ng-repeat="method in recipe.otherCookingMethods"> {{method}} <button class="btn btn-danger btn-xs" ng-click="removeCookingMethod($index)"> - </button> </div><br><br> Can Add Seasoning: <input type="checkbox" ng-model="recipe.canAddSeasoningProfile"><br><br> Default Seasoning: <select name="seasoningSelect" ng-model="recipe.defaultSeasoningProfile" ng-options="profile.name for profile in seasoningProfiles" ng-disabled="!recipe.canAddSeasoningProfile"></select><br><br> Available Seasonings: <br> <div ng-repeat="profile in seasoningProfiles" ng-if="recipe.canAddSeasoningProfile"> <input type="checkbox" ng-model="profile.useInChoiceSeasonings"> <span>{{profile.name}}/{{profile.recipeTitleAlias}}</span> </div> <h4>Ingredient List</h4> <b>Ingredient Types</b><br><br> <div ng-repeat="type in ingredientList.ingredientTypes" class="bg-warning" ng-form="typeForm"> TypeName: <input type="text" ng-model="type.typeName" size="50" required name="typeNameInput"> <span ng-show="typeForm.typeName.$invalid">give a type name</span><br><br> DisplayName: <input type="text" ng-model="type.displayName" size="50" required name="displayNameInput"> <span ng-show="typeForm.displayName.$invalid">give a display name</span><br><br> Min Ingredients Needed: <input type="text" ng-model="type.minNeeded" size="30" required name="minNeeded" ng-pattern="integerval"> <span ng-show="typeForm.minNeeded.$invalid">give a number for minNeeded</span><br><br> Ingredients: <select name="ingredientSelect" ng-model="typeIngredient" ng-options="ingredient.name.standardForm for ingredient in ingredients" ng-init="setSelectedIngredientForms(typeIngredient)" ng-change="setSelectedIngredientForms(typeIngredient)"></select> <span ng-show="type.ingredients.length === 0">there must be at least one ingredient in a type</span> <div ng-repeat="form in typeIngredient.ingredientForms"> {{form.name}}: <input type="checkbox" ng-model="selectedIngredientForms[$index]"> </div> <br> <button class="btn btn-primary btn-xs" ng-click="addTypeIngredient($index, typeIngredient)" ng-disabled="!isAFormSelected()">Add Ingredient</button><br> <div ng-repeat="ingredient in type.ingredients"> <pre>{{ingredient | json}}</pre><button class="btn btn-danger btn-xs" ng-click="removeTypeIngredient(type, $index)"> - </button> </div><br><br> <button class="btn btn-danger btn-sm" ng-click="removeIngredientType($index)">Remove Ingredient Type</button><br><br> </div> <button class="btn btn-primary btn-sm" ng-click="addIngredientType()">Add Ingredient Type</button><br><br> <b>Equipment Needed</b><br> <select name="equipmentSelect" ng-model="typeDish" ng-options="dish.name for dish in dishes"></select> <button class="btn btn-primary btn-xs" ng-click="addDish()">Add Dish</button> <div ng-repeat="dish in ingredientList.equipmentNeeded"> <pre>{{dish.name}}</pre><button class="btn btn-danger btn-xs" ng-click="removeDish($index)"> - </button> </div> Primary Ingredient Type: <select name="primaryIngredientTypeSelect" ng-model="recipe.primaryIngredientType" ng-options="type.typeName as type.typeName for type in ingredientList.ingredientTypes" required></select><br><br> <h4>Step List</h4> <div ng-form="stepForm"> <b>Add New Step: </b><br><br> StepType <select name="stepTypeSelect" ng-model="constructingStep.stepType" ng-options="stepType for stepType in stepTypes" ng-required="!recipeSanityCheck()"></select> <break-egg-step-input ng-if="constructingStep.stepType === \'BreakEgg\'"></break-egg-step-input> <cut-step-input ng-if="constructingStep.stepType === \'Cut\'"></cut-step-input> <cook-step-input ng-if="constructingStep.stepType === \'Cook\'"></cook-step-input> <bake-step-input ng-if="constructingStep.stepType === \'Bake\'"></bake-step-input> <boil-step-input ng-if="constructingStep.stepType === \'Boil\'"></boil-step-input> <bring-to-boil-step-input ng-if="constructingStep.stepType === \'BringToBoil\'"></bring-to-boil-step-input> <custom-step-input ng-if="constructingStep.stepType === \'Custom\'"></custom-step-input> <dry-step-input ng-if="constructingStep.stepType === \'Dry\'"></dry-step-input> <heat-step-input ng-if="constructingStep.stepType === \'Heat\'"></heat-step-input> <place-step-input ng-if="constructingStep.stepType === \'Place\'"></place-step-input> <preheat-oven-step-input ng-if="constructingStep.stepType === \'PreheatOven\'"></preheat-oven-step-input> <sautee-step-input ng-if="constructingStep.stepType === \'Sautee\'"></sautee-step-input> <season-step-input ng-if="constructingStep.stepType === \'Season\'"></season-step-input> <slow-cook-step-input ng-if="constructingStep.stepType === \'SlowCook\'"></slow-cook-step-input> <steam-step-input ng-if="constructingStep.stepType === \'Steam\'"></steam-step-input> <serve-step-input ng-if="constructingStep.stepType === \'Serve\'"></serve-step-input> <stir-step-input ng-if="constructingStep.stepType === \'Stir\'" is-aux-step="false" constructing-step="constructingStep" ingredient-list="ingredientList" steplist="stepList" aux-step-arr-index=""></stir-step-input> <equipment-prep-step-input ng-if="constructingStep.stepType === \'EquipmentPrep\'"></equipment-prep-step-input> <move-step-input ng-if="constructingStep.stepType === \'Move\'"></move-step-input> <br><br> </div> <button ng-disabled="stepForm.$invalid" ng-click="addStep()" class="btn btn-default">Append Step</button> <div ng-repeat="step in stepList" class="bg-info" ng-form="stepFormList"> <em>Step {{$index}}:</em> <cut-step-item ng-if="step.stepType === \'Cut\'"></cut-step-item> <cook-step-item ng-if="step.stepType === \'Cook\'"></cook-step-item> <custom-step-item ng-if="step.stepType === \'Custom\'"></custom-step-item> <bake-step-item ng-if="step.stepType === \'Bake\'"></bake-step-item> <boil-step-item ng-if="step.stepType === \'Boil\'"></boil-step-item> <bring-to-boil-step-item ng-if="step.stepType === \'BringToBoil\'"></bring-to-boil-step-item> <dry-step-item ng-if="step.stepType === \'Dry\'"></dry-step-item> <heat-step-item ng-if="step.stepType === \'Heat\'"></heat-step-item> <place-step-item ng-if="step.stepType === \'Place\'"></place-step-item> <preheat-oven-step-item ng-if="step.stepType === \'PreheatOven\'"></preheat-oven-step-item> <sautee-step-item ng-if="step.stepType === \'Sautee\'"></sautee-step-item> <season-step-item ng-if="step.stepType === \'Season\'"></season-step-item> <slow-cook-step-item ng-if="step.stepType === \'SlowCook\'"></slow-cook-step-item> <steam-step-item ng-if="step.stepType === \'Steam\'"></steam-step-item> <!--Need alterations to below once it\'s built?--> <stir-step-item ng-if="step.stepType === \'Stir\'"></stir-step-item> <equipmentprep-step-item ng-if="step.stepType === \'EquipmentPrep\'"></equipmentprep-step-item> <button ng-if="$last" ng-click="removeStep()">Remove Step</button> </div><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-warning" ng-click="reset()">Reset Recipe Form</button> <button class="btn btn-large btn-info" ng-click="preview()">Preview Recipe</button> <button class="btn btn-large btn-success" ng-click="save()" ng-disabled="recipeForm.$invalid || !recipeSanityCheck()">Save Recipe</button> <h3>Current Recipe Being Built</h3> <pre>{{recipe | json}}</pre> </form> </div>'),a.put("views/removestepinput.html",'<!--Remove [ingredients] from the [dish] //with the// [ingredientsLeftInPan] and set aside--><!--How will the step have knowledge of the previous step? stepList and ingredientList accessible--> <div ng-form="removeStepForm" class="bg-warning"> <b>Remove Step</b> Step Duration: <input type="text" name="stepDurationInput" size="30" required ng-pattern="integerval" ng-model="constructingStep.stepDuration"><br> Remove Type: <select name="removeTypeSelect" ng-model="constructingStep.stepSpecifics[0].val" ng-options="removeType for removeType in removeTypes" required></select><br> Product Input (Expects a Step): <step-input-form constructing-step="constructingStep" input-name="stepInput" step-type="remove" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"> </step-input-form><br> Types to Remove: <div ng-repeat="type in composingTypes"> <span>{{type.name}}</span> <input type="checkbox" ng-model="type.shouldRemove"> </div> Product Names: <div ng-repeat="name in constructingStep.productNames"> <input type="text" name="productNamesInput" required ng-model="name.key" placeholder="Product Name"><br> <span>Is Dish Product?</span> <input type="checkbox" ng-model="name.isDishProduct"><br> <!--What I want below: I want the checkbox action to store/remove the type from the composing product. Ideally, whether it is used would determine it\'s appearence elsewhere--> <div ng-if="!name.isDishProduct" ng-repeat="removedType in composingTypes"> <input ng-if="removedType.shouldRemove" type="checkbox" ng-model="removedType.useInProduct" ng-click="toggleProduct(name, removedType)"> </div> <button class="btn btn-xs btn-danger" ng-click="removeProduct()">Remove</button> </div> <button class="btn btn-sm btn-info">Add Product</button><br><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text:<br> <pre>Bake [ingredient1] and [ingredient2] for [bakingTime]. [auxiliaryStep1] and [auxiliaryStep2]</pre> </div> </div>'),a.put("views/sauteestepinput.html",'<div ng-form="sauteeStepForm" class="bg-warning"> <b>Sautee Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Sautee Duration: <input type="text" ng-model="constructingStep.stepSpecifics[0].val" required name="sauteeDurationInput" size="50"><br> Ingredient Inputs (step or ingredient type): <step-input-form constructing-step="constructingStep" input-name="ingredientInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Dish Input (step or dish): <step-input-form constructing-step="constructingStep" input-name="dishInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!auxStepAdded" class="btn btn-primary btn-sm" ng-click="addAuxStep()">Add Auxiliary Stir Step</button> <div ng-if="auxStepAdded"> <b>Auxiliary Stir Step:</b><br> <stir-step-input is-aux-step="true" constructing-step="constructingStep" ingredient-list="ingredientList" step-list="stepList" aux-step-arr-index=""></stir-step-input> <button class="btn btn-danger btn-xs" ng-click="removeAuxStep()">Remove Auxiliary Step</button> </div><br><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text: <br> <pre>Sautee the [members of ingredientInput1],..., and [members of ingredientInputN] for [sauteeDuration]. [auxiliaryStep]</pre> </div> </div>'),
a.put("views/sauteestepitem.html",'<div> <b>Sautee Step</b><br> <p>Step Duration: {{step.stepDuration}}</p> <p>Sautee Duration: {{step.sauteeDuration}}</p> <p><em>Ingredient Inputs</em></p> <div ng-repeat="input in step.ingredientInputs"> <p>SourceType: {{input.sourceType}}</p> <p>SourceId: {{input.sourceId}}</p> <p>Key: {{input.key}}</p> <br> </div> <p><em>Dish Product Input</em></p> <p>SourceType: {{step.dishProductInput.sourceType}}</p> <p>SourceId: {{step.dishProductInput.sourceId}}</p> <p>Key: {{step.dishProductInput.key}}</p> <p>Product Name: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/seasoningprofiles.html",'<div> <h2>Input Seasoning Profile</h2><br> <a class="btn btn-link active" ng-href="#/seasoningprofiles">Create</a> <a class="btn btn-link" ng-href="#/editSeasoningProfiles">Edit</a><br> <form novalidate name="seasoningForm"> <p>Seasonings are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadSeasonings(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadSeasonings(\'DEVELOPMENT\')">Reload From Development</button><br><br> Recipe Title Alias: <input type="text" ng-model="seasoningProfile.recipeTitleAlias" size="50" required name="prefixNameInput"><br><br> Main Name: <input type="text" ng-model="seasoningProfile.name" size="50" required name="mainNameInput"><br><br> Spices: <input type="text" ng-model="seasoningProfile.spices" size="70" required name="spiceInput"><br> <p>Comma separated values (e.g. spice1,spice2,spice3) </p><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <input type="button" class="btn btn-md" ng-click="reset()" value="Reset"> <input type="button" class="btn btn-md btn-success" ng-click="save()" value="Save" ng-disabled="seasoningForm.$invalid || noServerSelected()"> </form> <br> <h2>Current Seasoning Profiles</h2> <ul> <li ng-repeat="profile in profiles"> <p><b>Name</b>: {{profile.name}}</p> <p><b>Spices</b>: {{profile.spices}}</p> </li> </ul> </div>'),a.put("views/seasonstepinput.html",'<div ng-form="seasonStepForm" class="bg-warning"> <b>Season Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Is Oil: <input type="checkbox" ng-model="constructingStep.stepSpecifics[0].val"><br> Is Season: <input type="checkbox" ng-model="constructingStep.stepSpecifics[1].val"><br> Ingredient Input: <step-input-form constructing-step="constructingStep" input-name="ingredientInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Dish Input: <step-input-form constructing-step="constructingStep" input-name="dishInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text:<br> <pre>[isOil=Oil] and [isSeason=Season] the [ingredient1],..., and [ingredientN]</pre> </div> </div>'),a.put("views/seasonstepitem.html",'<div> <b>Season Step</b><br> <p>Step Duration: {{step.stepDuration}}</p> <p>Is Oil: {{step.isOil}}</p> <p>Is Season: {{step.isSeason}}</p> <p><em>Ingredient Input</em></p> <p>SourceType: {{step.ingredientInput.sourceType}}</p> <p>SourceId: {{step.ingredientInput.sourceId}}</p> <p>Key: {{step.ingredientInput.key}}</p> <br> <p><em>Dish Input</em></p> <p>SourceType: {{step.dishInput.sourceType}}</p> <p>SourceId: {{step.dishInput.sourceId}}</p> <p>Key: {{step.dishInput.key}}</p> <p>ProductName: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/servestepinput.html",'<div ng-form="serveStepForm" class="bg-warning"> <b>Serve Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Serve Step Text: <textarea name="serveTextInput" required ng-model="constructingStep.stepSpecifics[0].val" rows="4" cols="50"></textarea><br> Ingredient Inputs: <step-input-form constructing-step="constructingStep" input-name="ingredientInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Dish Inputs: <step-input-form constructing-step="constructingStep" input-name="dishInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> </div>'),a.put("views/slowcookstepinput.html",'<div ng-form="slowCookStepForm" class="bg-warning"> <b>SlowCook Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Slow Cook Duration: <input type="text" ng-model="constructingStep.stepSpecifics[0].val" required name="slowCookDurationInput" size="50"><br> Temperature Setting: <input type="text" ng-model="constructingStep.stepSpecifics[1].val" required name="tempSettingInput" size="50"><br> Ingredients Inputs (step or ingredient type): <step-input-form constructing-step="constructingStep" input-name="ingredientInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> ProductName: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text: <br> <pre>Slow cook the [members of ingredientInput1],..., and [members of ingredientInputN] on [temperatureSetting] for [slowCookDuration]</pre> </div> </div>'),a.put("views/slowcookstepitem.html",'<div> <b>SlowCook Step</b><br> <p>Step Duration: {{step.stepDuration}}</p> <p>SlowCook Duration: {{step.slowCookDuration}}</p> <p>Temperature Setting: {{step.tempSetting}}</p> <p><em>Ingredient Inputs</em></p> <div ng-repeat="input in step.ingredientInputs"> <p>SourceType: {{input.sourceType}}</p> <p>SourceId: {{input.sourceId}}</p> <p>Key: {{input.key}}</p> <br> </div> <p>ProductName: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/steamstepinput.html",'<div ng-form="steamStepForm" class="bg-warning"> <b>Steam Step</b><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" required name="stepDurationInput" size="30" ng-pattern="integerval"><br> Steaming Duration: <input type="text" ng-model="constructingStep.stepSpecifics[0].val" required name="steamingDurationInput" size="50"><br> Ingredient Inputs: <step-input-form constructing-step="constructingStep" input-name="ingredientInputs" is-multiple="true" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Dish Input: <step-input-form constructing-step="constructingStep" input-name="dishInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required name="productNameInput"><br> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"><br> <div ng-show="showExampleText"> Example Text: <br> <pre>Steam the [ingredient1],..., and [ingredientN] in the [steamingDish] for [steamingDuration]</pre> </div> </div>'),a.put("views/steamstepitem.html",'<div> <b>Steam Step</b><br> <p>Step Duration: {{step.stepDuration}}</p> <p>Steam Duration: {{step.steamDuration}}</p> <p><b>Ingredient Input</b></p> <p>SourceType: {{step.ingredientInput.sourceType}}</p> <p ng-if="step.ingredientInput.sourceId">SourceId: {{step.ingredientInput.sourceId}}</p> <p>Key: {{step.ingredientInput.key}}</p><br><br> <p><b>Dish Input</b></p> <p>SourceType: {{step.dishInput.sourceType}}</p> <p ng-if="step.dishInput.sourceId">SourceId: {{step.dishInput.sourceId}}</p> <p>Key: {{step.dishInput.key}}</p><br><br> <p>Product Name: {{step.productName}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/stepinputform.html",'<!--Not including checkboxes for \'isDish\' and \'isIngredient\' I don\'t believe that they need to be set here... I think that they can be set automatically based on context--> <div ng-form="stepInputSingleForm" ng-if="isMultiple === \'false\'" class="bg-info"> Source Type: <select name="sourceTypeSelect" ng-model="step.stepInputs[stepInputName].sourceType" ng-options="sourceType for sourceType in sourceTypes" required></select><br> <div ng-show="showStepId()"> SourceId: <select name="sourceIdSelect" ng-model="sourceIdStep" ng-options="step as getSourceIdSelectName(step, index) for (index, step) in stepList track by step.stepId" ng-change="registerSourceId(sourceIdStep)" ng-required="showStepId()"></select> </div> Key: <select ng-if="step.stepInputs[stepInputName].sourceType === \'StepProduct\'" name="stepKeySelect" ng-model="step.stepInputs[stepInputName].key" ng-options="product for product in getProductKeys(sourceIdStep)" ng-required="step.stepInputs[stepInputName].sourceType === \'StepProduct\'"></select> <select ng-if="step.stepInputs[stepInputName].sourceType === \'IngredientList\'" name="ingredKeySelect" ng-model="step.stepInputs[stepInputName].key" ng-options="type.typeName as type.typeName for type in ingredientList.ingredientTypes" ng-change="stepInputPropertyChange()" ng-required="step.stepInputs[stepInputName].sourceType === \'IngredientList\'"></select> <select ng-if="step.stepInputs[stepInputName].sourceType === \'EquipmentList\'" name="equipKeySelect" ng-model="step.stepInputs[stepInputName].key" ng-options="dish.name as dish.name for dish in ingredientList.equipmentNeeded" ng-change="stepInputPropertyChange()" ng-required="step.stepInputs[stepInputName].sourceType === \'EquipmentList\'"></select> </div> <div ng-if="isMultiple === \'true\'" ng-form="stepInputMultipleForm" class="bg-info" ng-repeat="input in step.stepInputs[stepInputName]"> Source Type: <select name="sourceTypeSelect" ng-model="input.sourceType" ng-options="sourceType for sourceType in sourceTypes" required></select><br> <div ng-if="showStepIdMultiple(input)"> SourceId: <select name="sourceIdSelect" ng-model="sourceIdStep[$index]" ng-options="step as getSourceIdSelectName(step, index) for (index, step) in stepList track by step.stepId" ng-change="registerSourceIdMultiple(input, $index, sourceIdStep)" ng-required="showStepIdMultiple(input)"></select> </div> Key: <select ng-if="input.sourceType === \'StepProduct\'" name="stepKeySelect" ng-model="input.key" ng-options="product for product in getProductKeys(sourceIdStep[$index])" ng-required="input.sourceType === \'StepProduct\'"></select> <select ng-if="input.sourceType === \'IngredientList\'" name="ingredKeySelect" ng-model="input.key" ng-options="type.typeName as type.typeName for type in ingredientList.ingredientTypes" ng-required="input.sourceType === \'IngredientList\'"></select> <select ng-if="input.sourceType === \'EquipmentList\'" name="equipKeySelect" ng-model="input.key" ng-options="dish.name as dish.name for dish in ingredientList.equipmentNeeded" ng-required="input.sourceType === \'EquipmentList\'"></select> <button class="btn btn-danger btn-xs" ng-click="removeInput($index)">Remove Input</button> </div> <button ng-if="isMultiple === \'true\'" class="btn btn-info btn-sm" ng-click="addInput()">Add Input</button>'),a.put("views/stirstepinput.html",'<div ng-form="stirStepForm"> <p ng-if="isAuxiliaryStep === \'true\'"><b>Auxiliary Step</b></p> <p ng-if="isAuxiliaryStep === \'false\'"><b>Stir Step</b></p> <div ng-if="isAuxiliaryStep === \'false\'"> <p>Stir Object Input</p> <step-input-form constructing-step="constructingStep" input-name="stirObjectInput" is-multiple="false" ingredient-list="ingredientList" step-list="stepList"></step-input-form><br> Step Duration: <input type="text" ng-model="constructingStep.stepDuration" size="30" required ng-pattern="integerval"><br> Product Name: <input type="text" ng-model="constructingStep.productName" size="50" required><br> When to Stir: <input type="text" ng-model="constructingStep.stepSpecifics[0].val" size="50" required><br> StirType: <select ng-model="constructingStep.stepSpecifics[1].val" ng-options="type for type in stirTypes" required></select><br> <!--Omitting the \'isAtSentenceBeginning\' property - probably hard to determine that from this vantage point--> </div> <div ng-if="isAuxiliaryStep === \'true\'"> <div ng-if="isAuxDictionary(constructingStep.stepType)"> When to Stir: <input type="text" ng-model="constructingStep.auxiliarySteps[auxStepArrIndex].stepSpecifics[0].val" size="50" required><br> StirType: <select ng-model="constructingStep.auxiliarySteps[auxStepArrIndex].stepSpecifics[1].val" ng-options="type for type in stirTypes" required></select><br> <!--Omitting the \'isAtSentenceBeginning\' property - probably hard to determine that from this vantage point--> </div> <div ng-if="!isAuxDictionary(constructingStep.stepType)"> When to Stir: <input type="text" ng-model="constructingStep.auxiliarySteps[0].stepSpecifics[0].val" size="50" required><br> StirType: <select ng-model="constructingStep.auxiliarySteps[0].stepSpecifics[1].val" ng-options="type for type in stirTypes" required></select><br> </div> </div> <div ng-if="isAuxiliaryStep === \'false\'"> <button ng-show="!tipAdded" class="btn btn-sm btn-primary" ng-click="addTip()">Add Tip</button><br> <button ng-show="tipAdded" class="btn btn-sm btn-primary" ng-click="toggleTipVisibility()">{{getTipToggleText()}}</button> <div ng-if="tipAdded"> <b>Step Tip</b><br> <div ng-if="tipIsMinimized"> Title: {{constructingStep.stepTip.title}} </div> <div ng-if="!tipIsMinimized"> Title: <input type="text" name="tipTitleInput" ng-model="constructingStep.stepTip.title" size="50"><br> Text: <textarea name="tipTextInput" ng-model="constructingStep.stepTip.text" rows="4" cols="50"></textarea><br> PictureURL: <input type="url" ng-model="constructingStep.stepTip.pictureURL" size="70" name="tipPictureInput"><br> VideoTitle: <input type="text" ng-model="constructingStep.stepTip.videoTitle" size="50" name="tipVideoTitleInput"><br> VideoInfo: <input type="text" ng-model="constructingStep.stepTip.videoInfo.videoId" size="50" name="tipVideoIdInput" placeholder="ID"> <input type="text" ng-model="constructingStep.stepTip.videoInfo.end" size="50" name="tipVideoEndInput" placeholder="End Time"><br> </div> <button class="btn btn-danger btn-xs" ng-click="removeTip()">Remove Tip</button> </div> </div> Show Example Step Text: <input type="checkbox" ng-model="showExampleText"> <br> <div ng-show="showExampleText"> Example Text:<br> <pre>[StirType] the [ingredient1], [ingredient2], and [ingredient3] [whenToStir]</pre> </div> </div>'),a.put("views/stirstepitem.html",'<div> <p ng-if="step.stirObjectInput"><b>Stir Step</b></p> <p ng-if="!step.stirObjectInput"><b>Auxiliary Step</b></p> <div ng-if="step.stirObjectInput"> <p><em>Stir Object Input</em></p> <p>SourceType: {{step.stirObjectInput.sourceType}}</p> <p ng-if="step.stirObjectInput.sourceId"> SourceId: {{step.stirObjectInput.sourceId}} </p> <p>Key: {{step.stirObjectInput.key}}</p><br> <p>StepDuration: {{step.stepDuration}}</p> <p>ProductName: {{step.productName}}</p> </div> <p ng-if="!step.stirObjectInput"> Ingredient Type: {{step.ingredientTypeName}} </p> <p>When to Stir: {{step.whenToStir}}</p> <p>Stir Type: {{step.stirType}}</p> <div ng-if="step.stepTip"> <p><b>Step Tip</b></p> <p>Title: {{step.stepTip.title}}</p> <p>Text: {{step.stepTip.text}}</p> <p ng-if="step.stepTip.pictureURL">PictureURL: {{step.stepTip.pictureURL}}</p> <p ng-if="step.stepTip.videoTitle">VideoTitle: {{step.stepTip.videoTitle}}</p> <p ng-if="step.stepTip.videoURL">VideoURL:{{step.stepTip.videoURL}}</p> </div> </div>'),a.put("views/textchunk.html",'<div ng-form="textChunkForm" class="bg-info"> Text: <textarea ng-model="textChunk.text" rows="4" cols="50" name="textChunkText" ng-trim="false"></textarea><br> Link (Optional): <br> ItemType: <select name="itemTypeSelect" ng-model="textChunk.itemType" ng-options="itemType for itemType in itemTypes"></select> <br> Item: <select name="itemSelect" ng-model="textChunk.linkedItem" ng-options="getTitle(item) for item in getItemsForType() track by item._id"></select> </div>'),a.put("views/trainingvideos.html",'<div> <h2>Input Training Videos</h2> <a class="btn btn-link" ng-href="#/trainingVideos">Create</a> <a class="btn btn-link active" ng-href="#/editTrainingVideos">Edit</a><br> <form novalidate name="trainingVideoForm"> <p>Collections are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadCollections(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadCollections(\'DEVELOPMENT\')">Reload From Development</button><br><br> Title: <input type="text" ng-model="trainingVideo.title" size="50" required name="titleInput"><br><br> Video: <input type="text" ng-model="trainingVideo.video.videoId" size="60" name="videoIdInput" placeholder="ID"> <input type="text" ng-model="trainingVideo.video.end" size="40" name="videoEndInput" placeholder="End Time"> <input type="text" ng-model="trainingVideo.video.caption" size="100" name="videoCaptionInput" placeholder="Caption"><br><br> Picture: <input type="url" ng-model="trainingVideo.picture.url" size="60" name="pictureURLInput" placeholder="URL"> <input type="text" ng-model="trainingVideo.picture.caption" size="100" name="pictureCaptionInput" placeholder="Caption"><br><br> Collections: <select name="itemCollectionSelect" ng-model="curCollectionId" ng-options="collection._id as collection.name for collection in trainingVideoCollections"></select><br> <ul> <div ng-repeat="collectionID in trainingVideo.collectionIds"> <li>{{collectionID}}</li> <button ng-click="removeCollection($index)">Remove</button> </div> </ul> <button ng-click="addCollection()">Add Collection</button><br><br> <div> Use PRODUCTION Server: <input type="checkbox" ng-model="useProdServer"><br> Use DEVELOPMENT Server: <input type="checkbox" ng-model="useDevServer"><br> </div> <button class="btn btn-large btn-default" ng-click="reset()">Reset Form</button> <button class="btn btn-large btn-success" ng-click="save()" ng-disabled="trainingVideoForm.$invalid || !trainingVideoSanityCheck()">Save Entry</button> </form> <pre>\n    {{trainingVideo | json}}\n  </pre> </div>'),a.put("views/viewallrecipes.html",'<div> <p>Recipes are currently being pulled from the {{serverType}} server</p> <button class="btn btn-primary" ng-click="reloadRecipes(\'PRODUCTION\')">Reload From Production</button> <button class="btn btn-success" ng-click="reloadRecipes(\'DEVELOPMENT\')">Reload From Development</button><br><br> <div ng-repeat="recipe in recipes"> <p>name: {{recipe.name}}</p> <p>id: {{recipe._id}}</p> <p>------------------</p> </div> </div>')}]);